var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var l=0;return function(){return l<a.length?{done:!1,value:a[l++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var l="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return l?l.call(a):$jscomp.arrayIterator(a)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,l,f){a!=Array.prototype&&a!=Object.prototype&&(a[l]=f.value)};
$jscomp.polyfill=function(a,l,f,g){if(l){f=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var b=a[g];b in f||(f[b]={});f=f[b]}a=a[a.length-1];g=f[a];l=l(g);l!=g&&null!=l&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:l})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function l(){this.batch_=null}function f(a){return a instanceof b?a:new b(function(c,t){c(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;l.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};l.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var g=$jscomp.global.setTimeout;l.prototype.asyncExecuteFunction=function(a){g(a,
0)};l.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var t=a[b];a[b]=null;try{t()}catch(e){this.asyncThrow_(e)}}}this.batch_=null};l.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var b=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var c=this.createResolveAndReject_();try{a(c.resolve,c.reject)}catch(t){c.reject(t)}};b.prototype.createResolveAndReject_=
function(){function a(a){return function(d){t||(t=!0,a.call(b,d))}}var b=this,t=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=!1}c?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(a){var c=
void 0;try{c=a.then}catch(t){this.reject_(t);return}"function"==typeof c?this.settleSameAsThenable_(c,a):this.fulfill_(a)};b.prototype.reject_=function(a){this.settle_(2,a)};b.prototype.fulfill_=function(a){this.settle_(1,a)};b.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)A.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var A=new l;b.prototype.settleSameAsPromise_=function(a){var c=this.createResolveAndReject_();a.callWhenSettled_(c.resolve,c.reject)};b.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(e){c.reject(e)}};b.prototype.then=function(a,f){function c(a,c){return"function"==typeof a?function(c){try{e(a(c))}catch(B){d(B)}}:
c}var e,d,y=new b(function(a,c){e=a;d=c});this.callWhenSettled_(c(a,e),c(f,d));return y};b.prototype["catch"]=function(a){return this.then(void 0,a)};b.prototype.callWhenSettled_=function(a,b){function c(){switch(e.state_){case 1:a(e.result_);break;case 2:b(e.result_);break;default:throw Error("Unexpected state: "+e.state_);}}var e=this;null==this.onSettledCallbacks_?A.asyncExecute(c):this.onSettledCallbacks_.push(c)};b.resolve=f;b.reject=function(a){return new b(function(c,t){t(a)})};b.race=function(a){return new b(function(c,
t){for(var e=$jscomp.makeIterator(a),d=e.next();!d.done;d=e.next())f(d.value).callWhenSettled_(c,t)})};b.all=function(a){var c=$jscomp.makeIterator(a),t=c.next();return t.done?f([]):new b(function(a,d){function e(d){return function(c){n[d]=c;b--;0==b&&a(n)}}var n=[],b=0;do n.push(void 0),b++,f(t.value).callWhenSettled_(e(n.length-1),d),t=c.next();while(!t.done)})};return b},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,f,g){var b=this.length||0;0>f&&(f=Math.max(0,b+f));if(null==g||g>b)g=b;g=Number(g);0>g&&(g=Math.max(0,b+g));for(f=Number(f||0);f<g;f++)this[f]=a;return this}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},l=Object.create(new $jscomp.global.Proxy(a,{get:function(f,g,b){return f==a&&"q"==g&&b==l}}));return!0===l.q}catch(f){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;
$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(l){return $jscomp.SYMBOL_PREFIX+(l||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.owns=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)};
$jscomp.polyfill("WeakMap",function(a){function l(){if(!a||!Object.seal)return!1;try{var c=Object.seal({}),e=Object.seal({}),d=new a([[c,2],[e,3]]);if(2!=d.get(c)||3!=d.get(e))return!1;d["delete"](c);d.set(e,4);return!d.has(c)&&4==d.get(e)}catch(y){return!1}}function f(){}function g(a){if(!$jscomp.owns(a,A)){var c=new f;$jscomp.defineProperty(a,A,{value:c})}}function b(a){var c=Object[a];c&&(Object[a]=function(a){if(a instanceof f)return a;g(a);return c(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&
$jscomp.ES6_CONFORMANCE)return a}else if(l())return a;var A="$jscomp_hidden_"+Math.random();b("freeze");b("preventExtensions");b("seal");var c=0,q=function(a){this.id_=(c+=Math.random()+1).toString();if(a){a=$jscomp.makeIterator(a);for(var e;!(e=a.next()).done;)e=e.value,this.set(e[0],e[1])}};q.prototype.set=function(a,c){g(a);if(!$jscomp.owns(a,A))throw Error("WeakMap key fail: "+a);a[A][this.id_]=c;return this};q.prototype.get=function(a){return $jscomp.owns(a,A)?a[A][this.id_]:void 0};q.prototype.has=
function(a){return $jscomp.owns(a,A)&&$jscomp.owns(a[A],this.id_)};q.prototype["delete"]=function(a){return $jscomp.owns(a,A)&&$jscomp.owns(a[A],this.id_)?delete a[A][this.id_]:!1};return q},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function l(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),e=new a($jscomp.makeIterator([[c,"s"]]));if("s"!=e.get(c)||1!=e.size||e.get({x:4})||e.set({x:4},"t")!=e||2!=e.size)return!1;var d=e.entries(),b=d.next();if(b.done||b.value[0]!=c||"s"!=b.value[1])return!1;b=d.next();return b.done||4!=b.value[0].x||"t"!=b.value[1]||!d.next().done?!1:!0}catch(n){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(l())return a;$jscomp.initSymbolIterator();var f=new WeakMap,g=function(a){this.data_={};this.head_=c();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};g.prototype.set=function(a,c){a=0===a?0:a;var d=b(this,a);d.list||(d.list=this.data_[d.id]=[]);d.entry?d.entry.value=c:(d.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,
value:c},d.list.push(d.entry),this.head_.previous.next=d.entry,this.head_.previous=d.entry,this.size++);return this};g.prototype["delete"]=function(a){a=b(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};g.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=c();this.size=0};g.prototype.has=function(a){return!!b(this,a).entry};
g.prototype.get=function(a){return(a=b(this,a).entry)&&a.value};g.prototype.entries=function(){return A(this,function(a){return[a.key,a.value]})};g.prototype.keys=function(){return A(this,function(a){return a.key})};g.prototype.values=function(){return A(this,function(a){return a.value})};g.prototype.forEach=function(a,c){for(var d=this.entries(),b;!(b=d.next()).done;)b=b.value,a.call(c,b[1],b[0],this)};g.prototype[Symbol.iterator]=g.prototype.entries;var b=function(a,c){var d=c&&typeof c;"object"==
d||"function"==d?f.has(c)?d=f.get(c):(d=""+ ++q,f.set(c,d)):d="p_"+c;var b=a.data_[d];if(b&&$jscomp.owns(a.data_,d))for(var n=0;n<b.length;n++){var e=b[n];if(c!==c&&e.key!==e.key||c===e.key)return{id:d,list:b,index:n,entry:e}}return{id:d,list:b,index:-1,entry:void 0}},A=function(a,c){var d=a.head_;return $jscomp.iteratorPrototype(function(){if(d){for(;d.head!=a.head_;)d=d.previous;for(;d.next!=d.head;)return d=d.next,{done:!1,value:c(d)};d=null}return{done:!0,value:void 0}})},c=function(){var a={};
return a.previous=a.next=a.head=a},q=0;return g},"es6","es3");$jscomp.polyfill("Math.clz32",function(a){return a?a:function(a){a=Number(a)>>>0;if(0===a)return 32;var f=0;0===(a&4294901760)&&(a<<=16,f+=16);0===(a&4278190080)&&(a<<=8,f+=8);0===(a&4026531840)&&(a<<=4,f+=4);0===(a&3221225472)&&(a<<=2,f+=2);0===(a&2147483648)&&f++;return f}},"es6","es3");
$jscomp.polyfill("Set",function(a){function l(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var f=Object.seal({x:4}),b=new a($jscomp.makeIterator([f]));if(!b.has(f)||1!=b.size||b.add(f)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;var l=b.entries(),c=l.next();if(c.done||c.value[0]!=f||c.value[1]!=f)return!1;c=l.next();return c.done||c.value[0]==f||4!=c.value[0].x||c.value[1]!=c.value[0]?!1:l.next().done}catch(q){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(l())return a;$jscomp.initSymbolIterator();var f=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};f.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};f.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};f.prototype.clear=function(){this.map_.clear();
this.size=0};f.prototype.has=function(a){return this.map_.has(a)};f.prototype.entries=function(){return this.map_.entries()};f.prototype.values=function(){return this.map_.values()};f.prototype.keys=f.prototype.values;f.prototype[Symbol.iterator]=f.prototype.values;f.prototype.forEach=function(a,b){var f=this;this.map_.forEach(function(c){return a.call(b,c,c,f)})};return f},"es6","es3");
$jscomp.polyfill("Math.hypot",function(a){return a?a:function(a,f,g){a=Number(a);f=Number(f);var b,l=Math.max(Math.abs(a),Math.abs(f));for(b=2;b<arguments.length;b++)l=Math.max(l,Math.abs(arguments[b]));if(1E100<l||1E-100>l){if(!l)return l;a/=l;f/=l;var c=a*a+f*f;for(b=2;b<arguments.length;b++){var q=Number(arguments[b])/l;c+=q*q}return Math.sqrt(c)*l}c=a*a+f*f;for(b=2;b<arguments.length;b++)q=Number(arguments[b]),c+=q*q;return Math.sqrt(c)}},"es6","es3");
$jscomp.checkStringArgs=function(a,l,f){if(null==a)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(l instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,f){var g=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var b=g.length,l=a.length,c=Math.max(0,Math.min(f|0,g.length)),q=0;q<l&&c<b;)if(g[c++]!=a[q++])return!1;return q>=l}},"es6","es3");$jscomp.findInternal=function(a,l,f){a instanceof String&&(a=String(a));for(var g=a.length,b=0;b<g;b++){var A=a[b];if(l.call(f,A,b,a))return{i:b,v:A}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6","es3");$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var f=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var g="";a;)if(a&1&&(g+=f),a>>>=1)f+=f;return g}},"es6","es3");
$jscomp.stringPadding=function(a,l){var f=void 0!==a?String(a):" ";return 0<l&&f?f.repeat(Math.ceil(l/f.length)).substring(0,l):""};$jscomp.polyfill("String.prototype.padStart",function(a){return a?a:function(a,f){var g=$jscomp.checkStringArgs(this,null,"padStart");return $jscomp.stringPadding(f,a-g.length)+g}},"es8","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,f){var g=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===f&&(f=g.length);for(var b=Math.max(0,Math.min(f|0,g.length)),l=a.length;0<l&&0<b;)if(g[--b]!=a[--l])return!1;return 0>=l}},"es6","es3");$jscomp.polyfill("String.prototype.padEnd",function(a){return a?a:function(a,f){var g=$jscomp.checkStringArgs(this,null,"padStart");return g+$jscomp.stringPadding(f,a-g.length)}},"es8","es3");
var isInNode="object"===typeof process&&"function"===typeof require&&"object"===typeof global,isInWorker="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope||isInNode;function execBoth(a,l,f){return!isInWorker&&a?a.apply(this,f||[]):isInWorker&&l?l.apply(this,f||[]):{}}function execWorker(a,l){return execBoth(void 0,a,l)}function execMain(a,l){return execBoth(a,void 0,l)}
execWorker(function(){isInNode&&(global.self=global);self.$={isArray:Array.isArray||function(a){return"array"===jQuery.type(a)},noop:function(){},now:function(){return+new Date}}});
execMain(function(){$.beacon=function(a,g){g=g||"stat.php";a="string"==typeof a?a:JSON.stringify(a);navigator.sendBeacon?navigator.sendBeacon(g,a):$.post(g,a)};window.onerror=function(a,g,b,l,c){if((b||l)&&!/extension|adsbygoogle/i.exec(g)&&/\.js/i.exec(g)){void 0==c&&(c={});var f="";try{f=$.fingerprint()}catch(t){}$.beacon({version:CSTIMER_VERSION,fp:f,msg:a,url:g,line:b,col:l,stack:c.stack},"bug.php");DEBUG&&console.log(CSTIMER_VERSION,f,a,g,b,l,c)}};for(var a="CSTIMER_VERSION LANG_SET LANG_STR LANG_CUR OK_LANG CANCEL_LANG RESET_LANG ABOUT_LANG ZOOM_LANG COPY_LANG BUTTON_TIME_LIST BUTTON_OPTIONS BUTTON_EXPORT BUTTON_DONATE PROPERTY_SR PROPERTY_USEINS PROPERTY_USEINS_STR PROPERTY_SHOWINS PROPERTY_VOICEINS PROPERTY_VOICEINS_STR PROPERTY_VOICEVOL PROPERTY_PHASES PROPERTY_TIMERSIZE PROPERTY_USEMILLI PROPERTY_SMALLADP PROPERTY_SCRSIZE PROPERTY_SCRMONO PROPERTY_SCRLIM PROPERTY_SCRALIGN PROPERTY_SCRALIGN_STR PROPERTY_SCRNEUT PROPERTY_SCRNEUT_STR PROPERTY_SCREQPR PROPERTY_SCRFAST PROPERTY_SCRKEYM PROPERTY_SCRCLK PROPERTY_SCRCLK_STR PROPERTY_WNDSCR PROPERTY_WNDSTAT PROPERTY_WNDTOOL PROPERTY_WND_STR EXPORT_DATAEXPORT EXPORT_TOFILE EXPORT_FROMFILE EXPORT_TOSERV EXPORT_FROMSERV EXPORT_FROMOTHER EXPORT_USERID EXPORT_INVID EXPORT_ERROR EXPORT_NODATA EXPORT_UPLOADED EXPORT_CODEPROMPT EXPORT_ONLYOPT EXPORT_ACCOUNT EXPORT_LOGINGGL EXPORT_LOGINWCA EXPORT_LOGOUTCFM EXPORT_LOGINAUTHED EXPORT_AEXPALERT IMPORT_FINAL_CONFIRM BUTTON_SCRAMBLE BUTTON_TOOLS IMAGE_UNAVAILABLE TOOLS_SELECTFUNC TOOLS_CROSS TOOLS_EOLINE TOOLS_ROUX1 TOOLS_222FACE TOOLS_GIIKER TOOLS_IMAGE TOOLS_STATS TOOLS_HUGESTATS TOOLS_DISTRIBUTION TOOLS_TREND TOOLS_METRONOME TOOLS_RECONS TOOLS_RECONS_NODATA TOOLS_RECONS_TITLE TOOLS_TRAINSTAT TOOLS_BLDHELPER TOOLS_CFMTIME TOOLS_SOLVERS TOOLS_DLYSTAT TOOLS_DLYSTAT1 TOOLS_DLYSTAT_OPT1 TOOLS_DLYSTAT_OPT2 TOOLS_SYNCSEED TOOLS_SYNCSEED_SEED TOOLS_SYNCSEED_INPUT TOOLS_SYNCSEED_30S TOOLS_SYNCSEED_HELP TOOLS_SYNCSEED_DISABLE TOOLS_SYNCSEED_INPUTA TOOLS_BATTLE TOOLS_BATTLE_HEAD TOOLS_BATTLE_TITLE TOOLS_BATTLE_STATUS TOOLS_BATTLE_INFO TOOLS_BATTLE_JOINALERT TOOLS_BATTLE_LEAVEALERT OLCOMP_UPDATELIST OLCOMP_VIEWRESULT OLCOMP_VIEWMYRESULT OLCOMP_START OLCOMP_SUBMIT OLCOMP_SUBMITAS OLCOMP_WCANOTICE OLCOMP_OLCOMP OLCOMP_ANONYM OLCOMP_ME OLCOMP_WCAACCOUNT OLCOMP_ABORT OLCOMP_WITHANONYM PROPERTY_IMGSIZE PROPERTY_IMGREP TIMER_INSPECT TIMER_SOLVE PROPERTY_USEMOUSE PROPERTY_TIMEU PROPERTY_TIMEU_STR PROPERTY_PRETIME PROPERTY_ENTERING PROPERTY_ENTERING_STR PROPERTY_INTUNIT PROPERTY_INTUNIT_STR PROPERTY_COLOR PROPERTY_COLORS PROPERTY_VIEW PROPERTY_VIEW_STR PROPERTY_UIDESIGN PROPERTY_UIDESIGN_STR COLOR_EXPORT COLOR_IMPORT COLOR_FAIL PROPERTY_FONTCOLOR_STR PROPERTY_COLOR_STR PROPERTY_FONT PROPERTY_FONT_STR PROPERTY_FORMAT PROPERTY_USEKSC PROPERTY_USEGES PROPERTY_NTOOLS PROPERTY_AHIDE SCRAMBLE_LAST SCRAMBLE_NEXT SCRAMBLE_SCRAMBLE SCRAMBLE_SCRAMBLING SCRAMBLE_LENGTH SCRAMBLE_INPUT PROPERTY_VRCSPEED PROPERTY_VRCMP PROPERTY_VRCMPS PROPERTY_GIIKERVRC PROPERTY_GIISOK_DELAY PROPERTY_GIISOK_DELAYS PROPERTY_GIISOK_KEY PROPERTY_GIISOK_MOVE PROPERTY_GIISOK_MOVES PROPERTY_GIISBEEP PROPERTY_GIIRST PROPERTY_GIIRSTS PROPERTY_GIIMODE PROPERTY_GIIMODES PROPERTY_VRCAH PROPERTY_VRCAHS CONFIRM_GIIRST PROPERTY_GIIAED scrdata SCRAMBLE_NOOBST SCRAMBLE_NOOBSS SCROPT_TITLE SCROPT_BTNALL SCROPT_BTNNONE SCROPT_EMPTYALT STATS_CFM_RESET STATS_CFM_DELSS STATS_CFM_DELMUL STATS_CFM_DELETE STATS_COMMENT STATS_REVIEW STATS_DATE STATS_SSSTAT STATS_SSRETRY STATS_CURROUND STATS_CURSESSION STATS_CURSPLIT STATS_EXPORTCSV STATS_SSMGR_TITLE STATS_SSMGR_NAME STATS_SSMGR_DETAIL STATS_SSMGR_OPS STATS_SSMGR_ORDER STATS_SSMGR_ODCFM STATS_SSMGR_SORTCFM STATS_ALERTMG STATS_PROMPTSPL STATS_ALERTSPL STATS_AVG STATS_SUM STATS_SOLVE STATS_TIME STATS_SESSION STATS_SESSION_NAME STATS_SESSION_NAMEC STATS_STRING STATS_PREC STATS_PREC_STR STATS_TYPELEN STATS_STATCLR STATS_ABSIDX STATS_XSESSION_DATE STATS_XSESSION_NAME STATS_XSESSION_SCR STATS_XSESSION_CALC STATS_RSFORSS PROPERTY_PRINTSCR PROPERTY_PRINTCOMM PROPERTY_PRINTDATE PROPERTY_SUMMARY PROPERTY_IMRENAME PROPERTY_SCR2SS PROPERTY_SS2SCR PROPERTY_SS2PHASES PROPERTY_STATINV PROPERTY_STATSSUM PROPERTY_STATTHRES PROPERTY_STATBPA PROPERTY_STATWPA PROPERTY_STATAL PROPERTY_STATALU PROPERTY_HLPBS PROPERTY_HLPBS_STR PROPERTY_DELMUL PROPERTY_TOOLSFUNC PROPERTY_TRIM PROPERTY_TRIMR PROPERTY_TRIM_MED PROPERTY_STKHEAD PROPERTY_TOOLPOS PROPERTY_TOOLPOS_STR PROPERTY_HIDEFULLSOL PROPERTY_IMPPREV PROPERTY_AUTOEXP PROPERTY_AUTOEXP_OPT PROPERTY_SCRASIZE MODULE_NAMES BGIMAGE_URL BGIMAGE_INVALID BGIMAGE_OPACITY BGIMAGE_IMAGE BGIMAGE_IMAGE_STR SHOW_AVG_LABEL SHOW_DIFF_LABEL SHOW_DIFF_LABEL_STR USE_LOGOHINT TOOLS_SCRGEN SCRGEN_NSCR SCRGEN_PRE SCRGEN_GEN VRCREPLAY_TITLE VRCREPLAY_ORI VRCREPLAY_SHARE GIIKER_CONNECT GIIKER_RESET GIIKER_REQMACMSG GIIKER_NOBLEMSG PROPERTY_SHOWAD PROPERTY_GIIORI LGHINT_INVALID LGHINT_NETERR LGHINT_SERVERR LGHINT_SUBMITED LGHINT_SSBEST LGHINT_SCRCOPY LGHINT_LINKCOPY LGHINT_SOLVCOPY LGHINT_SORT0 LGHINT_IMPORTED LGHINT_IMPORT0 LGHINT_BTCONSUC LGHINT_BTDISCON LGHINT_BTNOTSUP LGHINT_BTINVMAC LGHINT_AEXPABT LGHINT_AEXPSUC LGHINT_AEXPFAL".split(" "),
l=0;l<a.length;l++)window[a[l]]=window[a[l]]||"|||||||||||||||";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,g){return window.setTimeout(a,1E3/60)}}();window.localStorage||(window.localStorage={});"properties"in localStorage||"https:"==location.protocol||"localhost"==location.hostname||(location.href="https:"+location.href.substring(location.protocol.length));
window.performance&&window.performance.now&&($.now=function(){return Math.floor(window.performance.now())});$.urlParam=function(a){a=(new RegExp("[?&]"+a+"=([^&#]*)")).exec(window.location.href);return null==a?null:a[1]||0};$.hashParam=function(a){a=(new RegExp("[#&]"+a+"=([^&#]*)")).exec(window.location.hash);return null==a?null:a[1]||0};$.clearUrl=function(a){var f=(new RegExp("[?&]("+a+"=[^&#]*&?)")).exec(window.location.href);a=a?location.href.replace(f[1],"").replace(/\?$/,""):location.pathname;
history&&history.replaceState?history.replaceState(void 0,void 0,a):location.href=a};$.clearHash=function(a){var f=(new RegExp("[#&]("+a+"=[^&#]*&?)")).exec(window.location.href);a=a?location.href.replace(f[1],"").replace(/#$/,""):location.pathname+location.search;history&&history.replaceState?history.replaceState(void 0,void 0,a):location.href=a};$.clipboardCopy=function(a){if(navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(a);DEBUG&&console.log("[utillib] clipboard copy fallback");
a=$("<textarea>"+a+"</textarea>").appendTo(document.body);a.focus().select();var f=!1;try{f=document.execCommand("copy")}catch(b){}a.remove();return f?Promise.resolve():Promise.reject()};$.fingerprint=function(){var a=window.screen&&[Math.max(screen.height,screen.width),Math.min(screen.height,screen.width),screen.colorDepth].join("x"),g=(new Date).getTimezoneOffset(),b=$.map(navigator.plugins,function(a){return[a.name,a.description,$.map(a,function(a){return[a.type,a.suffixes].join("~")}).sort().join(",")].join("::")}).sort().join(";");
a=[navigator.userAgent,navigator.language,!!window.sessionStorage,!!window.localStorage,!!window.indexedDB,navigator.doNotTrack,a,g,b].join("###");return $.sha256(a)};$.delayExec=function(){var a={};return function(f,b,l){a[f]&&(clearTimeout(a[f][0]),delete a[f]);l=setTimeout(b,l);a[f]=[l,b]}}();$.waitUser=function(){var a=[];return{reg:function(f){a.push(f)},call:function(){for(var f=0;f<a.length;f++)a[f]();a=[]}}}();"serviceWorker"in navigator?$(function(){navigator.serviceWorker.register("sw.js")}):
window.applicationCache&&$(function(){applicationCache.addEventListener("updateready",function(a){applicationCache.status==applicationCache.UPDATEREADY&&(applicationCache.swapCache(),location.reload())},!1)});navigator.storage&&navigator.storage.persisted&&navigator.storage.persisted().then(function(a){if(a)return Promise.resolve(a);if(navigator.storage.persist)return navigator.storage.persist()}).then(function(a){$.persistent=a})});
(function(){$.svg=function(){function a(a,g){this.elems=[];this.width=a;this.height=g}function l(a){return parseFloat(a.toFixed(3)).toString()}a.prototype.addElem=function(a){this.elems.push(a)};a.prototype.addPoly=function(a,g,b){for(var f=[],c=0;c<a[0].length;c++)f.push(l(a[0][c])+","+l(a[1][c]));this.elems.push('<polygon points="'+f.join(" ")+'" style="fill:'+g+";stroke:"+(b||"#000")+';" />')};a.prototype.addText=function(a,g,b,A){var c="paint-order:stroke;",f;for(f in b)c+=f+":"+b[f]+";";b='dominant-baseline="middle" text-anchor="middle"';
1==A&&(b='dominant-baseline="hanging" text-anchor="start"');this.elems.push('<text x="'+l(g[0])+'" y="'+l(g[1])+'" style="'+c+'" '+b+">"+encodeURIComponent(a)+"</text>")};a.prototype.render=function(){return'<svg width="'+l(this.width)+'" height="'+l(this.height)+'" xmlns="http://www.w3.org/2000/svg">'+this.elems.join("")+"</svg>"};a.prototype.renderGroup=function(a,g,b,A){var c=Math.min(b/this.width,A/this.height);return'<g transform="translate('+l(a+(b-this.width*c)/2)+","+l(g+(A-this.height*c)/
2)+") scale("+l(c)+')">'+this.elems.join("")+"</g>"};return a}();$.ctxDrawPolygon=function(a,l,f,g){if(a){g=g||[1,0,0,0,1,0];f=$.ctxTransform(f,g);if(a instanceof $.svg)return a.addPoly(f,l);a.beginPath();a.fillStyle=l;a.moveTo(f[0][0],f[1][0]);for(l=1;l<f[0].length;l++)a.lineTo(f[0][l],f[1][l]);a.closePath();a.fill();a.stroke()}};$.ctxRotate=function(a,l){return $.ctxTransform(a,[Math.cos(l),-Math.sin(l),0,Math.sin(l),Math.cos(l),0])};$.ctxTransform=function(a){for(var l,f=1;f<arguments.length;f++){var g=
arguments[f];3==g.length&&(g=[g[0],0,g[1]*g[0],0,g[0],g[2]*g[0]]);l=[[],[]];for(f=0;f<a[0].length;f++)l[0][f]=a[0][f]*g[0]+a[1][f]*g[1]+g[2],l[1][f]=a[0][f]*g[3]+a[1][f]*g[4]+g[5]}return l};$.nearColor=function(a,l,f){var g,b;(b=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/.exec(a))&&(g=[b[1]+b[1],b[2]+b[2],b[3]+b[3]]);(b=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(a))&&(g=[b[1],b[2],b[3]]);for(a=0;3>a;a++)g[a]=parseInt(g[a],16)+(l||0),g[a]=Math.min(Math.max(g[a],0),255),g[a]=Math.round(g[a]/
17).toString(16);return"#"+(f?g[0]+g[0]+g[1]+g[1]+g[2]+g[2]:g[0]+g[1]+g[2])};$.col2std=function(a,l){var f=[];a=(a||"").match(/#[0-9a-fA-F]{3}/g)||[];for(var g=0;g<a.length;g++)f.push(~~$.nearColor(a[l[g]],0,!0).replace("#","0x"));return f};$.UDPOLY_RE="skb|m?pyr|prc|heli(?:2x2|cv)?|crz3a|giga|mgm|klm|redi|fto|ctico";$.TWISTY_RE="sq1|clk|udpoly|"+$.UDPOLY_RE})();var DEBUGM=!0,DEBUGWK=!1,DEBUG=isInWorker?DEBUGWK:DEBUGM&&!!$.urlParam("debug"),DEBUGBL=!1,ISCSTIMER=!1;
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var l=0;l<this.length;l++)if(this[l]==a)return l;return-1});
Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var l=Array.prototype.slice.call(arguments,1),f=this,g=function(){},b=function(){return f.apply(this instanceof g?this:a,l.concat(Array.prototype.slice.call(arguments)))};this.prototype&&(g.prototype=this.prototype);b.prototype=new g;return b});var isaac=function(){function a(a,d){var c=(a&65535)+(d&65535);return(a>>>16)+(d>>>16)+(c>>>16)<<16|c&65535}function l(){for(var a=c=q=t=0;256>a;++a)A[a]=e[a]=0;d=0}function f(c){function b(){v^=y<<11;f=a(f,v);y=a(y,k);y^=k>>>2;t=a(t,y);k=a(k,f);k^=f<<8;q=a(q,k);f=a(f,t);f^=t>>>16;E=a(E,f);t=a(t,q);t^=q<<10;z=a(z,t);q=a(q,E);q^=E>>>4;v=a(v,q);E=a(E,z);E^=z<<8;y=a(y,E);z=a(z,v);z^=v>>>9;k=a(k,z);v=a(v,y)}var y,k,f,t,q,E,z,r;var v=y=k=f=t=q=E=z=2654435769;c&&"number"===typeof c&&(c=[c]);if(c instanceof
Array)for(l(),r=0;r<c.length;r++)e[r&255]+="number"===typeof c[r]?c[r]:0;for(r=0;4>r;r++)b();for(r=0;256>r;r+=8)c&&(v=a(v,e[r+0]),y=a(y,e[r+1]),k=a(k,e[r+2]),f=a(f,e[r+3]),t=a(t,e[r+4]),q=a(q,e[r+5]),E=a(E,e[r+6]),z=a(z,e[r+7])),b(),A[r+0]=v,A[r+1]=y,A[r+2]=k,A[r+3]=f,A[r+4]=t,A[r+5]=q,A[r+6]=E,A[r+7]=z;if(c)for(r=0;256>r;r+=8)v=a(v,A[r+0]),y=a(y,A[r+1]),k=a(k,A[r+2]),f=a(f,A[r+3]),t=a(t,A[r+4]),q=a(q,A[r+5]),E=a(E,A[r+6]),z=a(z,A[r+7]),b(),A[r+0]=v,A[r+1]=y,A[r+2]=k,A[r+3]=f,A[r+4]=t,A[r+5]=q,A[r+
6]=E,A[r+7]=z;g();d=256}function g(d){var b,y;for(d=d&&"number"===typeof d?Math.abs(Math.floor(d)):1;d--;)for(t=a(t,1),q=a(q,t),b=0;256>b;b++){switch(b&3){case 0:c^=c<<13;break;case 1:c^=c>>>6;break;case 2:c^=c<<2;break;case 3:c^=c>>>16}c=a(A[b+128&255],c);var k=A[b];A[b]=y=a(A[k>>>2&255],a(c,q));e[b]=q=a(A[y>>>10&255],k)}}function b(){d--||(g(),d=255);return e[d]}var A=Array(256),c=0,q=0,t=0,e=Array(256),d=0;f(4294967295*Math.random());return{reset:l,seed:f,prng:g,rand:b,random:function(){return(67108864*
(b()>>>5)+(b()>>>6))/9007199254740992},internals:function(a){var b={a:c,b:q,c:t,m:A.slice(),r:e.slice(),g:d};a&&(c=a.a,q=a.b,t=a.c,A=a.m.slice(),e=a.r.slice(),d=a.g);return b}}}();var mathlib=function(){function a(a,d,c,h,b,K){var m=a[d];a[d]=a[b]^K;a[b]=a[h]^K;a[h]=a[c]^K;a[c]=m^K}function l(a){for(var m=arguments.length-1,d=a[arguments[m]];1<m;m--)a[arguments[m]]=a[arguments[m-1]];a[arguments[1]]=d;return l}function f(a,d,c,h){c=c||1;for(var m=d.length,b=[],u=0;u<m;u++)b[u]=a[d[u]];for(u=0;u<m;u++){var G=(u+c)%m;a[d[G]]=b[u];h&&(a[d[G]]+=h[G]-h[u]+h[h.length-1])}return f}function g(a,d){return a[d>>3]>>((d&7)<<2)&15}function b(a,d,c,h){var m=0;0>h&&(d<<=1);if(16<=c){a[c-
1]=0;for(var u=c-2;0<=u;u--){a[u]=d%(c-u);m^=a[u];d=~~(d/(c-u));for(var b=u+1;b<c;b--)a[b]>=a[u]&&a[b]++}0>h&&0!=(m&1)&&(d=a[c-1],a[c-1]=a[c-2],a[c-2]=d);return a}b=1985229328;var G=4275878552;for(u=0;u<c-1;u++){var D=r[c-1-u],e=d/D;d%=D;m^=e;e<<=2;32<=e?(e-=32,a[u]=G>>e&15,D=(1<<e)-1,G=(G&D)+(G>>4&~D)):(a[u]=b>>e&15,D=(1<<e)-1,b=(b&D)+(b>>>4&~D)+(G<<28),G>>=4)}0>h&&0!=(m&1)?(a[c-1]=a[c-2],a[c-2]=b&15):a[c-1]=b&15;return a}function A(a,d,c){d=d||a.length;var m=0;if(16<=d){for(var h=0;h<d-1;h++){m*=
d-h;for(var b=h+1;b<d;b++)a[b]<a[h]&&m++}return 0>c?m>>1:m}b=1985229328;var G=4275878552;for(h=0;h<d-1;h++){var e=a[h]<<2;m*=d-h;32<=e?(m+=G>>e-32&15,G-=286331152<<e-32):(m+=b>>e&15,G-=286331153,b-=286331152<<e)}return 0>c?m>>1:m}function c(a,d){var m;var c=0;for(m=d-2;0<=m;--m)c^=a%(d-m),a=~~(a/(d-m));return c&1}function q(a,d,c){var m=Math.abs(c);c=0>c?0:a[0]%m;for(--d;0<d;d--)c=c*m+a[d]%m;return c}function t(a,d,c,h){for(var m=Math.abs(h),b=m*c,u=1;u<c;u++)a[u]=d%m,b-=a[u],d=~~(d/m);a[0]=(0>h?
b:d)%m;return a}function e(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}function d(a,d,c){this.length=d;this.evenbase=c;if("p"==a)this.get=function(a){return A(a,this.length,this.evenbase)},this.set=function(a,m){return b(a,m,this.length,this.evenbase)};else if("o"==a)this.get=function(a){return q(a,this.length,this.evenbase)},this.set=function(a,m){return t(a,m,this.length,this.evenbase)};else if("c"==a){this.cnts=c.slice();this.cntn=this.cnts.length;
this.cums=[0];for(a=1;a<=this.cntn;a++)this.cums[a]=this.cums[a-1]+c[a-1];d=this.n=this.cums[this.cntn];var m=1;for(a=0;a<this.cntn;a++)for(var h=1;h<=c[a];h++,d--)m*=d/h;this.x=Math.round(m);this.get=function(a){for(var m=this.n,d=this.cnts.slice(),c=this.cums,h=-1,b=0,u=1,G=0;G<m;G++){var K=a[G];b=b*(m-G)+e(h&(1<<c[K])-1)*u;u*=d[K]--;h&=~(1<<c[K]+d[K])}return Math.round(b/u)};this.set=function(a,m){for(var d=m,c=this.n,h=this.cnts.slice(),b=this.x,u=0;u<c;u++)for(var G=0;G<h.length;G++)if(0!=h[G]){var e=
~~(b*h[G]/(c-u));if(d<e){h[G]--;a[u]=G;b=e;break}d-=e}return a}}else debugger}function y(a,c,h,b){b=b||6;if($.isArray(h)){var m=new d(h[1],h[2],h[3]);h=h[0];for(var u=0;u<b;u++){a[u]=[];for(var e=0;e<c;e++){var G=m.set([],e);h(G,u);a[u][e]=m.get(G)}}}else for(u=0;u<b;u++)for(a[u]=[],e=0;e<c;e++)a[u][e]=h(e,u)}function n(){this.ca=[0,1,2,3,4,5,6,7];this.ea=[0,2,4,6,8,10,12,14,16,18,20,22];this.ori=0}function x(a,d,c,h,b,e,n,k){var m=$.isArray(b);e=e||6;n=n||3;k=k||256;h=h||256;for(var u=0,G=c+7>>>
3;u<G;u++)a[u]=-1;$.isArray(d)||(d=[d]);for(u=0;u<d.length;u++)a[d[u]>>3]^=15<<((d[u]&7)<<2);for(u=d=0;u<=h;u++){G=0;var C=u>=k,K=u+1^15,v=C?15:u,y=C?u:15,p=0;a:for(;p<c;p++,d>>=4){if(0==(p&7)&&(d=a[p>>3],!C&&-1==d)){p+=7;continue}if((d&15)==v)for(var D=0;D<e;D++)for(var f=p,t=0;t<n;t++)if(f=m?b[D][f]:b(f,D),g(a,f)==y){++G;if(C){a[p>>3]^=K<<((p&7)<<2);continue a}a[f>>3]^=K<<((f&7)<<2)}}if(0==G)break;DEBUG&&console.log("[prun]",G)}}function k(a,c,h){this.N_STATES=h.length;this.N_MOVES=a;this.N_POWER=
c;this.stateParams=h;this.coords=[];for(a=0;a<this.N_STATES;a++)c=h[a][1],$.isArray(c)&&(this.coords[a]=new d(c[1],c[2],c[3]));this.inited=!1}function B(a,d,c,h,b,e){this.isSolved=a||function(){return!0};this.getPrun=d;this.doMove=c;this.N_AXIS=h;this.N_POWER=b;this.ckmv=e||E(h,function(a){return 1<<a})}function N(a,d,c){this.solvedStates=a;this.doMove=d;this.movesList=[];for(var m in c)this.movesList.push([m,c[m]]);this.prunTable={};this.toUpdateArr=null;this.prunTableSize=0;this.prunDepth=-1;this.cost=
0;this.MAX_PRUN_SIZE=1E5}function F(a){return~~(w.random()*a)}function E(a,d){for(var m=[],c="function"==typeof d,h=0;h<a;h++)m[h]=c?d(h):d;return m}for(var z=[],r=[1],v=0;32>v;++v){z[v]=[];for(var p=0;32>p;++p)z[v][p]=0}for(v=0;32>v;++v)for(z[v][0]=z[v][v]=1,r[v+1]=r[v]*(v+1),p=1;p<v;++p)z[v][p]=z[v-1][p-1]+z[v-1][p];n.SOLVED=new n;n.EdgeMult=function(a,d,c){for(var m=0;12>m;m++)c.ea[m]=a.ea[d.ea[m]>>1]^d.ea[m]&1};n.CornMult=function(a,d,c){for(var m=0;8>m;m++)c.ca[m]=a.ca[d.ca[m]&7]&7|((a.ca[d.ca[m]&
7]>>3)+(d.ca[m]>>3))%3<<3};n.CubeMult=function(a,d,c){n.CornMult(a,d,c);n.EdgeMult(a,d,c)};n.CentMult=function(a,d,c){c.ct=[];for(var m=0;6>m;m++)c.ct[m]=a.ct[d.ct[m]]};n.prototype.init=function(a,d){this.ca=a.slice();this.ea=d.slice();return this};n.prototype.hashCode=function(){for(var a=0,d=0;20>d;d++)a=0|31*a+(12>d?this.ea[d]:this.ca[d-12]);return a};n.prototype.isEqual=function(a){a=a||n.SOLVED;for(var d=0;8>d;d++)if(this.ca[d]!=a.ca[d])return!1;for(d=0;12>d;d++)if(this.ea[d]!=a.ea[d])return!1;
return!0};n.cFacelet=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]];n.eFacelet=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];n.ctFacelet=[4,13,22,31,40,49];n.faceMap=function(){for(var a=[],d=0;8>d;d++)for(var c=0;3>c;c++)a[n.cFacelet[d][c]]=[0,d,c];for(d=0;12>d;d++)for(c=0;2>c;c++)a[n.eFacelet[d][c]]=[1,d,c];return a}();n.prototype.toPerm=function(a,d,c,h){a=a||n.cFacelet;d=d||n.eFacelet;c=c||n.ctFacelet;for(var m=
[],b=0;54>b;b++)m[b]=b;var u=this;if(h&&u.ori)for(u=new n,h=n.rotCube[n.rotMulI[0][this.ori]],n.CubeMult(this,h,u),b=0;6>b;b++)m[c[b]]=c[h.ct[b]];for(var e=0;8>e;e++)for(c=u.ca[e]&7,b=u.ca[e]>>3,h=0;3>h;h++)m[a[e][(h+b)%3]]=a[c][h];for(a=0;12>a;a++)for(c=u.ea[a]>>1,b=u.ea[a]&1,h=0;2>h;h++)m[d[a][(h+b)%2]]=d[c][h];return m};n.prototype.toFaceCube=function(a,d,c,h){a=this.toPerm(a,d,c,h);d=[];for(c=0;54>c;c++)d[c]="URFDLB"[~~(a[c]/9)];return d.join("")};n.prototype.prettyString=function(a){var d=this.toFaceCube(null,
null,null,a);return"        U0U1U2\n        U3U4U5\n        U6U7U8\nL0L1L2  F0F1F2  R0R1R2  B0B1B2\nL3L4L5  F3F4F5  R3R4R5  B3B4B5\nL6L7L8  F6F7F8  R6R7R8  B6B7B8\n        D0D1D2\n        D3D4D5\n        D6D7D8\n".replace(/[URFDLB][0-8]/g,function(a){var c="URFDLB".indexOf(a[0]);return d[9*c+~~a[1]]+" "})};n.prototype.invFrom=function(a){for(var d=0;12>d;d++)this.ea[a.ea[d]>>1]=d<<1|a.ea[d]&1;for(d=0;8>d;d++)this.ca[a.ca[d]&7]=d|32>>(a.ca[d]>>3)&24;return this};n.prototype.fromFacelet=function(a,
d,c){d=d||n.cFacelet;c=c||n.eFacelet;for(var m=0,h=[],b=a[4]+a[13]+a[22]+a[31]+a[40]+a[49],e=0;54>e;++e){h[e]=b.indexOf(a[e]);if(-1==h[e])return-1;m+=1<<(h[e]<<2)}if(10066329!=m)return-1;var k;for(e=0;8>e;++e){for(k=0;3>k&&0!=h[d[e][k]]&&3!=h[d[e][k]];++k);a=h[d[e][(k+1)%3]];m=h[d[e][(k+2)%3]];for(b=0;8>b;++b)if(a==~~(d[b][1]/9)&&m==~~(d[b][2]/9)){this.ca[e]=b|k%3<<3;break}}for(e=0;12>e;++e)for(b=0;12>b;++b){if(h[c[e][0]]==~~(c[b][0]/9)&&h[c[e][1]]==~~(c[b][1]/9)){this.ea[e]=b<<1;break}if(h[c[e][0]]==
~~(c[b][1]/9)&&h[c[e][1]]==~~(c[b][0]/9)){this.ea[e]=b<<1|1;break}}return this};n.prototype.verify=function(){for(var a=0,d=0,h=0;12>h;h++)a|=256<<(this.ea[h]>>1),d^=this.ea[h]&1;h=[];for(var b=0;8>b;b++)a|=1<<(this.ca[b]&7),d+=this.ca[b]>>3<<1,h.push(this.ca[b]&7);return 1048575!=a||0!=d%6||c(A(this.ea,12),12)!=c(A(h,8),8)?-1:0};n.moveCube=function(){for(var a=[],d=0;18>d;d++)a[d]=new n;a[0].init([3,0,1,2,4,5,6,7],[6,0,2,4,8,10,12,14,16,18,20,22]);a[3].init([20,1,2,8,15,5,6,19],[16,2,4,6,22,10,12,
14,8,18,20,0]);a[6].init([9,21,2,3,16,12,6,7],[0,19,4,6,8,17,12,14,3,11,20,22]);a[9].init([0,1,2,3,5,6,7,4],[0,2,4,6,10,12,14,8,16,18,20,22]);a[12].init([0,10,22,3,4,17,13,7],[0,2,20,6,8,10,18,14,16,4,12,22]);a[15].init([0,1,11,23,4,5,18,14],[0,2,4,23,8,10,12,21,16,18,7,15]);for(d=0;18>d;d+=3)for(var c=0;2>c;c++)n.CubeMult(a[d+c],a[d],a[d+c+1]);return a}();n.rotCube=function(){var a=(new n).init([3,0,1,2,7,4,5,6],[6,0,2,4,14,8,10,12,23,17,19,21]);a.ct=[0,5,1,3,2,4];var d=(new n).init([5,4,7,6,1,0,
3,2],[12,10,8,14,4,2,0,6,18,16,22,20]);d.ct=[3,4,2,0,1,5];var c=(new n).init([8,20,13,17,19,15,22,10],[3,16,11,18,7,22,15,20,1,9,13,5]);c.ct=[2,0,1,5,3,4];var h=new n;h.ct=[0,1,2,3,4,5];for(var b=new n,e=[],k=0;24>k;k++)e[k]=(new n).init(h.ca,h.ea),e[k].ct=h.ct.slice(),n.CubeMult(h,a,b),n.CentMult(h,a,b),h.init(b.ca,b.ea),h.ct=b.ct.slice(),3==k%4&&(n.CubeMult(h,d,b),n.CentMult(h,d,b),h.init(b.ca,b.ea),h.ct=b.ct.slice()),7==k%8&&(n.CubeMult(h,c,b),n.CentMult(h,c,b),h.init(b.ca,b.ea),h.ct=b.ct.slice());
a=[];d=[];c=[];var p=[],v=[];for(k=0;24>k;k++)d[k]=e[k].hashCode(),c[k]=[],p[k]=[],v[k]=[];for(k=0;18>k;k++)a[k]=n.moveCube[k].hashCode();for(k=0;24>k;k++)for(var f=0;24>f;f++){n.CubeMult(e[k],e[f],h);var y=d.indexOf(h.hashCode());c[k][f]=y;p[y][f]=k}for(k=0;24>k;k++)for(f=0;18>f;f++)n.CubeMult(e[p[0][k]],n.moveCube[f],h),n.CubeMult(h,e[k],b),y=a.indexOf(b.hashCode()),v[k][f]=y;n.rotMult=c;n.rotMulI=p;n.rotMulM=v;n.rot2str=";y';y2;y;z2;y' z2;y2 z2;y z2;y' x';y2 x';y x';x';y' x;y2 x;y x;x;y z;z;y' z;y2 z;y' z';y2 z';y z';z'".split(";");
return e}();n.prototype.edgeCycles=function(){for(var a=[],d=[0,0,0],c=0,h=!1,b=0;12>b;++b)if(!a[b]){var e=-1,k=!1,n=b;do a[n]=!0,++e,k^=this.ea[n]&1,n=this.ea[n]>>1;while(n!=b);c+=e>>1;e&1&&(h=!h,++c);k&&(0==e?++d[0]:e&1?d[2]^=1:++d[1])}d[1]+=d[2];c=d[0]<d[1]?c+(d[0]+d[1]>>1):c+(d[1]+[0,2,3,5,6,8,9][d[0]-d[1]>>1]);return c-h};var H=/^\s*([URFDLB]w?|[EMSyxz]|2-2[URFDLB]w)(['2]?)(@\d+)?\s*$/,h=new n;n.prototype.selfMoveStr=function(a,d){var c=H.exec(a);if(c){var b=c[1],m="2'".indexOf(c[2]||"-")+2;
d&&(m=4-m);c[3]&&(this.tstamp=~~c[3].slice(1));this.ori=this.ori||0;var e="URFDLB".indexOf(b);if(-1!=e)return c=n.rotMulM[this.ori][3*e+m%4-1],n.CubeMult(this,n.moveCube[c],h),this.init(h.ca,h.ea),c;e="UwRwFwDwLwBw".indexOf(b);if(-1!=e){e>>=1;c=n.rotMulM[this.ori][(e+3)%6*3+m%4-1];n.CubeMult(this,n.moveCube[c],h);this.init(h.ca,h.ea);e=[3,15,17,1,11,23][e];for(b=0;b<m;b++)this.ori=n.rotMult[e][this.ori];return c}e="2-2Uw 2-2Rw 2-2Fw 2-2Dw 2-2Lw 2-2Bw".split(" ").indexOf(b);-1==e&&(e=[null,null,"S",
"E","M",null].indexOf(b));if(-1!=e){b=(e+3)%6*3+m%4-1;c=n.rotMulM[this.ori][3*e+(4-m)%4-1];n.CubeMult(this,n.moveCube[c],h);this.init(h.ca,h.ea);b=n.rotMulM[this.ori][b];n.CubeMult(this,n.moveCube[b],h);this.init(h.ca,h.ea);e=[3,15,17,1,11,23][e];for(b=0;b<m;b++)this.ori=n.rotMult[e][this.ori];return c+18}e="yxz".indexOf(b);if(-1!=e)for(e=[3,15,17][e],b=0;b<m;b++)this.ori=n.rotMult[e][this.ori]}};n.prototype.selfConj=function(a){void 0===a&&(a=this.ori);0!=a&&(n.CubeMult(n.rotCube[a],this,h),n.CubeMult(h,
n.rotCube[n.rotMulI[0][a]],this),this.ori=n.rotMulI[this.ori][a]||0)};v=function(){var a=[11,8,9,10,6,7,4,5,1,2,3,0],d=[[5,1,2,3,4],[10,6,2,0,5],[6,7,3,0,1],[7,8,4,0,2],[8,9,5,0,3],[9,10,1,0,4],[11,7,2,1,10],[11,8,3,2,6],[11,9,4,3,7],[11,10,5,4,8],[11,6,1,5,9],[6,10,9,8,7]];return{doMove:function(c,h,b,m){b=(b%5+5)%5;if(0!=b){for(var e=11*h,k=[[],[],[],[],[]],n=0;5>n;n++){var u=d[h][n],f=d[u].indexOf(h);if(0==m||1==m)k[n].push(e+n),k[n].push(e+n+5),k[n].push(11*u+f%5+5),k[n].push(11*u+f%5),k[n].push(11*
u+(f+1)%5);if(1==m||2==m){k[n].push(11*u+10);for(var C=1;5>C;C++)k[n].push(11*u+(f+C)%5+5);for(C=2;5>C;C++)k[n].push(11*u+(f+C)%5);C=4-n;var p=a[h];u=d[p][C];f=d[u].indexOf(p);k[n].push(11*p+C);k[n].push(11*p+C+5);k[n].push(11*u+10);for(C=0;5>C;C++)k[n].push(11*u+(f+C)%5+5),k[n].push(11*u+(f+C)%5)}}for(n=0;n<k[0].length;n++)mathlib.acycle(c,[k[0][n],k[1][n],k[2][n],k[3][n],k[4][n]],b)}},oppFace:a,adjFaces:d}}();p=k.prototype;p.init=function(){if(!this.inited){this.move=[];this.prun=[];for(var a=0;a<
this.N_STATES;a++){var d=this.stateParams[a],c=d[0],h=d[1],b=d[2],e=d[3];d=d[4];this.move[a]=[];this.prun[a]=[];y(this.move[a],b,h,this.N_MOVES);x(this.prun[a],c,b,e,this.move[a],this.N_MOVES,this.N_POWER,d)}this.solv=new B(null,function(a){for(var d=0,c=0;c<this.N_STATES;c++)d=Math.max(d,g(this.prun[c],a[c]));return d}.bind(this),function(a,d){for(var c=0;c<this.N_STATES;c++)a[c]=this.move[c][d][a[c]];return a}.bind(this),this.N_MOVES,this.N_POWER);this.inited=!0}};p.search=function(a,d,c){c=(c||
99)+1;this.inited||this.init();return this.sol=this.solv.solve(a,d,c)};p.toStr=function(a,d,c){for(var h=[],b=0;b<a.length;b++)h.push(d[a[b][0]]+c[a[b][1]]);return h.join(" ").replace(/ +/g," ")};p=B.prototype;p.solve=function(a,d,c,h){a=this.solveMulti([a],d,c,h);return null==a?null:a[0]};p.solveMulti=function(a,d,c,h){this.callback=h||function(){return!0};h=[];a:for(;d<=c;d++){for(var b=0;b<a.length;b++)if(this.sidx=b,0==this.idaSearch(a[b],d,-1,h))break a;this.sidx=-1}return-1==this.sidx?null:
[h,this.sidx]};p.idaSearch=function(a,d,c,h){var b=this.getPrun(a);if(b>d)return b>d+1?2:1;if(0==d)return this.isSolved(a)&&this.callback(h,this.sidx)?0:1;if(0==b&&this.isSolved(a)&&1==d)return 1;for(b=0;b<this.N_AXIS;b++)if(!(this.ckmv[c]>>b&1))for(var m=$.isArray(a)?a.slice():a,e=0;e<this.N_POWER;e++){m=this.doMove(m,b);if(null==m)break;h.push([b,e]);var k=this.idaSearch(m,d-1,b,h);if(0==k)return 0;h.pop();if(2==k)break}return 1};p=N.prototype;p.updatePrun=function(a){a=void 0===a?this.prunDepth+
1:a;for(var d=this.prunDepth+1;d<=a;d++){if(this.prevSize>=this.MAX_PRUN_SIZE){DEBUG&&console.log("[gSolver] skipPrun",d,this.prunTableSize);break}var c=+new Date;if(1>d)for(var h=this.prevSize=0;h<this.solvedStates.length;h++){var b=this.solvedStates[h];b in this.prunTable||(this.prunTable[b]=d,this.prunTableSize++)}else this.updatePrunBFS(d-1);if(0==this.cost)break;this.prunDepth=d;DEBUG&&console.log("[gSolver] updatePrun",d,this.prunTableSize-this.prevSize,+new Date-c);this.prevSize=this.prunTableSize}};
p.updatePrunBFS=function(a){if(null==this.toUpdateArr){this.toUpdateArr=[];for(var d in this.prunTable)this.prunTable[d]==a&&this.toUpdateArr.push(d)}for(;0!=this.toUpdateArr.length;){d=this.toUpdateArr.pop();for(var c=0;c<this.movesList.length;c++){var h=this.doMove(d,this.movesList[c][0]);!h||h in this.prunTable||(this.prunTable[h]=a+1,this.prunTableSize++)}if(0<=this.cost){if(0==this.cost)return;this.cost--}}this.toUpdateArr=null};p.search=function(a,d,c){this.sol=[];this.subOpt=!1;this.state=
a;this.visited={};this.maxl=d||0;return this.searchNext(c)};p.searchNext=function(a,d){a=a+1||99;this.prevSolStr=this.solArr?this.solArr.join(","):null;this.solArr=null;for(this.cost=d||-1;this.maxl<a;this.maxl++){this.updatePrun(Math.ceil(this.maxl/2));if(0==this.cost)return null;if(this.idaSearch(this.state,this.maxl,null,0))break}return this.solArr};p.getPruning=function(a){a=this.prunTable[a];return void 0===a?this.prunDepth+1:a};p.idaSearch=function(a,d,c,h){if(this.getPruning(a)>d)return!1;
if(0==d){if(-1==this.solvedStates.indexOf(a))return!1;a=this.getSolArr();this.subOpt=!0;if(a.join(",")==this.prevSolStr)return!1;this.solArr=a;return!0}if(!this.subOpt){if(a in this.visited&&this.visited[a]<h)return!1;this.visited[a]=h}if(0<=this.cost){if(0==this.cost)return!0;this.cost--}var b=null==c?"":this.movesList[c][0];c=null==c?-1:this.movesList[c][1];for(var e=this.sol[h]||0;e<this.movesList.length;e++){var m=this.movesList[e],k=m[1]^c;m=m[0];if(!(0==k||0==(k&15)&&m<=b)&&(k=this.doMove(a,
m))&&k!=a){this.sol[h]=e;if(this.idaSearch(k,d-1,e,h+1))return!0;this.sol.pop()}}return!1};p.getSolArr=function(){for(var a=[],d=0;d<this.sol.length;d++)a.push(this.movesList[this.sol[d]][0]);return a};var w=function(){function a(a,b){if(b&&(b!=h||c>a)){for(var e=[],m=0;m<b.length;m++)e[m]=b.charCodeAt(m);isaac.seed(e);d=isaac.random;c=0;h=b}for(;c<a;)d(),c++}var d,c,h,b=""+(new Date).getTime();"undefined"!=typeof crypto&&crypto.getRandomValues?(b=String.fromCharCode.apply(null,crypto.getRandomValues(new Uint16Array(256))),
DEBUG&&console.log("[mathlib] use crypto seed",b)):DEBUG&&console.log("[mathlib] use datetime seed",b);a(256,b);return{random:function(){c++;return d()},getSeed:function(){return[c,h]},setSeed:a}}(),L=/^\s*(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)\s*$/;Math.TAU=2*Math.PI;return{Cnk:z,fact:r,bitCount:e,getPruning:g,setNOri:t,getNOri:q,setNPerm:b,getNPerm:A,getNParity:c,Coord:d,createMove:y,createMoveHash:function(a,d,c,h){var b=[a],e={},m=[];e[c(a)]=0;m[0]=1;a=[];for(var k=0;k<d.length;k++)a[k]=[];for(var n=
+new Date,f=0;f<b.length;f++){f==m[m.length-1]&&m.push(b.length);9999==f%1E4&&DEBUG&&console.log(f,"states scanned, tt=",+new Date-n);var p=b[f];for(k=0;k<d.length;k++){var C=h(p,d[k]);if(C){var v=c(C);v in e||(e[v]=b.length,b.push(C));a[k][f]=e[v]}else a[k][f]=-1}}DEBUG&&console.log("[move hash] "+b.length+" states generated, tt=",+new Date-n,JSON.stringify(m));return[a,e]},edgeMove:function(d,c){0==c?a(d,0,7,8,4,1):1==c?a(d,3,6,11,7,0):2==c?a(d,0,1,2,3,0):3==c?a(d,2,5,10,6,1):4==c?a(d,1,4,9,5,0):
5==c&&a(d,11,10,9,8,0)},circle:l,circleOri:a,acycle:f,createPrun:x,CubieCube:n,minx:v,SOLVED_FACELET:"UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",fillFacelet:function(a,d,c,h,b){for(var e=0;e<a.length;e++){var m=a[e],k=void 0===c[e]?e:c[e];if("number"==typeof m)d[m]=~~(a[k]/b);else for(var n=h[e]||0,f=0;f<m.length;f++)d[m[(f+n)%m.length]]=~~(a[k][f]/b)}},detectFacelet:function(a,d,c,h,b){for(var e=0;e<a.length;e++){var k=a[e].length,m=0;a:for(;m<a.length+1;m++){if(m==a.length)return-1;
if(a[m].length==k)for(var n=0;n<k;n++){for(var f=!0,p=0;p<k;p++)if(~~(a[m][p]/b)!=d[a[e][(p+n)%k]]){f=!1;break}if(f){c[e]=m;h[e]=n;break a}}}}return 0},rn:F,rndEl:function(a){return a[~~(w.random()*a.length)]},rndProb:function(a){for(var d=0,c=0,h=0;h<a.length;h++)0!=a[h]&&(w.random()<a[h]/(d+a[h])&&(c=h),d+=a[h]);return c},rndHit:function(a){return w.random()<a},time2str:function(a,d){if(!a)return"N/A";var c=new Date(1E3*a);return(d||"%Y-%M-%D %h:%m:%s").replace("%Y",c.getFullYear()).replace("%M",
("0"+(c.getMonth()+1)).slice(-2)).replace("%D",("0"+c.getDate()).slice(-2)).replace("%h",("0"+c.getHours()).slice(-2)).replace("%m",("0"+c.getMinutes()).slice(-2)).replace("%s",("0"+c.getSeconds()).slice(-2))},str2time:function(a){a=L.exec(a);if(!a)return null;var d=new Date(0);d.setFullYear(~~a[1]);d.setMonth(~~a[2]-1);d.setDate(~~a[3]);d.setHours(~~a[4]);d.setMinutes(~~a[5]);d.setSeconds(~~a[6]);return~~(d.getTime()/1E3)},obj2str:function(a){return"string"==typeof a?a:JSON.stringify(a)},str2obj:function(a){return"string"!=
typeof a?a:JSON.parse(a)},valuedArray:E,idxArray:function(a,d){for(var c=[],h=0;h<a.length;h++)c.push(a[h][d]);return c},Solver:k,Searcher:B,rndPerm:function(a,d){for(var c=0,h=[],b=0;b<a;b++)h[b]=b;for(b=0;b<a-1;b++){var e=F(a-b);l(h,b,b+e);c^=0!=e}d&&c&&l(h,0,1);return h},permOriMult:function(a,d,c,h,b,e,k){for(var m=0;m<d.length;m++)k&&(e[m]=(h[d[m]]+b[m])%k),c[m]=a[d[m]]},gSolver:N,getSeed:w.getSeed,setSeed:w.setSeed}}();var grouplib=function(a){function l(a,b){for(var c=[],e=0;e<a.length;e++)c[e]=b[a[e]];return c}function f(a){for(var c=[],b=0;b<a.length;b++)c[a[b]]=b;return c}function g(a,b){if(a.sgs)this.copy(a);else{this.sgs=[];this.sgsi=[];this.t2i=[];this.i2t=[];this.keyIdx=[];this.Tk=[];this.e=[];for(var c=a[0].length,e=0;e<c;e++)this.e[e]=e;for(e=0;e<c;e++)this.sgs.push([]),this.sgsi.push([]),this.t2i.push([]),this.i2t.push([e]),this.Tk.push([]),this.sgs[e][e]=this.e,this.sgsi[e][e]=this.e,this.t2i[e][e]=
0;this.extend(a,b)}}function b(a){this.gens=a;this.glen=a.length;this.trieNodes=[null];this.trieNodes.push([]);this.skipSeqs=[]}function A(a,b,f){this.genG=a;this.genH=b;this.genM=f;if(!b){b=[];for(f=0;f<a[0].length;f++)b[f]=f;this.genH=[b]}}g.prototype.extend=function(a,b){for(var c=0;c<a.length;c++){var e=a[c];b&&(e=l(l(f(b),e),b));0>this.isMember(e)&&this.knutha(this.e.length-1,e)}};g.prototype.copy=function(a){this.sgs=[];this.sgsi=[];this.t2i=[];this.i2t=[];this.keyIdx=a.keyIdx.slice();this.Tk=
[];this.e=a.e;for(var c=this.e.length,b=0;b<c;b++)this.sgs[b]=a.sgs[b].slice(),this.sgsi[b]=a.sgsi[b].slice(),this.t2i[b]=a.t2i[b].slice(),this.i2t[b]=a.i2t[b].slice(),this.Tk[b]=a.Tk[b].slice()};g.prototype.toKeyIdx=function(a){var c=[];a=a||this.e;for(var b=0;b<this.keyIdx.length;b++)c[b]=a[this.keyIdx[b]];return c};g.prototype.isMember=function(a,b){b=b||0;for(var c=0,e=[],d=a.length-1;d>=b;d--){for(var f=a[d],n=0;n<e.length;n++)f=e[n][f];if(f!==d){if(!this.sgs[d][f])return-1;e.push(this.sgsi[d][f])}c=
c*this.i2t[d].length+this.t2i[d][f]}return c};g.prototype.isSubgroupMemberByKey=function(a,b){for(var c=0,e=[],d=0;d<this.keyIdx.length;d++){for(var f=this.keyIdx[d],n=a[d],x=0;x<e.length;x++)n=e[x][n];if(n!==f){if(!b.sgs[f][n])return-1;e.push(b.sgsi[f][n])}c=c*b.i2t[f].length+b.t2i[f][n]}return c};g.prototype.knutha=function(a,b){this.Tk[a].push(b);for(var c=0;c<this.sgs[a].length;c++)this.sgs[a][c]&&this.knuthb(a,l(this.sgs[a][c],b))};g.prototype.knuthb=function(a,b){var c=b[a];if(this.sgs[a][c])c=
l(b,this.sgsi[a][c]),0>this.isMember(c)&&this.knutha(a-1,c);else for(this.sgs[a][c]=b,this.sgsi[a][c]=f(b),this.t2i[a][c]=this.i2t[a].length,this.i2t[a].push(c),2==this.i2t[a].length&&(this.keyIdx.push(a),this.keyIdx.sort(function(a,d){return d-a})),c=0;c<this.Tk[a].length;c++)this.knuthb(a,l(b,this.Tk[a][c]))};g.prototype.size=function(a){for(var c=this.sgs.length,b=a?BigInt(1):1,e=0;e<c;e++)b*=a?BigInt(this.i2t[e].length):this.i2t[e].length;return b};g.prototype.minElem=function(a,b){a=f(a);for(var c=
0;c<this.keyIdx.length;c++){for(var e=this.keyIdx[c],d=a[e],y=e,n=1;n<this.i2t[e].length;n++){var x=this.i2t[e][n];a[x]>d&&(d=a[x],y=x)}y!==e&&(a=l(this.sgs[e][y],a))}return f(a)};g.prototype.listCoset=function(a){var c=[this.e.slice()],b=1,e=this.keyIdx.length-1;a:for(;0<=e;e--){var d=this.keyIdx[e];if(this.i2t[d].length!=a.i2t[d].length){b*=this.i2t[d].length;b/=a.i2t[d].length;for(var f=0,n=c.length;f<n;f++){var x=c[f],k=1;b:for(;k<this.i2t[d].length;k++){for(var B=this.i2t[d][k],g=l(x,this.sgs[d][B]),
F=1;F<a.i2t[d].length;F++)if(g[a.i2t[d][F]]>B)continue b;c.push(g);if(c.length>=b)continue a}}console.log("[grouplib] listCoset ERROR, Not enough coset representatives")}}return c};g.prototype.rndElem=function(){for(var c=this.e.slice(),b=this.e.length-1;0<=b;b--){for(var f=0,e=0,d=0;d<=b;d++)this.sgs[b][d]&&1>a(++f)&&(e=d);e!==b&&(c=l(c,this.sgsi[b][e]))}return c};b.prototype.addSkipSeq=function(a){this.skipSeqs.push(a.slice());for(var c=1,b=0;b<a.length;b++){var e=~~this.trieNodes[c][a[b]];if(-1==
e)break;if(b==a.length-1){this.trieNodes[c][a[b]]=-1;break}if(0>=e)for(e=this.trieNodes.length,this.trieNodes.push([]),this.trieNodes[c][a[b]]=e,c=0;c<this.glen;c++)this.updateNext(a.slice(0,b+1).concat(c));c=e}};b.prototype.traversalTrie=function(a,b,f){if(!(0>=a)){for(var c=0;c<this.glen;c++)b.push(c),this.traversalTrie(~~this.trieNodes[a][c],b,f),b.pop();f(a,b)}};b.prototype.updateNext=function(a){for(var c=1,b=0;b<a.length;b++){var e=~~this.trieNodes[c][a[b]];0==e&&(e=this.updateNext(a.slice(1,
b+1)),e=0<e?~e:e,this.trieNodes[c][a[b]]=e);if(-1==e)return-1;0>e&&(e=~e);c=e}return c};b.prototype.refillNext=function(){this.traversalTrie(1,[],function(a,b){for(var c=0;c<this.glen;c++){var e=~~this.trieNodes[a][c];-1!=e&&e<=a&&(this.trieNodes[a][c]=0)}}.bind(this));this.traversalTrie(1,[],function(a,b){for(var c=0;c<this.glen;c++){0==(c&31)&&(this.trieNodes[a][this.glen+(c>>5)]=0);var e=~~this.trieNodes[a][c];-1!=e&&e<=a&&this.updateNext(b.concat(c));-1==~~this.trieNodes[a][c]&&(this.trieNodes[a][this.glen+
(c>>5)]|=1<<(c&31))}}.bind(this))};b.prototype.countSeq=function(a,b){for(var c=b?BigInt(0):0,e=b?[BigInt(0),BigInt(1)]:[0,1],d=b?[BigInt(0),BigInt(1)]:[1],f=0;f<a;f++){for(var n=[],x=c,k=1;k<this.trieNodes.length;k++){var B=e[k]||c;if(0!=B)for(var g=0;g<this.glen;g++){var q=~~this.trieNodes[k][g];-1!=q&&(q=0>q?~q:q,n[q]=(n[q]||c)+B,x+=B)}}e=n;d.push(x)}return d};b.prototype.countSeqMove=function(a,b,f){var c=[];c[f*this.trieNodes.length+1-1]=1;f=[];for(var d=0;d<a;d++){for(var y=[],n=[],x=0,k=0;k<
b[0].length;k++)for(var B=1;B<this.trieNodes.length;B++){var g=c[k*this.trieNodes.length+B-1]||0;if(0!=g)for(var q=0;q<this.glen;q++){var l=~~this.trieNodes[B][q];if(-1!=l){l=0>l?~l:l;var t=b[q][k];l=t*this.trieNodes.length+l-1;y[l]=(y[l]||0)+g;n[t]=(n[t]||0)+g;x+=g}}}c=y;f.push(n,x)}return f};b.prototype.initTrie=function(a){this.trieNodes=[null];this.trieNodes.push([]);this.refillNext();for(var b=[],c=0;c<this.gens[0].length;c++)b[c]=c;c=new Map;for(var e=0;e<=a;e++)this.searchSkip(b,e,[],1,c),
this.refillNext()};b.prototype.searchSkip=function(a,b,f,e,d){if(0==b)a=String.fromCharCode.apply(null,a),d.has(a)?this.addSkipSeq(f):d.set(a,f.slice());else for(var c=0;c<this.glen;c++){var n=this.trieNodes[e][c];if(-1!=n){0>n&&(n=~n);var x=l(this.gens[c],a);f.push(c);this.searchSkip(x,b-1,f,n,d);f.pop()}}};A.prototype.permHash=function(a){return String.fromCharCode.apply(null,a)};A.prototype.midCosetHash=function(a){return null==this.sgsM?this.sgsG.isMember(f(a),this.sgsMdepth):this.permHash(this.sgsM.minElem(a))};
A.prototype.initTables=function(a){if(!this.coset2idx){a=a||1E5;this.sgsH=new g(this.genH);this.sgsG=new g(this.sgsH);this.sgsG.extend(this.genG);var c=this.sgsG.size()/this.sgsH.size();this.isCosetSearch=1<this.sgsH.size();var t=1;if(this.genM)this.sgsM=new g(this.genM),t=this.sgsG.size()/this.sgsM.size();else if(1==this.sgsH.size()){this.sgsM=null;this.sgsMdepth=0;for(var e=this.sgsG.e.length-1;0<=e&&!(t*this.sgsG.i2t[e].length>a);e--)this.sgsMdepth=e,t*=this.sgsG.i2t[e].length}else c<=a?(this.sgsM=
new g(this.genH),t=c):(this.sgsM=null,this.sgsMdepth=this.sgsG.e.length);this.clen=t;DEBUG&&console.log("[Subgroup Solver] coset space:",c,"mid coset size:",t);this.genEx=[];this.genExi=[];this.genExMap=[];var d=new Map;d.set(this.permHash(this.sgsG.e),-1);for(e=0;e<this.genG.length;e++){a=this.genG[e];for(var y=1;;){c=this.permHash(a);if(d.has(c))break;d.set(c,this.genEx.length);this.genEx.push(a);this.genExi.push(f(a));this.genExMap.push([e,y]);a=l(this.genG[e],a);y++}}this.glen=this.genEx.length;
for(e=0;e<this.glen;e++)a=f(this.genEx[e]),this.genExMap[e][2]=d.get(this.permHash(a));this.canon=new b(this.genEx);this.canon.initTrie(2);this.canoni=new b(this.genEx);for(e=0;e<this.canon.skipSeqs.length;e++){a=this.canon.skipSeqs[e].slice();a.reverse();for(d=0;d<a.length;d++)a[d]=this.genExMap[a[d]][2];this.canoni.addSkipSeq(a)}this.canoni.refillNext();this.moveTable=[];this.idx2coset=[this.sgsG.e];this.coset2idx={};for(e=this.coset2idx[this.midCosetHash(this.sgsG.e)]=0;e<this.idx2coset.length;e++){if(e>=
t){console.log("ERROR!");break}a=this.idx2coset[e];for(d=0;d<this.glen;d++)1==this.genExMap[d][1]&&(y=l(this.genEx[d],a),c=this.midCosetHash(y),c in this.coset2idx||(this.coset2idx[c]=this.idx2coset.length,this.idx2coset.push(y)),this.moveTable[e*this.glen+d]=this.coset2idx[c])}t=null;for(d=0;d<this.glen;d++)if(1==this.genExMap[d][1])t=d;else for(e=0;e<this.clen;e++)this.moveTable[e*this.glen+d]=this.moveTable[this.moveTable[e*this.glen+d-1]*this.glen+t];this.prunTable=this.initPrunTable(this.sgsG.e);
DEBUG&&console.log("[Subgroup Solver] prun table size:",this.prunTable[0].length)}};A.prototype.idaMidSearch=function(a,b,f,e,d,y,n,x,k){var c=x[0][a];if(c>b)return!1;if(0==b){if(a>=this.clen){d.push(-1);var g=l(y,n),q=k(d,g);d.pop();return q}return k(d,y)}if(a>=this.clen&&0!=f&&(q=x[3][a-this.clen],d.push(-1),g=l(y,n),q=this.idaMidSearch(q,b,1,e,d,g,n,x,k),d.pop(),q))return q;f=e[f||1];for(var E=a*(this.glen+31>>5),t=0;t<this.glen;t+=32){var r=f[this.glen+(t>>5)];r|=c>=b-1?x[c-b+2][E+(t>>5)]:0;for(r=
~r&(32<=this.glen-t?-1:(1<<this.glen-t)-1);0!=r;){g=31-Math.clz32(r);r-=1<<g;g+=t;q=a%this.clen;q=this.moveTable[q*this.glen+g]+a-q;if(DEBUG&&x[0][q]>=b)debugger;var v=f[g];d.push(g);g=l(y,this.genExi[g]);q=this.idaMidSearch(q,b-1,v^v>>31,e,d,g,n,x,k);d.pop();if(q)return q}}return!1};A.prototype.initPrunTable=function(a,b){for(var c=this.coset2idx[this.midCosetHash(a)],e=[],d=[],f=[],n=this.glen+31>>5,x=0;x<this.clen;x++)e[x]=-1;var k=[];if(b){for(x=0;x<this.clen;x++)e.push(-1,-1),k[x]=this.coset2idx[this.midCosetHash(l(a,
this.idx2coset[x]))],k[k[x]+this.clen]=x;e[0]=0}else e[c]=0;c=1;for(var B=x=0;c!=x;){x=c;for(var g=0;g<e.length;g++)if(e[g]==B){for(var q=g%this.clen,E=g-q,z=0;z<this.glen;z++){var r=this.moveTable[q*this.glen+z]+E,v=e[r];-1==e[r]&&(e[r]=B+1,v=B+1,c++);v>B&&(d[g*n+(z>>5)]|=1<<(z&31));v>=B&&(f[g*n+(z>>5)]|=1<<(z&31))}if(b&&0==E)for(z=0;2>z;z++)r=k[q+(1-z)*this.clen]+(z+1)*this.clen,-1==e[r]&&(e[r]=B,c++)}B++}return[e,d,f,k,B]};A.prototype.checkPerm=function(a){this.initTables();return 0<=this.sgsH.isMember(a)?
1:0>this.sgsG.isMember(a)?2:0};A.ONLY_IDA=1;A.ALLOW_PRE=2;A.prototype.DissectionSolve=function(a,b,g,e){var d=performance.now();this.initTables();DEBUG&&console.log("[Subgroup Solver] finished init tables, tt=",performance.now()-d);if(0>this.sgsG.isMember(a))console.log("[Subgroup Solver] NOT A MEMBER OF G");else{var c=this.coset2idx[this.midCosetHash(a)];if(c||0===c){var n=0!=(g&A.ONLY_IDA),x=0!=(g&A.ALLOW_PRE)&&this.isCosetSearch,k=null;g=this.prunTable;var B=null;x&&(g=B=this.initPrunTable(a,x),
c=this.clen);DEBUG&&console.log("[Subgroup Solver] finish init searching, prun value:",g[0][c],"tt=",performance.now()-d);for(var q=g[0][c];q<=b;q++){var t=0,E=0,z=f(a);if(n||q<=this.prunTable[4])k=this.idaMidSearch(x?this.clen:c,q,1,this.canon.trieNodes,[],this.sgsG.toKeyIdx(x?null:z),z,g,function(a,d){t++;if(!(0>this.sgsG.isSubgroupMemberByKey(d,this.sgsH))){for(var b=[],c=0;c<a.length;c++)b.push(-1==a[c]?-1:this.genExMap[a[c]].slice(0,2));return e?e(b):b}}.bind(this)),DEBUG&&console.log("[Subgroup Solver] ida ",
t+E,"node(s) checked at",q,"tt=",performance.now()-d);else{var r=~~(q/2);B||(B=this.initPrunTable(a,x));for(var v=x?2:1,p=0,H=[],h=0;h<this.clen*v;h++){var w=h,L=h+(x?h>=this.clen?-this.clen:2*this.clen:0);if(!(g[0][w]>r||B[0][L]>q-r)){p++;var m=new Map,D=0,G=0;k=this.isCosetSearch?this.sgsG.e:this.sgsG.toKeyIdx();this.idaMidSearch(w,r,0,this.canon.trieNodes,[],k,z,g,function(a,d){if(this.isCosetSearch){var b=this.sgsH.minElem(d);b=this.permHash(b)}else b=this.permHash(d);D++;var c=m.get(b)||[];c.push(a.slice());
m.set(b,c)}.bind(this));k=this.idaMidSearch(L,q-r,1,this.canoni.trieNodes,[],k,a,B,function(d,b){var c=x?b:l(b,a);if(this.isCosetSearch){c=this.sgsH.minElem(c);var h=this.permHash(c)}else h=this.permHash(c);G++;if(m.has(h)){c=[];for(var k=1,f=0;f<d.length;f++){var n=d[d.length-1-f];n=-1==n?-1:this.genExMap[n][2];k=-1==n?1:this.canon.trieNodes[k][n];if(DEBUG&&-1==k)debugger;k^=k>>31;c.push(-1==n?-1:this.genExMap[n].slice(0,2))}h=m.get(h);for(f=0;f<h.length;f++){for(var p=c.slice(),C=k,v=0;v<h[f].length;v++){n=
h[f][v];C=-1==n?1:this.canon.trieNodes[C][n];if(-1==C)break;C^=C>>31;p.push(-1==n?-1:this.genExMap[n].slice(0,2))}if(-1!=C&&(n=e?e(p):p))return n}}}.bind(this));H.push([h,D,G]);t+=D;E+=G;if(k)break}}DEBUG&&console.log("[Subgroup Solver] dis ",t+E,"node(s) checked at",q,"tt=",performance.now()-d)}if(k)break}return k}console.log("[Subgroup Solver] ERROR!")}};A.prototype.godsAlgo=function(a){this.initTables();for(var b=0,c=0;c<this.clen;c++)for(var e=new Set,d=0;d<=a;d++){var f=this.isCosetSearch?this.sgsG.e:
this.sgsG.toKeyIdx();this.idaMidSearch(c,d,1,this.canon.trieNodes,[],f,null,this.prunTable,function(a,d){if(this.isCosetSearch){var c=this.sgsH.minElem(d);c=this.permHash(c)}else c=this.permHash(d);e.has(c)||(b++,e.add(c))}.bind(this))}return b};return{permMult:l,permInv:f,permCmp:function(a,b){if(a.length!=b.length)return a.length-b.length;for(var c=a.length-1;0<=c;c--)if(a[c]!=b[c])return a[c]-b[c];return 0},CanonSeqGen:b,SchreierSims:g,SubgroupSolver:A}}(mathlib.rn);var poly3d=function(){function a(a,b,c){this.x=a;this.y=b;this.z=c}function l(a,b){var d=Math.cos(b),c=Math.sin(b),e=1-d,f=a.x,y=a.y,g=a.z,l=e*f,q=e*y;this.mat=[l*f+d,l*y-c*g,l*g+c*y,l*y+c*g,q*y+d,q*g-c*f,l*g-c*y,q*g+c*f,e*g*g+d]}function f(a,b){this.norm=a;this.dis="number"==typeof b?b:1}function g(a,b,c){this.ct=a;this.radius=b;c&&(this.norm=c)}function b(a,b){this.p1=a;this.p2=b}function A(a,b,c,e){this.p1=a;this.p2=b;this.ct=c;this.norm=e;this._fu=this.p1.add(this.ct,-1).normalized();this._fv=
this.norm.outprod(this._fu);this._radius=this.ct.abs(a);a=this.p2.add(this.ct,-1);this._ang=(Math.atan2(this._fv.inprod(a),this._fu.inprod(a))+2*Math.PI+1E-6)%(2*Math.PI)-1E-6}function c(d){this.paths=d.slice();for(var b,c=0;c<d.length;c++){if(d[c].ct){b=d[c].norm;break}var e=d[0].p2.add(d[0].p1,-1).outprod(d[1].p2.add(d[1].p1,-1));if(e.abs()>1E-6*10){b=e.normalized();break}}this.area=0;if(b){e=new a(0,0,0);for(c=1;c<d.length-1;c++){var k=d[c].p1.add(d[0].p1,-1).outprod(d[c].p2.add(d[c].p1,-1)).inprod(b)/
2;e=e.add(d[0].p1,k/3);e=e.add(d[c].p1,k/3);e=e.add(d[c].p2,k/3);this.area+=k}for(c=0;c<d.length;c++)if(d[c].ct){var f=d[c],g=4*f._radius*Math.pow(Math.sin(f._ang/2),3)/3/(f._ang-Math.sin(f._ang));k=Math.pow(f._radius,2)*(f._ang-Math.sin(f._ang))/2*f.norm.inprod(b);f=f.ct.add(f.norm.outprod(f.p2.add(f.p1,-1)).normalized(),-g);e=e.add(f,k);this.area+=k}this.center=e.scalar(1/this.area);this.norm=0<this.area?b:b.scalar(-1);this.area=Math.abs(this.area);this.dis=this.norm.inprod(d[0].p1)}}function q(a,
b,c){this.facePlanes=a.slice();this.faceNames=c.slice();this.faceUVs=[];for(c=0;c<a.length;c++){var d=a[c].norm,e=b[c];e=e.add(d,-e.inprod(d)).normalized();d=e.outprod(d);this.faceUVs[c]=[d,e]}this.makeFacePolygons()}function t(a,b,c,e){return{parseScramble:function(a,d,b,c){if(!c||/^\s*$/.exec(c))return[];b&&(c=b(c));var e=[];c.replace(a,function(){var a=d.apply(null,arguments);a&&e.push([""+a[0]+a[1],a[2]])});return e}.bind(null,a,b,e),move2str:function(a,d){var b=/^(\d+)([a-zA-Z]+)$/.exec(d[0]);
if(!b){debugger;return""}return a(~~b[1],b[2],d[1])}.bind(null,c)}}var e=a.prototype;e.abs=function(a){return a?Math.hypot(this.x-a.x,this.y-a.y,this.z-a.z):Math.hypot(this.x,this.y,this.z)};e.add=function(d,b){void 0===b&&(b=1);return new a(this.x+d.x*b,this.y+d.y*b,this.z+d.z*b)};e.scalar=function(d){return new a(this.x*d,this.y*d,this.z*d)};e.normalized=function(){var d=Math.hypot(this.x,this.y,this.z);return 1E-6>d?new a(1,0,0):new a(this.x/d,this.y/d,this.z/d)};e.inprod=function(a){return this.x*
a.x+this.y*a.y+this.z*a.z};e.outprod=function(d){return new a(this.y*d.z-this.z*d.y,this.z*d.x-this.x*d.z,this.x*d.y-this.y*d.x)};e.triangleArea=function(a,b){var d=a.x-this.x,c=a.y-this.y,e=a.z-this.z,f=b.x-this.x,g=b.y-this.y,y=b.z-this.z;return Math.hypot(c*y-e*g,e*f-d*y,d*g-c*f)/2};e=l.prototype;e.perform=function(d){var b=this.mat;return new a(b[0]*d.x+b[1]*d.y+b[2]*d.z,b[3]*d.x+b[4]*d.y+b[5]*d.z,b[6]*d.x+b[7]*d.y+b[8]*d.z)};f.prototype.side=function(a){return this.norm.inprod(a)-this.dis};g.prototype.side=
function(a){return(this.ct.abs(a)-Math.abs(this.radius))*(0<this.radius?1:-1)};e=b.prototype;e.getMid=function(){return this.p1.add(this.p2).scalar(.5)};e.genMids=function(){return[]};e.slice=function(a,c){return new b(a,c)};e.revert=function(){return new b(this.p2,this.p1)};e.rankKey=function(a){return this.p2.add(this.p1,-1).inprod(a)};e.intersect=function(a){var b=[];if(a instanceof f){var c=this.p1.inprod(a.norm)-a.dis,d=this.p2.inprod(a.norm)-a.dis;if(1E-6>Math.abs(c-d))return[];a=-c/(d-c);1E-6>
Math.abs(a)||1E-6>Math.abs(a-1)?b.push(1E-6>Math.abs(a)?this.p1:this.p2):0<a&&1>a&&b.push(this.p1.scalar(1-a).add(this.p2,a))}else if(a instanceof g){c=Math.pow(this.p1.abs(this.p2),2);d=2*this.p2.add(this.p1,-1).inprod(this.p1.add(a.ct,-1));a=Math.pow(this.p1.abs(a.ct),2)-Math.pow(a.radius,2);var e=d*d-4*c*a;if(0>=e)return[];for(var B=-1;2>B;B+=2)a=(-d+B*Math.sqrt(e))/(2*c),1E-6>Math.abs(a)||1E-6>Math.abs(a-1)?b.push(1E-6>Math.abs(a)?this.p1:this.p2):0<a&&1>a&&b.push(this.p1.scalar(1-a).add(this.p2,
a))}return b};e=A.prototype;e.getMid=function(){return this.ct.add(this._fu,Math.cos(this._ang/2)*this._radius).add(this._fv,Math.sin(this._ang/2)*this._radius)};e.genMids=function(){for(var a=Math.ceil(this._ang/Math.PI*180/10),b=[],c=0;c<a-1;c++){var e=this._ang/a*(c+1);b.push(this.ct.add(this._fu,Math.cos(e)*this._radius).add(this._fv,Math.sin(e)*this._radius))}return b};e.slice=function(a,b){return new A(a,b,this.ct,this.norm)};e.revert=function(){return new A(this.p2,this.p1,this.ct,this.norm.scalar(-1))};
e.rankKey=function(a){a=a.add(this.ct,-1);return Math.atan2(this._fv.inprod(a),this._fu.inprod(a))};e.intersect=function(a){if(a instanceof f){var b=this._radius*a.norm.inprod(this._fv);var c=this._radius*a.norm.inprod(this._fu);var d=a.dis-a.norm.inprod(this.ct)}else if(a instanceof g){var e=this.ct.add(a.ct,-1);b=this._radius*e.inprod(this._fv);c=this._radius*e.inprod(this._fu);d=((a.radius+this._radius)*(a.radius-this._radius)-Math.pow(this.ct.abs(a.ct),2))/2}e=Math.atan2(-b,c);c=d/Math.hypot(b,
c);if(1<=Math.abs(c))return[];b=[];c=Math.acos(c);for(d=-1;2>d;d+=2){var B=(d*c-e+4*Math.PI+1E-6)%(2*Math.PI)-1E-6;-1E-6<B&&B<this._ang+1E-6&&b.push(B)}b.sort(function(a,b){return a-b});for(e=0;e<b.length;e++)b[e]=1E-6>Math.abs(b[e])||1E-6>Math.abs(b[e]-this._ang)?1E-6>Math.abs(b[e])?this.p1:this.p2:this.ct.add(this._fu,Math.cos(b[e])*this._radius).add(this._fv,Math.sin(b[e])*this._radius);for(e=0;e<b.length;e++){if(1E-6<Math.abs(a.side(b[e])))debugger;if(1E-6<Math.abs(this.ct.abs(b[e])-this._radius))debugger;
if(1E-6<Math.abs(this.norm.inprod(this.ct)-this.norm.inprod(b[e])))debugger}return b};e=c.prototype;c.fromVertices=function(a){for(var d=[],e=0;e<a.length;e++)d.push(new b(a[e],a[(e+1)%a.length]));return new c(d)};e.projection=function(a){for(var b=[],c=0;c<this.paths.length;c++)for(var d=[this.paths[c].p1].concat(this.paths[c].genMids()),e=0;e<d.length;e++){for(var f=[],g=0;g<a.length;g++)f.push(d[e].inprod(a[g]));b.push(f)}return b};e.split=function(d){for(var e=[[],[]],n=0,l=0>d.side(this.center)?
1:0,k=0;k<this.paths.length;k++){var B=this.paths[k],q=B.intersect(d);n+=q.length;for(var t=B.p1,E=0;E<q.length;E++)1E-6<t.abs(q[E])&&(t=B.slice(t,q[E]),e[0>d.side(t.getMid())?1:0].push(t),t=q[E]);1E-6<t.abs(B.p2)&&(B=t==B.p1?B:B.slice(t,B.p2),q=d.side(B.getMid()),e[1E-6>Math.abs(q)?l:0>q?1:0].push(B))}if(d instanceof f){if(0==n)return 0==e[0].length?[[],[this]]:[[this],[]];var z=new b(new a(0,0,0),d.norm.outprod(this.norm))}else if(d instanceof g){z=d.ct.add(this.norm,-this.norm.inprod(d.ct)+this.dis);
k=Math.pow(d.radius,2)-Math.pow(this.dis-this.norm.inprod(d.ct),2);if(0>=k)return 0==e[0].length?[[],[this]]:[[this],[]];k=Math.sqrt(k);k=this.paths[1].p1.add(this.paths[0].p1,-1).normalized().scalar(k).add(z);z=new A(k,k,z,this.norm.scalar(0<d.radius?-1:1))}d=[[],[]];for(n=0;2>n;n++){l=[];q=e[n];k=0;for(E=q.length;k<E;k++)B=(k+1)%E,1E-6<q[k].p2.abs(q[B].p1)&&l.push([B,z.rankKey(q[B].p1),q[B].p1]);l.sort(function(a,b){return a[1]-b[1]});t=0;for(var r=[];t<q.length;){var v=[];for(k=0;r[k];)k++;for(;;){B=
q[k];v.push(B);r[k]=1;t++;if(1E-6>B.p2.abs(v[0].p1))break;k=(k+1)%E;if(!(1E-6>B.p2.abs(q[k].p1))){var p=z.rankKey(B.p2),H=0;for(k=0;k<l.length;k++)if(l[k][1]>p){H=k;break}k=l[H][0];l.splice(H,1);v.push(z.slice(B.p2,q[k].p1));if(1E-6>q[k].p1.abs(v[0].p1))break}}k=new c(v);1E-6<k.area?d[n].push(k):console.log("invalid path length",v,k)}z=z.revert()}return d};e.trim=function(a){for(var b=this,c=0;c<this.paths.length;c++){var d=this.paths[c];if(d instanceof A){var e=(0<this.norm.inprod(d.norm)?1:-1)*
d._radius;b=b.split(new g(d.ct,e-a/2))[1][0]}else e=d.p2.add(d.p1,-1).outprod(this.norm).normalized(),d=e.inprod(d.p2),b=b.split(new f(e,d-a/2))[1][0];if(!b)return null}return b};e=q.prototype;e.setTwisty=function(a,b){this.twistyPlanes=a.slice();this.twistyDetails=b.slice();this._twistyCache={};for(var c=0;c<b.length;c++)2==this.twistyDetails[c].length&&this.twistyDetails[c].push(c);this.cutFacePolygons();this.makeMoveTable()};e.getTwistyIdx=function(a){if(a in this._twistyCache)return this._twistyCache[a];
var b=/^(\d*)([A-Z][A-Za-z]*)$/.exec(a);if(!b)return-1;for(var c=new RegExp(b[1]+"(?=[A-Z])"),d=b[2].split(/(?=[A-Z])/g),e={},f=0,g=0;g<d.length;g++)void 0==e[d[g]]&&(e[d[g]]=new RegExp(d[g]+"(?=[A-Z]|$)"),f++);d=[99,-1];for(g=0;g<this.twistyDetails.length;g++){var q=this.twistyDetails[g][0];if(c.exec(q)){var l=q.length-b[1].length,t;for(t in e)if(e[t].exec(q))l-=t.length;else{l=99;break}l<d[0]&&(d=[l,g])}}this._twistyCache[a]=1==f&&0!=d[0]?-1:d[1];return this._twistyCache[a]};e.makeFacePolygons=
function(){this.facesPolys=[];for(var a=0;a<this.facePlanes.length;a++){var b=this.facePlanes[a].norm.scalar(this.facePlanes[a].dis),e=this.faceUVs[a];b=c.fromVertices([b.add(e[0],100),b.add(e[1],100),b.add(e[0],-100),b.add(e[1],-100)]);for(e=0;e<this.facePlanes.length;e++)if(e!=a&&(b=b.split(this.facePlanes[e])[1][0],!b)){debugger;break}this.facesPolys[a]=[b]}};e.cutFacePolygons=function(){var a=this.twistyPlanes.slice();a.sort(function(a,b){return(a.ct?1:0)-(b.ct?1:0)});for(var b=0;b<a.length;b++){var c=
a[b];this.enumFacesPolys(function(a,b,d){d=d.split(c);d=Array.prototype.concat.apply([],d);this.facesPolys[a][b]=d[0];for(b=1;b<d.length;b++)this.facesPolys[a].push(d[b])}.bind(this))}};e.enumFacesPolys=function(a){for(var b=0,c=0;c<this.facesPolys.length;c++)for(var d=this.facesPolys[c],e=d.length,f=0;f<e;f++){if(a(c,f,d[f],b))return;b++}};e.makeMoveTable=function(){this.moveTable=[];var b=[],c=(new a(1,2,3)).normalized();this.enumFacesPolys(function(a,d,e,f){b[f]=[f,c.inprod(e.center),e.center]}.bind(this));
b.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<this.twistyDetails.length;e++){for(var f=[],k=[],g=2;g<this.twistyDetails[e].length;g++)k.push(this.twistyPlanes[this.twistyDetails[e][g]]);var q=new l(k[0].norm,2*Math.PI/this.twistyDetails[e][1]);this.enumFacesPolys(function(a,d,e,n){for(d=0;d<k.length;d++)if(0>k[d].side(e.center)){f[n]=-1;return}e=q.perform(e.center);a=c.inprod(e);d=0;for(var v=b.length-1;v>d;){var p=v+d>>1;b[p][1]<a-1E-6?d=p+1:v=p}for(;d<b.length;d++){if(b[d][1]>a+1E-6)debugger;
if(1E-6>e.abs(b[d][2])){f[n]=b[d][0];break}}}.bind(this));this.moveTable.push(f)}};return{Point:a,RotTrans:l,Plane:f,Sphere:g,Segment:b,Arc:A,Polygon:c,makePuzzle:function(b,c,e,l,k,B,t){function d(a,b,c,d,h){if(d&&0!=d.length){if(!h){h=[];for(var e=0;e<d.length;e++)h[e]=e}for(e=0;e<a.length;e++){for(var m=w.length,k=0;k<d.length;k++)"number"==typeof d[k]?w.push(new f(a[e],d[k])):w.push(new g(a[e].scalar(d[k][0]),d[k][1],a[e]));for(k=0;k<h.length;k++){for(var p=[k+""+b[e],c],v="number"==typeof h[k]?
[h[k]]:h[k],n=0;n<v.length;n++)p.push(v[n]+m);L.push(p)}}}}var n=[],y=[],r=[],v=3,p=3;if(4==b)n=[new a(0,-1,0),new a(-Math.sqrt(6)/3,1/3,-Math.sqrt(2)/3),new a(Math.sqrt(6)/3,1/3,-Math.sqrt(2)/3),new a(0,1/3,Math.sqrt(8)/3)],y=[3,2,1,new a(0,1,0)],r=["D","L","R","F"];else if(6==b)n=[new a(0,1,0),new a(1,0,0),new a(0,0,1)],y=[5,0,0,2,0,0],r="URFDLB".split(""),v=4;else if(8==b)n=[new a(0,1,0),new a(Math.sqrt(6)/3,1/3,Math.sqrt(2)/3),new a(-Math.sqrt(6)/3,1/3,Math.sqrt(2)/3),new a(0,-1/3,Math.sqrt(8)/
3)],y=n[0].add(n[3],-1),y=[7,y,y,0,7,y,y,0],r="U R L F D Bl Br B".split(" "),p=4;else if(12==b){n=[new a(0,Math.sqrt(5),0)];for(var H=0;5>H;H++)n.push(new a(2*Math.sin(.4*H*Math.PI),1,2*Math.cos(.4*H*Math.PI)));y=[7,0,3,7,7,4,7,0,3,7,7,4];r="U F R Br Bl L D B Dbl Dl Dr Dbr".split(" ");v=5}else if(20==b){for(H=0;5>H;H++){p=Math.sqrt(5)+1;var h=Math.sqrt(5)+3;n.push(new a(p*Math.sin(.4*H*Math.PI),Math.sqrt(5)+2,p*Math.cos(.4*H*Math.PI)));n.push(new a(h*Math.sin(.4*H*Math.PI),1,h*Math.cos(.4*H*Math.PI)));
y[2*H]=2*H+11;y[2*H+1]=2*H;y[2*H+10]=2*H+11;y[2*H+11]=2*H}r="U F Ur R Ubr Br Ubl Bl Ul L D B Dl Lb Dfl Fl Dfr Fr Dr Rb".split(" ");p=5}else debugger;if(4!=b)for(H=0,b=n.length;H<b;H++)n[H]=n[H].normalized(),n.push(n[H].scalar(-1));b=[];for(H=0;H<n.length;H++)b.push(new f(n[H])),"number"==typeof y[H]&&(y[H]=n[y[H]]);y=new q(b,y,r);var w=[],L=[];d(n,r,v,c,k);if(e&&0<e.length){var m=[],x=[];y.enumFacesPolys(function(a,b,c){var d=c.paths[c.paths.length-1].p1;for(b=0;b<c.paths.length;b++){var h=c.paths[b].p1;
d=h.add(d).normalized();for(var e=0;e<m.length;e++)if(1E-6>d.abs(m[e])){x[e]+=r[a];d=null;break}d&&(m.push(d),x.push(r[a]));d=h}});d(m,x,2,e,B)}if(l&&0<l.length){var G=[],u=[];y.enumFacesPolys(function(a,b,c){for(b=0;b<c.paths.length;b++){for(var d=c.paths[b].p1.normalized(),h=0;h<G.length;h++)if(1E-6>d.abs(G[h])){u[h]+=r[a];d=null;break}d&&(G.push(d),u.push(r[a]))}});d(G,u,p,l,t)}y.setTwisty(w,L);DEBUG&&console.log("[poly3dlib] create puzzle: ",y);return y},renderNet:function(a,b,c){var d=[],e=a.facePlanes.length;
b=b||0;var f=[0,0];if(4==e)b=Math.sqrt(6)*(1+b),e=b/Math.sqrt(3),d=[[2*b,4*e],[1*b,1*e],[3*b,1*e],[2*b,2*e]],f=[4*b,6*e];else if(6==e)b=1+b,d=[[3*b,b],[5*b,3*b],[3*b,3*b],[3*b,5*b],[b,3*b],[7*b,3*b]],f=[8*b,6*b];else if(8==e)e=Math.sqrt(6)*(1+b)/2/Math.sqrt(3),b=Math.sqrt(3),d=[[3*e,1*e,b,1],[5*e,3*e,1,b],[1*e,3*e,1,b],[3*e,5*e,b,1],[9*e,5*e,b,1],[11*e,3*e,1,b],[7*e,3*e,1,b],[9*e,1*e,b,1]],f=[12*e,6*e];else if(12==e){var n=(Math.sqrt(5)+1)/2;b=Math.sqrt(3-n)/Math.pow(n,2)*(1+b);e=b*Math.tan(.3*Math.PI)*
2;f=b*(1+2*n);var g=b*(1/Math.sin(.2*Math.PI)+2*Math.cos(.1*Math.PI));n=b*(4+5*n);b=e+b/Math.cos(.3*Math.PI);d[0]=[f,g];d[6]=[n,b];for(var q=0;5>q;q++)d[1+q]=[f+Math.cos(Math.PI*(.5-.4*q))*e,g+Math.sin(Math.PI*(.5-.4*q))*e],d[7+q]=[n+Math.cos(Math.PI*(1.5+.4*q))*e,b+Math.sin(Math.PI*(1.5+.4*q))*e];f=[f+n,g+b]}else if(20==e){n=(Math.sqrt(5)+1)/2;b=Math.sqrt(3)/Math.pow(n,2)*(1+b);for(q=0;5>q;q++)d[2*q]=[((5+2*q)%10+1)*b,2*b/Math.sqrt(3)],d[2*q+1]=[((5+2*q)%10+1)*b,4*b/Math.sqrt(3)],d[2*q+10]=[(1+2*
q)%10*b,7*b/Math.sqrt(3)],d[2*q+11]=[(1+2*q)%10*b,5*b/Math.sqrt(3)];f=[11*b,9*b/Math.sqrt(3)]}else debugger;var l=[],r=[];a.enumFacesPolys(function(b,e,f,h){if(!(f.area<c)){e=f.projection(a.faceUVs[b]);f=d[b];for(var k=[[],[]],p=0;p<e.length;p++)k[0][p]=f[0]+e[p][0]*(f[2]||1),k[1][p]=f[1]-e[p][1]*(f[3]||1);k[2]=b;l[h]=k;r[b]=r[b]||[f[0],f[1],a.faceNames[b]]}});return[f,l,r]},makeParser:t,makePuzzleParser:function(a){return t(/(?:^|\s*)(?:\[([a-zA-Z]+)(\d*)(')?\]|(\d*)([A-Z][a-zA-Z]*)(\d*)(')?)(?:$|\s*)/g,
function(a,b,c,d,e,f,g,q,l){b=c?"0":""==f?"1":f;g=c||g;c=(c?""==d?1:~~d:""==q?1:~~q)*(e||l?-1:1);g.match(/[A-Z][a-z]*/g);if(-1!=a.getTwistyIdx(b+g))return[b,g,c]}.bind(null,a),function(a,b,c){b=b+(1==Math.abs(c)?"":Math.abs(c))+(0>c?"'":"");return 0==a?"["+b+"]":b})},getFamousPuzzle:function(a,b){var c=1,d=.075,e=[];if(/^(\d)\1\1$/.exec(a)){var f=/^(\d)\1\1$/.exec(a);f=~~f[1];var g=[6,[-5]];for(var q=0;q<f>>1;q++)g[1].push(1-2*(q+1)/f)}else if("pyr"==a||"mpyr"==a){g=[4,[],[],{pyr:[-5,5/3,1/3],mpyr:[-5,
2,1,0]}[a]];c=.51;d=.14;var l=t(/(?:^|\s*)(?:([URLBurlb])(w?)(')?|\[([urlb])(')?\])(?:$|\s*)/g,function(a,b,c,d,e,f){a=["LRF","DRF","DLF","DLR"]["URLB".indexOf((b||e).toUpperCase())];return[e?0:c?3:b==b.toUpperCase()?2:1,a,d||f?-1:1]},function(a,b,c){b="urlb".charAt(["LRF","DRF","DLF","DLR"].indexOf(b));c=0>c?"'":"";return["["+b+c+"]",b+c,b.toUpperCase()+c,b.toUpperCase()+"w"+c][a]})}else if("fto"==a)g=[8,[-5,1/3],[],[-5]],l=t(/(?:^|\s*)\[?([URFDLT]|(?:B[RL]?))(')?(\])?(?:$|\s*)/g,function(a,b,c,
d){return[d||"T"==b?0:1,"T"==b?"URLF":b[0]+b.slice(1).toLowerCase(),c?-1:1]},function(a,b,c){b=(3<b.length?"T":b.toUpperCase())+(0<c?"":"'");return 0==a?"["+b+"]":b});else if("klm"==a||"mgm"==a||"prc"==a||"giga"==a)g=[12,{klm:[-5,.57,-.57],mgm:[-5,.72,-.72],giga:[-5,.83,-.83,.66,-.66],prc:[-5,.4472136,-.4472136]}[a]],c=1.18,d=.05,l=t(/(?:^|\s*)(?:([DLRdlr])(\+\+?|--?)|([UuFfy]|D?B?[RL]|d?b?[rl]|[DdBb])(\d?)('?)|\[([ufrl])(\d?)('?)\])(?:$|\s*)/g,function(a,b,c,d,e,f,m,k,n){return b?(d="DLRdlr".indexOf(b),
[2<d?4:2,["D","Dbl","Dbr"][d%3],("-"==c[0]?-1:1)*c.length]):d?(c=(f?-1:1)*(~~e||1),"y"==d[0]?[0,"U",c]:["a"<=d[0]?3:1,d[0].toUpperCase()+d.slice(1).toLowerCase(),c]):[0,m.toUpperCase(),(n?-1:1)*(~~k||1)]},function(a,b,c){c=(c+7)%5-2;var d=(1==Math.abs(c)?"":Math.abs(c))+(0<=c?"":"'");if(0==a)return"["+b.toLowerCase()+d+"]";if(2==a||4==a)return d=0<c?"+":"-",b="DLR".charAt(["D","Dbl","Dbr"].indexOf(b)),(4==a?b.toLowerCase():b)+d+(2==Math.abs(c)?d:"");if(1==a)return b.toUpperCase()+d;if(3==a)return b.toLowerCase()+
d},function(a){/^(\s*([+-]{2}\s*)+U'?\s*\n?)*$/.exec(a)&&(a=tools.carrot2poch(a));return a});else if("heli"==a||"helicv"==a||"heli2x2"==a)g={heli:[6,[-5],[-5,Math.sqrt(.5)],[-5]],helicv:[6,[-5],[-5,[2*Math.sqrt(2),-Math.sqrt(5)]],[-5]],heli2x2:[6,[-5,0],[-5,[Math.sqrt(2),-.6]],[-5,[Math.sqrt(3),-.7]]]}[a],d=.05;else if(/^crz3a$/.exec(a))g=[6,[-5,.3333,[1,.75]],[],[],[0,[1,2]]],l=t(/(?:^|\s*)([URFDLBxyz])(\d*)(')?(?:$|\s*)/g,function(a,b,c,d){a=(""==c?1:~~c)*(d?-1:1);return-1!="xyz".indexOf(b)?[0,
"RUF".charAt("xyz".indexOf(b)),a]:[1,b,a]},function(a,b,c){c=(1==Math.abs(c)?"":Math.abs(c))+(0<=c?"":"'");return(0==a?"xyz".charAt("RUF".indexOf(b)):b)+c});else if(/^redi$/.exec(a)){g=[6,[-5],[],[-5,.85]];var A="URF UFL ULB URB RFD FDL DLB RDB R U F".split(" ");l=t(/(?:^|\s*)([FLBRflbrxyz])(')?(?:$|\s*)/g,function(a,b,c,d){a="FLBRflbrxyz".indexOf(b);return[8<=a?0:1,A[a],c?-1:1]},function(a,b,c){return"FLBRflbrxyz".charAt(A.indexOf(b))+(0<=c?"":"'")},function(a){return/^(([LR]'? ){3,}x ){3,}/.exec(a)?
a.replace(/L/g,"B"):a})}else if(/^skb$/.exec(a)){g=[6,[-5],[],[-5,0]];var r="URF UFL ULB URB RFD FDL DLB RDB R U F".split(" ");l=t(/(?:^|\s*)([FlUrDLBRxyz])(')?(?:$|\s*)/g,function(a,b,c,d){a="FlUrDLBRxyz".indexOf(b);return[8<=a?0:1,r[a],c?-1:1]},function(a,b,c){return"FlUrDLBRxyz".charAt(r.indexOf(b))+(0<=c?"":"'")})}else if("ctico"==a)g=[20,[],[],[-5,0]];else return null;f=g[0];4==f?e=$.col2std(kernel.getProp("colpyr"),[3,1,2,0]):6==f?e=$.col2std(kernel.getProp("colcube"),[3,4,5,0,1,2]):8==f?e=
$.col2std(kernel.getProp("colfto"),[0,3,1,2,6,7,5,4]):12==f?e=$.col2std(kernel.getProp("colmgm"),[0,2,1,5,4,3,11,9,8,7,6,10]):20==f&&(e=$.col2std(kernel.getProp("colico"),[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]));b=b||{};b.parser=l;b.polyParam=g;b.scale=(b.scale||1)*c;b.pieceGap=d;b.colors=e;return b},udpolyre:new RegExp("^("+$.UDPOLY_RE+")$"),parsePolyParam:function(a){a=a.split(/\s+/g);for(var b=[[4,6,8,12,20]["tcodi".indexOf(a[0])],[-5],[-5],[-5]],c=1,d=1;d<a.length;d++)if(/^[fev]$/.exec(a[d]))c=
" fev".indexOf(a[d]);else if(/^[+-]?\d+(?:\.\d+)?$/.exec(a[d]))b[c].push(parseFloat(a[d]));else if(/^\d+(?:\.\d+)?r[+-]?\d+(?:\.\d+)?$/.exec(a[d])){var e=a[d].split("r");b[c].push([parseFloat(e[0]),-parseFloat(e[1])])}return b}}}();var pat3x3=function(){function a(b,f,c,q,l,e,d,y){var n=2*(f*d+c)+q;if(!y&&n in l)return l[n];if(b==e.length)return l[n]=0==c&&0==q?1:0,l[n];for(var t=0,k=[],B=0;B<e[b].length;B++){k[B]=0;var A=e[b][B][0];f>>A&1||(k[B]=a(b+1,f|1<<A,(c+e[b][B][1])%d,q^g(f>>A)&1,l,e,d),t+=k[B])}if(y)return n=e[b][mathlib.rndProb(k)],y[b]=n,a(b+1,f|1<<n[0],(c+n[1])%d,q^g(f>>n[0])&1,l,e,d,y);l[n]=t;return l[n]}function l(a,f,c){for(var b=c.length,g=c[0].length,e=[],d=0;d<b;d++){e[d]=[];for(var l=0;l<b;l++)for(var n=0;n<
g;n++){for(var x=!0,k=0;k<g;k++){var B=a[c[d][k]];if(-1!=B&&B!=f[c[l][(g-n+k)%g]]){x=!1;break}}x&&e[d].push([l,n])}}return e}function f(b,f){b=b.split("");f=(f||mathlib.SOLVED_FACELET).split("");for(var c=0;c<b.length;c++)b[c]="URFDLB-XYZ".indexOf(b[c]),f[c]="URFDLB-XYZ".indexOf(f[c]);c=l(b,f,mathlib.CubieCube.cFacelet);for(var g=l(b,f,mathlib.CubieCube.eFacelet),t=[],e=[],d={},A={},n=0;2>n;n++)t[n]=a(0,0,0,n,d,c,3),e[n]=a(0,0,0,n,A,g,2);return[t,e,d,A,c,g]}var g=mathlib.bitCount;return{calcPattern:f,
genPattern:function(b,f,c,g,l,e){var d=~~mathlib.rndHit(b[1]*f[1]/(b[0]*f[0]+b[1]*f[1]));b=[];f=[];a(0,0,0,d,c,l,3,b);a(0,0,0,d,g,e,2,f);c=new mathlib.CubieCube;for(g=0;8>g;g++)c.ca[g]=8*b[g][1]+b[g][0];for(g=0;12>g;g++)c.ea[g]=2*f[g][0]+f[g][1];return c.toFaceCube()},genPatternGroup:function(b){var g=f(b,b);b=g[0];var c=g[1],l=g[2],t=g[3],e=g[4];g=g[5];var d=b[0]*c[0]+b[1]*c[1],y=null;do{var n=Math.random()<b[1]*c[1]/(b[0]*c[0]+b[1]*c[1])?1:0,x=[],k=[];a(0,0,0,n,l,e,3,x);a(0,0,0,n,t,g,2,k);n=new mathlib.CubieCube;
for(var B=0;8>B;B++)n.ca[B]=8*x[B][1]+x[B][0];for(B=0;12>B;B++)n.ea[B]=2*k[B][0]+k[B][1];x=n.toPerm();y?y.extend([x]):y=new grouplib.SchreierSims([x]);DEBUG&&console.log("[pat3x3] gen group ",y.size(),d)}while(y.size()<d);return y}}}();var min2phase=function(){function a(){this.move=[];this.moveSol=[];this.nodeUD=[];this.valid1=0;this.allowShorter=!1;this.cc=new b;this.urfCubieCube=[];this.urfCoordCube=[];this.phase1Cubie=[];this.preMoveCubes=[];this.preMoves=[];this.maxPreMoves=this.preMoveLen=0;this.isRec=!1;for(var a=0;21>a;a++)this.nodeUD[a]=new n,this.phase1Cubie[a]=new b;for(a=0;6>a;a++)this.urfCubieCube[a]=new b,this.urfCoordCube[a]=new n;for(a=0;20>a;a++)this.preMoveCubes[a+1]=new b}function l(a,b,c){a[b>>3]^=c<<(b<<2)}
function f(a,b,c){return Math.min(a,b[c>>3]>>(c<<2)&15)}function g(a,b,c){a=ja[a];c&&(a^=14540032>>((a&15)<<1)&3);return a&65520|M[a&15][b]}function b(){this.ca=[0,1,2,3,4,5,6,7];this.ea=[0,1,2,3,4,5,6,7,8,9,10,11]}function A(a,b,c){c--;for(var d=1985229328,e=0;e<c;++e){var h=z[c-e],f=~~(b/h);b%=h;f<<=2;a[e]=a[e]&240|d>>f&15;h=(1<<f)-1;d=(d&h)+(d>>4&~h)}a[c]=a[c]&240|d&15}function c(a,b){for(var c=0,d=1985229328,e=0;e<b-1;++e){var h=(a[e]&15)<<2;c=(b-e)*c+(d>>h&15);d-=286331152<<h}return c}function q(a,
b,c){a[c-1]&=240;for(var d=c-2;0<=d;--d){a[d]=a[d]&240|b%(c-d);b=~~(b/(c-d));for(var e=d+1;e<c;++e)(a[e]&15)>=(a[d]&15)&&(a[e]+=1)}}function t(a,b){for(var c=0,d=0;d<b;++d){c*=b-d;for(var e=d+1;e<b;++e)(a[e]&15)<(a[d]&15)&&++c}return c}function e(a,b){for(var c=0,d=4,e=a.length-1;0<=e;e--)(a[e]&12)==b&&(c+=E[e][d--]);return c}function d(a,b,c){for(var d=a.length-1,e=4,h=d;0<=d;d--)b>=E[d][e]?(b-=E[d][e--],a[d]=a[d]&240|e|c):((h&12)==c&&(h-=4),a[d]=a[d]&240|h--)}function y(a,b){for(var c=0,d=b-2;0<=
d;d--)c^=a%(b-d),a=~~(a/(b-d));return c&1}function n(){this.flipc=this.twstc=this.prun=this.slice=this.flip=this.twst=0}function x(){function a(a,c,d,e,h,f,m){for(var g=new b,k=new b,C=0,n=2<=h?1:2,p=1!=h?b.EdgeConjugate:b.CornConjugate,v=0;v<a;v++)if(void 0===d[v]){f.call(g,v);for(var w=0;16>w;w+=n){p(g,w,k);var u=m.call(k);0==h&&(X[C<<3|w>>1]=u);u==v&&(e[C]|=1<<w/n);d[u]=(C<<4|w)/n}c[C++]=v}return C}function c(a,b,c,e,f,m,g,C){for(var k=0;k<c;k++){f.call(d,b[k]);for(var n=0;n<e;n++)g(d,J[C?C[n]:
n],h),a[k*e+n]=m.call(h)}}for(var d=new b,h=new b,f=(new b).initCoord(28783,0,259268407,0),m=(new b).initCoord(15138,0,119765538,7),k=(new b).initCoord(5167,0,83473207,0),g=0;8>g;g++)k.ca[g]|=48;for(g=0;16>g;g++)K[g]=(new b).init(d.ca,d.ea),b.CornMultFull(d,m,h),b.EdgeMult(d,m,h),d.init(h.ca,h.ea),3==g%4&&(b.CornMultFull(d,k,h),b.EdgeMult(d,k,h),d.init(h.ca,h.ea)),7==g%8&&(b.CornMultFull(d,f,h),b.EdgeMult(d,f,h),d.init(h.ca,h.ea));for(g=0;16>g;g++)M[g]=[],P[g]=[],S[g]=[],Q[g]=[],T[g]=[];for(g=0;16>
g;g++)for(f=0;16>f;f++)M[g][f]=g^f^84660>>f&g<<1&2,P[M[g][f]][f]=g;d=new b;for(g=0;16>g;g++)for(f=0;18>f;f++){b.CornConjugate(J[f],P[0][g],d);m=0;a:for(;18>m;m++){for(k=0;8>k;k++)if(J[m].ca[k]!=d.ca[k])continue a;S[g][f]=m;T[g][p[f]]=p[m];break}0==g%2&&(Q[f<<3|g>>1]=S[g][f])}a(2048,C,fa,O,0,b.prototype.setFlip,b.prototype.getFlip);a(2187,aa,oa,ea,1,b.prototype.setTwst,b.prototype.getTwst);a(40320,da,R,V,2,b.prototype.setEPerm,b.prototype.getEPerm);f=new b;for(g=0;2768>g;g++)A(f.ea,da[g],8),ba[g]=
e(f.ea,0)+70*y(da[g],8),d.invFrom(f),ja[g]=R[d.getEPerm()];d=new b;h=new b;c(Y,C,336,18,b.prototype.setFlip,b.prototype.getFlipSym,b.EdgeMult);c(ha,aa,324,18,b.prototype.setTwst,b.prototype.getTwstSym,b.CornMult);c(ia,da,2768,10,b.prototype.setEPerm,b.prototype.getEPermSym,b.EdgeMult,v);c(Ba,da,2768,10,b.prototype.setCPerm,b.prototype.getCPermSym,b.CornMult,v);for(g=0;495>g;g++){d.setSlice(g);for(f=0;18>f;f++)b.EdgeMult(d,J[f],h),W[18*g+f]=h.getSlice();for(f=0;16>f;f+=2)b.EdgeConjugate(d,P[0][f],
h),Z[g<<3|f>>1]=h.getSlice()}for(g=0;24>g;g++){d.setMPerm(g);for(f=0;10>f;f++)b.EdgeMult(d,J[v[f]],h),za[10*g+f]=h.getMPerm();for(f=0;16>f;f++)b.EdgeConjugate(d,P[0][f],h),na[g<<4|f]=h.getMPerm()}for(g=0;140>g;g++){d.setCComb(g%70);for(f=0;10>f;f++)b.CornMult(d,J[v[f]],h),Ca[10*g+f]=h.getCComb()+70*(165>>f&1^~~(g/70));for(f=0;16>f;f++)b.CornConjugate(d,P[0][f],h),ca[g<<4|f]=h.getCComb()+70*~~(g/70)}}function k(a,b,c,d,e,h,f,m){var g=m&15,C=1==(m>>4&1)?14540032:0,k=m>>8&15,n=m>>12&15,p=m>>16&15,v=
(1<<g)-1,w=null==d;c*=b;m=1==(m>>5&1)?10:18;var u=10==m?66:599186,r=(a[c>>3]>>(c<<2)&15)-1;if(-1==r){for(var q=0;q<(c>>3)+1;q++)a[q]=-1;l(a,0,15);r=0}else l(a,c,15^r+1);for(n=0<F?Math.min(Math.max(r+1,p),n):n;r<n;){var O=(p=r>k)?15:r,H=286331153*O,G=p?r:15;r++;pa++;var K=r^15,B=0,L=0;for(q=0;q<c;q++,L>>=4){if(0==(q&7)){L=a[q>>3];var t=L^H;if(0==(t-286331153&~t&2290649224)){q+=7;continue}}if((L&15)==O){t=q%b;var J=~~(q/b),Ia=0,aa=0;w&&(Ia=fa[t],aa=Ia&7,Ia>>=3);for(var x=0;x<m;x++){var Z=h[J*m+x];var Da=
w?X[Y[Ia*m+Q[x<<3|aa]]^aa^Z&v]:e[d[t*m+x]<<g|Z&v];Z>>=g;var M=Z*b+Da,I=a[M>>3]>>(M<<2)&15;if(I!=G)I<r-1&&(x+=u>>x&3);else{B++;if(p){l(a,q,K);break}l(a,M,K);M=1;for(I=f[Z];0!=(I>>=1);M++)if(1==(I&1)){var y=Z*b;y=w?y+X[fa[Da]^M]:y+e[Da<<g|M^C>>(M<<1)&3];(a[y>>3]>>(y<<2)&15)==G&&(l(a,y,K),B++)}}}}}}l(a,c,r+1^15);return r+1}function B(a){qa=k(la,2048,324,null,null,ha,ea,103939);pa>a||(Aa=k(ua,495,324,W,Z,ha,ea,431619),pa>a||(Qa=k(ma,495,336,W,Z,Y,O,431619),pa>a||(Fa=k(ra,24,2768,za,na,Ba,V,584244),pa>
a||(Ja=k(va,140,2768,Ca,ca,ia,V,514084)))))}function N(){0>pa&&(x(),pa=0);if(0==pa)B(99);else if(54>pa)B(pa);else return!0;return!1}for(var F=2,E=[],z=[1],r="U ;U2;U';R ;R2;R';F ;F2;F';D ;D2;D';L ;L2;L';B ;B2;B'".split(";"),v=[0,1,2,4,7,9,10,11,13,16,3,5,6,8,12,14,15,17],p=[],H=[],h=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[6,7,8,0,1,2,3,4,5,15,16,17,9,10,11,12,13,14],[3,4,5,6,7,8,0,1,2,12,13,14,15,16,17,9,10,11],[2,1,0,5,4,3,8,7,6,11,10,9,14,13,12,17,16,15],[8,7,6,2,1,0,5,4,3,17,16,15,11,10,
9,14,13,12],[5,4,3,8,7,6,2,1,0,14,13,12,17,16,15,11,10,9]],w=0;18>w;w++)p[v[w]]=w;for(w=0;10>w;w++)for(var L=~~(v[w]/3),m=H[w]=0;10>m;m++){var D=~~(v[m]/3);H[w]|=(L==D||L%3==D%3&&L>=D?1:0)<<m}for(w=H[10]=0;13>w;w++)for(E[w]=[],z[w+1]=z[w]*(w+1),m=E[w][0]=E[w][w]=1;13>m;m++)E[w][m]=m<=w?E[w-1][m-1]+E[w-1][m]:0;b.EdgeMult=function(a,b,c){for(var d=0;12>d;d++)c.ea[d]=a.ea[b.ea[d]&15]^b.ea[d]&16};b.CornMult=function(a,b,c){for(var d=0;8>d;d++)c.ca[d]=a.ca[b.ca[d]&15]&15|((a.ca[b.ca[d]&15]>>4)+(b.ca[d]>>
4))%3<<4};b.CornMultFull=function(a,b,c){for(var d=0;8>d;d++){var e=a.ca[b.ca[d]&15]>>4,h=b.ca[d]>>4,f=e+(3>e?h:6-h);f=f%3+(3>e==3>h?0:3);c.ca[d]=a.ca[b.ca[d]&15]&15|f<<4}};b.CornConjugate=function(a,b,c){var d=K[P[0][b]];b=K[b];for(var e=0;8>e;e++){var h=a.ca[b.ca[e]&15]>>4;c.ca[e]=d.ca[a.ca[b.ca[e]&15]&15]&15|(3>d.ca[a.ca[b.ca[e]&15]&15]>>4?h:(3-h)%3)<<4}};b.EdgeConjugate=function(a,b,c){var d=K[P[0][b]];b=K[b];for(var e=0;12>e;e++)c.ea[e]=d.ea[a.ea[b.ea[e]&15]&15]^a.ea[b.ea[e]&15]&16^b.ea[e]&16};
b.prototype.init=function(a,b){this.ca=a.slice();this.ea=b.slice();return this};b.prototype.initCoord=function(a,b,c,d){A(this.ca,a,8);this.setTwst(b);q(this.ea,c,12);this.setFlip(d);return this};b.prototype.isEqual=function(a){for(var b=0;8>b;b++)if(this.ca[b]!=a.ca[b])return!1;for(b=0;12>b;b++)if(this.ea[b]!=a.ea[b])return!1;return!0};b.prototype.setFlip=function(a){for(var b=0,c=10;0<=c;c--,a>>=1)this.ea[c]=this.ea[c]&15|(a&1)<<4,b^=this.ea[c];this.ea[11]=this.ea[11]&15|b&16};b.prototype.getFlip=
function(){for(var a=0,b=0;11>b;b++)a=a<<1|this.ea[b]>>4&1;return a};b.prototype.getFlipSym=function(){return fa[this.getFlip()]};b.prototype.setTwst=function(a){for(var b=15,c=6;0<=c;c--,a=~~(a/3))this.ca[c]=this.ca[c]&15|a%3<<4,b-=this.ca[c]>>4;this.ca[7]=this.ca[7]&15|b%3<<4};b.prototype.getTwst=function(){for(var a=0,b=0;7>b;b++)a+=(a<<1)+(this.ca[b]>>4);return a};b.prototype.getTwstSym=function(){return oa[this.getTwst()]};b.prototype.setCPerm=function(a){A(this.ca,a,8)};b.prototype.getCPerm=
function(){return c(this.ca,8)};b.prototype.getCPermSym=function(){var a=R[c(this.ca,8)];return a^14540032>>((a&15)<<1)&3};b.prototype.setEPerm=function(a){A(this.ea,a,8)};b.prototype.getEPerm=function(){return c(this.ea,8)};b.prototype.getEPermSym=function(){return R[c(this.ea,8)]};b.prototype.getSlice=function(){return 494-e(this.ea,8)};b.prototype.setSlice=function(a){d(this.ea,494-a,8)};b.prototype.getMPerm=function(){return t(this.ea,12)%24};b.prototype.setMPerm=function(a){q(this.ea,a,12)};
b.prototype.getCComb=function(){return e(this.ca,0)};b.prototype.setCComb=function(a){d(this.ca,a,0)};b.prototype.URFConjugate=function(){var a=new b;b.CornMult(b.urf2,this,a);b.CornMult(a,b.urf1,this);b.EdgeMult(b.urf2,this,a);b.EdgeMult(a,b.urf1,this)};var G=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],u=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];b.prototype.toFaceCube=function(a,b){a=a||G;b=b||u;for(var c=
[],d=0;54>d;d++)c[d]="URFDLB"[~~(d/9)];for(var e=0;8>e;e++){d=this.ca[e]&15;for(var h=this.ca[e]>>4,f=0;3>f;f++)c[a[e][(f+h)%3]]="URFDLB"[~~(a[d][f]/9)]}for(e=0;12>e;e++)for(d=this.ea[e]&15,h=this.ea[e]>>4,f=0;2>f;f++)c[b[e][(f+h)%2]]="URFDLB"[~~(b[d][f]/9)];return c.join("")};b.prototype.invFrom=function(a){for(var b=0;12>b;b++)this.ea[a.ea[b]&15]=b&15|a.ea[b]&16;for(b=0;8>b;b++)this.ca[a.ca[b]&15]=b|64>>(a.ca[b]>>4)&48;return this};b.prototype.fromFacelet=function(a,b,c){b=b||G;c=c||u;for(var d=
0,e=[],h=a[4]+a[13]+a[22]+a[31]+a[40]+a[49],f=0;54>f;++f){e[f]=h.indexOf(a[f]);if(-1==e[f])return-1;d+=1<<(e[f]<<2)}if(10066329!=d)return-1;var m;for(f=0;8>f;++f){for(m=0;3>m&&0!=e[b[f][m]]&&3!=e[b[f][m]];++m);a=e[b[f][(m+1)%3]];d=e[b[f][(m+2)%3]];for(h=0;8>h;++h)if(a==~~(b[h][1]/9)&&d==~~(b[h][2]/9)){this.ca[f]=h|m%3<<4;break}}for(f=0;12>f;++f)for(h=0;12>h;++h){if(e[c[f][0]]==~~(c[h][0]/9)&&e[c[f][1]]==~~(c[h][1]/9)){this.ea[f]=h;break}if(e[c[f][0]]==~~(c[h][1]/9)&&e[c[f][1]]==~~(c[h][0]/9)){this.ea[f]=
h|16;break}}};n.prototype.set=function(a){this.twst=a.twst;this.flip=a.flip;this.slice=a.slice;this.prun=a.prun;this.twstc=a.twstc;this.flipc=a.flipc};n.prototype.calcPruning=function(a){this.prun=Math.max(f(Aa,ua,495*(this.twst>>3)+Z[this.slice<<3|this.twst&7]),f(Qa,ma,495*(this.flip>>3)+Z[this.slice<<3|this.flip&7]),f(qa,la,this.twstc>>3<<11|X[this.flipc^this.twstc&7]),f(qa,la,this.twst>>3<<11|X[this.flip^this.twst&7]))};n.prototype.setWithPrun=function(a,c){this.twst=a.getTwstSym();this.flip=a.getFlipSym();
this.prun=f(qa,la,this.twst>>3<<11|X[this.flip^this.twst&7]);if(this.prun>c)return!1;this.slice=a.getSlice();this.prun=Math.max(this.prun,f(Aa,ua,495*(this.twst>>3)+Z[this.slice<<3|this.twst&7]),f(Qa,ma,495*(this.flip>>3)+Z[this.slice<<3|this.flip&7]));if(this.prun>c)return!1;var d=new b;b.CornConjugate(a,1,d);b.EdgeConjugate(a,1,d);this.twstc=d.getTwstSym();this.flipc=d.getFlipSym();this.prun=Math.max(this.prun,f(qa,la,this.twstc>>3<<11|X[this.flipc^this.twstc&7]));return this.prun<=c};n.prototype.doMovePrun=
function(a,b,c){this.slice=W[18*a.slice+b];this.flip=Y[18*(a.flip>>3)+Q[b<<3|a.flip&7]]^a.flip&7;this.twst=ha[18*(a.twst>>3)+Q[b<<3|a.twst&7]]^a.twst&7;return this.prun=Math.max(f(Aa,ua,495*(this.twst>>3)+Z[this.slice<<3|this.twst&7]),f(Qa,ma,495*(this.flip>>3)+Z[this.slice<<3|this.flip&7]),f(qa,la,this.twst>>3<<11|X[this.flip^this.twst&7]))};n.prototype.doMovePrunConj=function(a,b){b=S[3][b];this.flipc=Y[18*(a.flipc>>3)+Q[b<<3|a.flipc&7]]^a.flipc&7;this.twstc=ha[18*(a.twstc>>3)+Q[b<<3|a.twstc&7]]^
a.twstc&7;return f(qa,la,this.twstc>>3<<11|X[this.flipc^this.twstc&7])};a.prototype.solution=function(a,b,c,d,e,f,m){N();a=this.verify(a);if(0!=a)return"Error "+Math.abs(a);void 0===b&&(b=21);void 0===c&&(c=1E9);void 0===d&&(d=0);void 0===e&&(e=0);this.sol=b+1;this.probe=0;this.probeMax=c;this.probeMin=Math.min(d,c);this.verbose=e;this.moveSol=null;this.isRec=!1;this.firstFilters=[0,0,0,0,0,0];this.lastFilters=[0,0,0,0,0,0];for(b=0;3>b;b++)void 0!==f&&(this.firstFilters[b]|=3591<<3*~~(h[(3-b)%3][3*
f]/3),this.lastFilters[b+3]|=3591<<3*~~(h[(3-b)%3][3*f]/3)),void 0!==m&&(this.lastFilters[b]|=3591<<3*~~(h[(3-b)%3][3*m]/3),this.firstFilters[b+3]|=3591<<3*~~(h[(3-b)%3][3*m]/3));this.initSearch();return this.search()};a.prototype.initSearch=function(){this.conjMask=0;this.maxPreMoves=7<this.conjMask?0:20;for(var a=0;6>a;a++)if(this.urfCubieCube[a].init(this.cc.ca,this.cc.ea),this.urfCoordCube[a].setWithPrun(this.urfCubieCube[a],20),this.cc.URFConjugate(),2==a%3){var c=(new b).invFrom(this.cc);this.cc.init(c.ca,
c.ea)}};a.prototype.next=function(a,b,c){this.probe=0;this.probeMax=a;this.probeMin=Math.min(b,a);this.moveSol=null;this.isRec=!0;this.verbose=c;return this.search()};a.prototype.verify=function(a){if(-1==this.cc.fromFacelet(a))return-1;for(var b=a=0,c=0;12>c;c++)b|=1<<(this.cc.ea[c]&15),a^=this.cc.ea[c]>>4;if(4095!=b)return-2;if(0!=a)return-3;for(c=a=b=0;8>c;c++)b|=1<<(this.cc.ca[c]&15),a+=this.cc.ca[c]>>4;return 255!=b?-4:0!=a%3?-5:0!=(y(t(this.cc.ea,12),12)^y(this.cc.getCPerm(),8))?-6:0};a.prototype.phase1PreMoves=
function(a,c,d){if(a==this.maxPreMoves-1&&0!=(this.lastFilter>>c&1))return 1;this.preMoveLen=this.maxPreMoves-a;if(this.isRec?this.depth1==this.length1-this.preMoveLen:0==this.preMoveLen||0==(225207>>c&1))if(this.depth1=this.length1-this.preMoveLen,this.phase1Cubie[0].init(d.ca,d.ea),this.allowShorter=7==this.depth1&&0!=this.preMoveLen,this.nodeUD[this.depth1+1].setWithPrun(d,this.depth1)&&0==this.phase1(this.nodeUD[this.depth1+1],this.depth1,-1))return 0;if(0==a||this.preMoveLen+7>=this.length1)return 1;
var e=0;if(1==a||this.preMoveLen+1+7>=this.length1)e|=225207;c=3*~~(c/3);for(var h=0;18>h;h++)if(h==c||h==c-9||h==c+9)h+=2;else if(!(this.isRec&&h!=this.preMoves[this.maxPreMoves-a]||0!=(e&1<<h))&&(b.CornMult(J[h],d,this.preMoveCubes[a]),b.EdgeMult(J[h],d,this.preMoveCubes[a]),this.preMoves[this.maxPreMoves-a]=h,0==this.phase1PreMoves(a-1,h,this.preMoveCubes[a])))return 0;return 1};a.prototype.search=function(){for(this.length1=this.isRec?this.length1:0;this.length1<this.sol;this.length1++)for(this.urfIdx=
this.isRec?this.urfIdx:0;6>this.urfIdx;this.urfIdx++)if(0==(this.conjMask&1<<this.urfIdx)&&(this.firstFilter=this.firstFilters[this.urfIdx],this.lastFilter=this.lastFilters[this.urfIdx],0==this.phase1PreMoves(this.maxPreMoves,-30,this.urfCubieCube[this.urfIdx],0)))return null==this.moveSol?"Error 8":this.moveSol;return null==this.moveSol?"Error 7":this.moveSol};a.prototype.initPhase2Pre=function(){this.isRec=!1;if(this.probe>=(null==this.moveSol?this.probeMax:this.probeMin))return 0;++this.probe;
for(var a=this.valid1;a<this.depth1;a++)b.CornMult(this.phase1Cubie[a],J[this.move[a]],this.phase1Cubie[a+1]),b.EdgeMult(this.phase1Cubie[a],J[this.move[a]],this.phase1Cubie[a+1]);this.valid1=this.depth1;a=this.initPhase2(this.phase1Cubie[this.depth1]);if(0==a||0==this.preMoveLen||2==a)return a;a=3*~~(this.preMoves[this.preMoveLen-1]/3)+1;b.CornMult(J[a],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);b.EdgeMult(J[a],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-
1]+=2-this.preMoves[this.preMoveLen-1]%3*2;a=this.initPhase2(this.phase1Cubie[this.depth1+1]);this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2;return a};a.prototype.initPhase2=function(a){var b=a.getCPermSym(),c=b&15;b>>=4;var d=a.getEPermSym(),e=d&15;d>>=4;a=a.getMPerm();var h=Math.max(f(Ja,va,140*d+ca[(ba[b]&255)<<4|P[e][c]]),f(Fa,ra,24*b+na[a<<4|c])),m=Math.min(13,this.sol-this.length1);if(h>=m)return h>m?2:1;var g;for(g=m-1;g>=h;g--){var C=this.phase2(d,e,b,c,a,g,this.depth1,
10);if(0>C)break;g-=C;this.moveSol=[];for(C=0;C<this.depth1+g;C++)this.appendSolMove(this.move[C]);for(C=this.preMoveLen-1;0<=C;C--)this.appendSolMove(this.preMoves[C]);this.sol=this.moveSol.length;this.moveSol=this.solutionToString()}return g!=m-1?this.probe>=this.probeMin?0:1:1};a.prototype.phase1=function(a,b,c){if(b==this.depth1-1&&0!=(this.firstFilter>>c&1))return 1;if(0==a.prun&&5>b){if(this.allowShorter||0==b){this.depth1-=b;var d=this.initPhase2Pre();this.depth1+=b;return d}return 1}for(var e=
0;18>e;e+=3)if(e!=c&&e!=c-9)for(var h=0;3>h;h++)if(d=e+h,!this.isRec||d==this.move[this.depth1-b]){var f=this.nodeUD[b].doMovePrun(a,d,!0);if(f>b)break;else if(f==b)continue;f=this.nodeUD[b].doMovePrunConj(a,d);if(f>b)break;else if(f==b)continue;this.move[this.depth1-b]=d;this.valid1=Math.min(this.valid1,this.depth1-b);d=this.phase1(this.nodeUD[b],b-1,e);if(0==d)return 0;if(2==d)break}return 1};a.prototype.appendSolMove=function(a){if(0==this.moveSol.length)this.moveSol.push(a);else{var b=~~(a/3),
c=~~(this.moveSol[this.moveSol.length-1]/3);b==c?(a=(a%3+this.moveSol[this.moveSol.length-1]%3+1)%4,3==a?this.moveSol.pop():this.moveSol[this.moveSol.length-1]=3*b+a):1<this.moveSol.length&&b%3==c%3&&b==~~(this.moveSol[this.moveSol.length-2]/3)?(a=(a%3+this.moveSol[this.moveSol.length-2]%3+1)%4,3==a?(this.moveSol[this.moveSol.length-2]=this.moveSol[this.moveSol.length-1],this.moveSol.pop()):this.moveSol[this.moveSol.length-2]=3*b+a):this.moveSol.push(a)}};a.prototype.phase2=function(a,b,c,d,e,h,m,
C){if(0==this.depth1&&1==m&&0!=(this.firstFilter>>v[C]&1))return-1;if(0==a&&0==c&&0==e&&(0<this.preMoveLen||0==(this.lastFilter>>v[C]&1)))return h;C=H[C];for(var k=0;10>k;k++)if(0!=(C>>k&1))k+=66>>k&3;else{var n=za[10*e+k],p=Ba[10*c+T[d][k]],w=M[p&15][d];p>>=4;if(!(f(Fa,ra,24*p+na[n<<4|w])>=h)){var r=ia[10*a+T[b][k]],u=M[r&15][b];r>>=4;if(!(f(Ja,va,140*r+ca[(ba[p]&255)<<4|P[u][w]])>=h)){var l=g(r,u,!1),q=g(p,w,!0);if(!(f(Ja,va,140*(l>>4)+ca[(ba[q>>4]&255)<<4|P[l&15][q&15]])>=h)&&(n=this.phase2(r,
u,p,w,n,h-1,m+1,k),0<=n))return this.move[m]=v[k],n}}}return-1};a.prototype.solutionToString=function(){var a="",b=0!=(this.verbose&2)?(this.urfIdx+3)%6:this.urfIdx;if(3>b)for(var c=0;c<this.moveSol.length;++c)a+=r[h[b][this.moveSol[c]]]+" ";else for(c=this.moveSol.length-1;0<=c;--c)a+=r[h[b][this.moveSol[c]]]+" ";return a};var J=[],K=[],M=[],P=[],S=[],T=[],Q=[],C=[],fa=[],O=[],X=[],aa=[],oa=[],ea=[],da=[],R=[],V=[],ba=[],ja=[],ha=[],Y=[],W=[],Z=[],ua=[],ma=[],la=[],Ba=[],ia=[],za=[],na=[],Ca=[],
ca=[],ra=[],va=[],qa=15,Aa=15,Qa=15,Fa=15,Ja=15;for(w=0;18>w;w++)J[w]=new b;J[0].initCoord(15120,0,119750400,0);J[3].initCoord(21021,1494,323403417,0);J[6].initCoord(8064,1236,29441808,550);J[9].initCoord(9,0,5880,0);J[12].initCoord(1230,412,2949660,0);J[15].initCoord(224,137,328552,137);for(w=0;18>w;w+=3)for(L=0;2>L;L++)b.EdgeMult(J[w+L],J[w],J[w+L+1]),b.CornMult(J[w+L],J[w],J[w+L+1]);b.urf1=(new b).initCoord(2531,1373,67026819,1367);b.urf2=(new b).initCoord(2089,1906,322752913,2040);var pa=-1;return{Search:a,
solve:function(b){return(new a).solution(b)},randomCube:function(){var a=~~(2048*Math.random()),c=~~(2187*Math.random());do{var d=~~(Math.random()*z[12]);var e=~~(Math.random()*z[8])}while(y(e,8)!=y(d,12));return(new b).initCoord(e,c,d,a).toFaceCube()},fromScramble:function(a){for(var c=-1,d=new b,e=new b,h=0;h<a.length;h++)switch(a[h]){case "U":case "R":case "F":case "D":case "L":case "B":c=3*"URFDLB".indexOf(a[h]);break;case " ":-1!=c&&(b.CornMult(d,J[c],e),b.EdgeMult(d,J[c],e),d.init(e.ca,e.ea));
c=-1;break;case "2":c++;break;case "'":c+=2}-1!=c&&(b.CornMult(d,J[c],e),b.EdgeMult(d,J[c],e),d.init(e.ca,e.ea));return e.toFaceCube()},initFull:function(){F=0;N()},INVERSE_SOLUTION:2}}();"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports=min2phase);var cubeutil=function(){function a(a){for(var b={},c=0;c<a.length;c++){var d=a[c];"-"!=d&&(b[d]=b[d]||[],b[d].push(c))}a=[];for(d in b)1<b[d].length&&a.push(b[d]);return a}function l(a,b){var c=function(a){var b=mathlib.CubieCube.faceMap[a],c=0;b?0==b[0]?(a=e.ca[b[1]],c=mathlib.CubieCube.cFacelet[a&7][(3-(a>>3)+b[2])%3]):1==b[0]&&(a=e.ea[b[1]],c=mathlib.CubieCube.eFacelet[a>>1][a&1^b[2]]):c=a;return~~(c/9)},d=G[a[1]],e=a[0];b=b||D;for(var h=0;h<b.length;h++)for(var f=b[h],m=c(d[f[0]]),g=1;g<f.length;g++)if(c(d[f[g]])!=
m)return 1;return 0}function f(a,b){if(a[0]instanceof mathlib.CubieCube)return l(a,b);var c=G[a[1]],d=a[0];b=b||D;for(var e=0;e<b.length;e++)for(var h=b[e],f=d[c[h[0]]],m=1;m<h.length;m++)if(d[c[h[m]]]!=f)return 1;return 0}function g(a){return f(a,B)?9:f(a,r)?4+f(a,N)+f(a,F)+f(a,E)+f(a,z):f(a,p)?4:f(a,v)?3:f(a,H)?2:f(a)?1:0}function b(a){return f(a,B)?7:f(a,r)?2+f(a,N)+f(a,F)+f(a,E)+f(a,z):f(a,v)?2:f(a)?1:0}function A(a){return f(a,B)?4:f(a,r)?3:f(a,v)?2:f(a)?1:0}function c(a){return f(a,r)?2:f(a)?
1:0}function q(a){return f(a,h)?4:f(a,w)?3:f(a,L)?2:f(a)?1:0}function t(a,b){return a in u?f(b,u[a][1]):f(b)}function e(a,b,c){for(var d=99,e=0;e<c;e++)d=Math.min(d,b([a,e]));return d}function d(a){var b=[0,1,2,3,4,5];return $.map(a,function(a,c){function d(a,b){0==e.length||~~(e[e.length-1]/3)!=a?e.push(3*a+b):(b=(b+e[e.length-1]%3+1)%4,3==b?e.pop():e[e.length-1]=3*a+b)}for(var e=[],h=0;h<a.length;h++){var f=b.indexOf("URFDLB".indexOf(a[h][0][0])),m=" 2'".indexOf(a[h][0][1])%3;if(h==a.length-1||
100<a[h+1][1]-a[h][1])d(f,m);else{var g=b.indexOf("URFDLB".indexOf(a[h+1][0][0])),k=" 2'".indexOf(a[h+1][0][1])%3;if(f!=g&&f%3==g%3&&2==m+k){g=f%3;f=(m-1)*[1,1,-1,-1,-1,1][f]+1;d(g+6,f);for(m=0;m<f+1;m++){k=[];for(var n=0;6>n;n++)k[n]=b[J[g][n]];b=k}h++}else d(f,m)}}return[[$.map(e,function(a){return"URFDLBEMS".charAt(~~(a/3))+" 2'".charAt(a%3)}).join(""),e.length]]})}function y(a,b,c){for(var d=[],e=0;24>e;e++)0==f([a,e],b)&&d.push(e);for(b=0;b<c.length;b++)for(e=0;e<d.length;e++)if(0==f([a,d[e]],
c[b]))return b;return-1}function n(a){switch(a){case "cfop":return["pll","oll","f2l","cross"];case "fp":return["op","cf"];case "cf4op":return"pll oll f2l-4 f2l-3 f2l-2 f2l-1 cross".split(" ");case "roux":return["l6e","cmll","sb","fb"];case "cf4o2p2":return"pll cpll oll eoll f2l-4 f2l-3 f2l-2 f2l-1 cross".split(" ");case "n":return["solve"]}}function x(a,b,c){a=a||"";c&&(a=kernel.getProp(tools.isCurTrainScramble()?"preScrT":"preScr")+" "+a);c=[];a=a.split(" ");for(var d,e,h,f=0;f<a.length;f++)if(d=
Q.exec(a[f]),null!=d)if(h="FRUBLDfrubldzxySME".indexOf(d[2]),14<h)d="2'".indexOf(d[5]||"X")+2,h=[0,4,5][h%3],c.push([b.indexOf("FRUBLD".charAt(h)),2,d]),c.push([b.indexOf("FRUBLD".charAt(h)),1,4-d]);else{e=(d[1]||"").split("-");var m=~~e[1]||-1;e=12>h?~~e[0]||~~d[4]||("w"==d[3]||5<h)&&2||1:-1;d=(12>h?1:-1)*("2'".indexOf(d[5]||"X")+2);c.push([b.indexOf("FRUBLD".charAt(h%6)),e,d,m])}return c}function k(){for(var a=kernel.getProp(tools.isCurTrainScramble()?"preScrT":"preScr","").split(" "),b=new mathlib.CubieCube,
c=0;c<a.length;c++)b.selfMoveStr(a[c]);return b.ori||0}var B=a("----U--------R--R-----F--F--D-DDD-D-----L--L-----B--B-"),N=a("----U-------RR-RR-----FF-FF-DDDDD-D-----L--L-----B--B-"),F=a("----U--------R--R----FF-FF-DD-DDD-D-----LL-LL----B--B-"),E=a("----U--------RR-RR----F--F--D-DDD-DD----L--L----BB-BB-"),z=a("----U--------R--R-----F--F--D-DDDDD----LL-LL-----BB-BB"),r=a("----U-------RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB"),v=a("UUUUUUUUU---RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB"),p=a("-U-UUU-U----RRRRRR---FFFFFFDDDDDDDDD---LLLLLL---BBBBBB"),
H=a("UUUUUUUUUr-rRRRRRRf-fFFFFFFDDDDDDDDDl-lLLLLLLb-bBBBBBB"),h=a("---------------------F--F--D--D--D-----LLLLLL-----B--B"),w=a("------------RRRRRR---F-FF-FD-DD-DD-D---LLLLLL---B-BB-B"),L=a("U-U---U-Ur-rRRRRRRf-fF-FF-FD-DD-DD-Dl-lLLLLLLb-bB-BB-B"),m=a("---------------R-R------F-FD-D---D-D------L-L------B-B"),D=a(mathlib.SOLVED_FACELET),G=function(){function a(a,b){for(var c=[],d=0;54>d;d++)c[b[d]]=a[d];return c}var b=mathlib.CubieCube.rotCube[3].toPerm();mathlib.circle(b,13,49,40,22);var c=mathlib.CubieCube.rotCube[15].toPerm();
mathlib.circle(c,4,22,31,49);var d=mathlib.CubieCube.rotCube[17].toPerm();mathlib.circle(d,4,40,31,13);for(var e=[],h=[],f=0;54>f;f++)h[f]=f;for(f=0;24>f;f++)e[f]=h.slice(),h=a(h,f&1?c:d),5==f%6&&(h=a(h,d),h=a(h,d)),11==f%12&&(h=a(h,b),h=a(h,b));return e}(),u={cross:[6,B],f2l:[6,r],oll:[6,v],eoll:[6,p],cpll:[6,H],fb:[24,h],sb:[24,w],cmll:[24,L]},J=[[0,2,4,3,5,1],[5,1,0,2,4,3],[4,0,2,1,3,5]],K=function(){var b=[];return function(c){for(var d=b.length;22>d;d++){var e=21==d?"UUUUUUUUUFFFRRRBBBLLL":scramble_333.getPLLImage(d)[0];
b.push(a("012345678cdeRRRRRR9abFFFFFFDDDDDDDDDijkLLLLLLfghBBBBBB".replace(/[0-9a-z]/g,function(a){return e[parseInt(a,36)].toLowerCase()})))}return y(c,v,b)}}(),M=function(){var b=[];return function(c){for(var d=b.length;58>d;d++){var e=scramble_333.getOLLImage(d)[0].replace(/G/g,"-");b.push(a("012345678cdeRRRRRR9abFFFFFFDDDDDDDDDijkLLLLLLfghBBBBBB".replace(/[0-9a-z]/g,function(a){return e[parseInt(a,36)].toLowerCase()})))}return y(c,r,b)}}(),P=function(){var b=[];return function(c){for(var d=b.length;43>
d;d++){var e=scramble_333.getCOLLImage("D",d)[0].replace(/G/g,"-");b.push(a("012345678cdeRRRRRR9abFFFFFFDDDDDDDDDijkLLLLLLfghBBBBBB".replace(/[0-9a-z]/g,function(a){return e[parseInt(a,36)].toLowerCase()})))}return y(c,p,b)}}(),S=function(){var b=[];return function(c){for(var d=b.length;493>d;d++){var e=scramble_333.getZBLLImage(d)[0].replace(/G/g,"-");b.push(a("012345678cdeRRRRRR9abFFFFFFDDDDDDDDDijkLLLLLLfghBBBBBB".replace(/[0-9a-z]/g,function(a){return e[parseInt(a,36)].toLowerCase()})))}return y(c,
p,b)}}(),T=function(){var b=[];return function(c){for(var d=b.length;40>d;d++){var e=scramble_222.getEGLLImage(d)[0].replace(/G/g,"-");b.push(a("0-1---2-36-7---R-R4-5---F-FD-D---D-Da-b---L-L8-9---B-B".replace(/[0-9a-z]/g,function(a){return e[parseInt(a,36)].toLowerCase()})))}return y(c,m,b)}}(),Q=/^([\d]+(?:-\d+)?)?([FRUBLDfrubldzxySME])(?:([w])|&sup([\d]);)?([2'])?$/;return{getProgress:function(a,d){switch(d){case "cfop":return e(a,A,6);case "fp":return e(a,c,6);case "cf4op":return e(a,b,6);case "roux":return e(a,
q,24);case "cf4o2p2":return e(a,g,6);case "n":return e(a,f,1)}},getStepNames:n,getStepCount:function(a){return(a=n(a))?a.length:0},getStepProgress:function(a,b,c){c||(c=a in u?u[a][0]:1);return e(b,t.bind(null,a),c)},getPrettyMoves:d,getPrettyReconstruction:function(a,b){for(var c="",e=d(a),h=n(b).reverse(),f=0,m=0;m<e.length;m++)f+=e[m][1],c+=e[m][0].replace(/ /g,"")+(h[m]?" // "+h[m]+" "+e[m][1]+" move(s)":"")+"\n";return{prettySolve:c,totalMoves:f}},moveSeq2str:function(a){return $.map(a,function(a){return a[0].trim()+
"@"+a[1]}).join(" ")},getScrambledState:function(a,b){var c=a[1];if(tools.isPuzzle("333",a)){c=x(c,"URFDLB");for(var d=new mathlib.CubieCube,e=new mathlib.CubieCube,h=d.ori=0;h<c.length;h++){var f=c[h][0],m=c[h][2],g=3*f+m-1;if(!(0>g||18<=g)){if(2==c[h][1]){g=[3,15,17,1,11,23][f];for(var k=0;k<m;k++)d.ori=mathlib.CubieCube.rotMult[g][d.ori];g=mathlib.CubieCube.rotMulM[d.ori][(f+3)%6*3+m-1]}mathlib.CubieCube.CubeMult(d,mathlib.CubieCube.moveCube[g],e);d.init(e.ca,e.ea)}}return b?d.toFaceCube():d}},
identStep:function(a,b){switch(a){case "PLL":return K(b);case "OLL":return M(b);case "COLL":return P(b);case "ZBLL":return S(b);case "C2CLL":return T(b)}},getIdentData:function(a){var b={PLL:[K,scramble_333.getPLLImage,0,21,0],OLL:[M,scramble_333.getOLLImage,1,58,1],COLL:[P,scramble_333.getCOLLImage.bind(null,"D"),0,40,1],ZBLL:[P,scramble_333.getZBLLImage,0,493,1],CLL:[T,scramble_222.getEGLLImage,0,40,1]};return a?b[a]:b},parseScramble:x,getConjMoves:function(a,b,c){if(!a)return a;void 0===c&&(c=
k());b&&(c=mathlib.CubieCube.rotMulI[0][c||0]);return a.replace(/[URFDLB]/g,function(a){return"URFDLB".charAt(mathlib.CubieCube.rotMulM[c][3*"URFDLB".indexOf(a)]/3)})},getPreConj:k}}();var ftosolver=function(){function a(a,b,c,d,e){this.cp=a&&a.slice()||[0,1,2,3,4,5];this.co=b&&b.slice()||[0,0,0,0,0,0];this.ep=c&&c.slice()||[0,1,2,3,4,5,6,7,8,9,10,11];this.uf=d&&d.slice()||[0,1,2,3,4,5,6,7,8,9,10,11];this.rl=e&&e.slice()||[0,1,2,3,4,5,6,7,8,9,10,11]}function l(b,c,d){var e=[];b=a.moveCube[d][b];for(d=0;12>d;d++)e[d]=c[b[d]];return e}function f(b,c){return a.FtoMult(b,a.moveCube[c],null)}function g(a){for(var b=0,c=-1,d=0;12>d;d++)0!=(56>>a[d]&1)&&(-1==c&&(c=a[d]),b+=(a[d]-c+3)%
3+1<<2*d);return b}function b(a){for(var b=0,c=0;12>c;c++)3>a[c]&&(b|=1<<c);return b}function A(a){for(var b=[0,1,2,3,3,3,0,1,1,2,2,0],c=[[0,6,11],[1,7,8],[2,9,10],[3,4,5]],d=0,e=[-1,-1,-1,-1],h=0;12>h;h++){var f=b[a[h]],m=c[f].indexOf(a[h]);-1==e[f]&&(e[f]=m);d+=(4*f+(m-e[f]+3)%3)*Math.pow(16,h)}return d}function c(a){for(var b=0,c=0;12>c;c++)b|=~~(a[c]/3)<<2*c;return b}function q(a){return String.fromCharCode.apply(null,a)}function t(a){return String.fromCharCode.apply(null,[].concat(a.cp,a.co))}
function e(b){for(var c=[],d=new a,e=new a,h=0;h<b.length;h++){c[h]=1<<h;for(var f=0;f<h;f++)a.FtoMult(a.moveCube[b[h]],a.moveCube[b[f]],d),a.FtoMult(a.moveCube[b[f]],a.moveCube[b[h]],e),d.isEqual(e)&&(c[h]|=1<<f)}return c}function d(){var c=new a;L=mathlib.createMoveHash(c.ep.slice(),w,g,l.bind(null,"ep"));m=mathlib.createMoveHash(c.rl.slice(),w,b,l.bind(null,"rl"));var d=L[0][0].length;c=m[0][0].length;DEBUG&&console.log("p1ep len="+d+" p1rl len="+c);D=e(w);var h=[];mathlib.createPrun(h,0,d*c,14,
function(a,b){return m[0][b][~~(a/d)]*d+L[0][b][a%d]},w.length,2);G=new mathlib.Searcher(null,function(a){return mathlib.getPruning(h,a[1]*d+a[0])},function(a,b){return[L[0][b][a[0]],m[0][b][a[1]]]},8,2,D)}function y(c){for(var d=[],e=[],h=new a,f=new a,k=0;12>k;k+=3){a.FtoMult(a.symCube[k%12],c,h);var n;for(n=0;12>n&&(a.FtoMult(h,a.symCube[n],f),4!=f.ep[4]);n++);d.push([L[1][g(f.ep)],m[1][b(f.rl)]]);e.push([k,n])}return[d,e]}function n(b){G||d();var c=$.now(),e=y(b),h=e[1];e=e[0];var f=[];G.solveMulti(e,
0,12,function(c,d){for(var e=c.slice(),m=h[d].slice(),g=b,k=0;k<e.length;k++)e[k]=w[e[k][0]]+e[k][1];k=0;var n=[];for(var p=[4,5,3,2],v=[1,10,5,11],r=0;r<e.length;r++){var l=0,q=e[r]>>1,C=e[r]&1;8<=q&&(l=v[q-8],q=p[q-8]);C||(l=a.symMult[l][l]);n.push(2*a.symMulM[k][q]+C);k=a.symMult[l][k]}n=[n,k];for(k=0;k<n[0].length;k++)p=n[0][k],e[k]=2*a.symMulM[a.symMulI[0][m[1]]][p>>1]+(p&1),g=a.FtoMult(g,a.moveCube[e[k]],null);m[1]=a.symMulI[m[1]][n[1]];g=a.FtoMult(u[~~(m[0]/12)],a.symCube[m[0]%12],g,a.symCube[m[1]],
null);f.push([g,e,m[0],m[1]]);return 1E3<=f.length});c=$.now()-c;for(e=0;e<f.length;e++)f[e].push(c);return f}function x(b){var d=String.fromCharCode.apply(null,[].concat(b.cp,b.co));if(!(d in T)){for(var e=[],h=0;6>h;h++)e[h]=2*b.co[h];h=b.toFaceCube();mathlib.fillFacelet(oa,h,b.cp,e,9);b=(new a).fromFacelet(h);T[d]=c(b.uf)}return d}function k(b,c){for(var d=b[0],e=-1,h=1;12>h;h++)if(b[h]!=d){e=b[h];break}d=c[4*d+e];for(h=0;12>h;h++)b[h]=~~(a.symCube[d].uf[3*b[h]]/3);return d}function B(a){for(var b=
[],c=0;12>c;c++)b[c]=~~(a[c]/3);a=k(b,fa);return X[aa.get(b)]<<4|a}function N(){var b=new a;M=mathlib.createMoveHash(b.ep.slice(),K,A,l.bind(null,"ep"));P=mathlib.createMoveHash(b.rl.slice(),K,c,l.bind(null,"rl"));S=mathlib.createMoveHash(b,K,x,f);var d=[],h=[],m=[[],[],[],[],[]],g=[],n=[];for(b=0;12>b;b++){var p=a.symCube[b].uf,w=~~(p.indexOf(0)/3);p=~~(p.indexOf(3)/3);fa[4*w+p]=b;n[b]=[]}w=0;a:for(;42E3>w;w++){aa.set(d,w);for(b=1;12>b;b++)if(1<d[b])continue a;else if(1==d[b])break;X[w]=O.length;
O.push(w)}for(w=0;w<O.length;w++){aa.set(d,O[w]);for(b=p=0;12>b;b++)p|=d[b]<<2*b;g[w]=p;for(b=0;b<K.length;b++)mathlib.permOriMult(d,a.moveCube[K[b]].uf,h),p=k(h,fa),m[b][w]=X[aa.get(h)]<<4|p}var v=[],r;for(r in S[1])for(d=S[1][r],v[d]=T[r],h=[],b=0;12>b;b++){p=a.symCube[b];for(w=0;6>w;w++){var u=r.charCodeAt(w);h[w]=p.cp[u];h[w+6]=p.co[u]^r.charCodeAt(w+6)}p=String.fromCharCode.apply(null,h);n[b][d]=S[1][p]}var q=[0,0,3,4,5,6,8,0,2,3,4,5,6,8,1,2,4,4,5,6,8,1,3,4,5,6,7,8,3,3,4,5,6,7,9,4,4,5,6,7,8,
9,5,5,6,7,8,9,10],H=M[0][0].length,G=[];mathlib.createPrun(G,0,H*P[0][0].length,9,function(a,b){return P[0][b][~~(a/H)]*H+M[0][b][a%H]},K.length,2);Q=e(K);C=new mathlib.Searcher(function(a){return g[a[3]>>4]==v[n[a[3]&15][a[2]]]},function(a){var b=g[a[3]>>4]^v[n[a[3]&15][a[2]]];b=(b|b>>1)&5592405;b=7*mathlib.bitCount(b&12632319)+mathlib.bitCount(b&4144896);return Math.max(Math.min(11,mathlib.getPruning(G,a[1]*H+a[0])),q[b])},function(b,c){var d=m[c][b[3]>>4];return[M[0][c][b[0]],P[0][c][b[1]],S[0][c][b[2]],
d&-16|a.symMult[d&15][b[3]&15]]},K.length,2,Q)}function F(){var b=new a;da=mathlib.createMoveHash(b.ep.slice(),ea,q,l.bind(null,"ep"));R=mathlib.createMoveHash(new a,ea,t,f);V=[];ba=[];mathlib.createPrun(V,0,81,14,da[0],4,2);mathlib.createPrun(ba,0,11520,14,R[0],4,2);ja=e(ea);ha=new mathlib.Searcher(null,function(a){return Math.max(mathlib.getPruning(V,a[0]),mathlib.getPruning(ba,a[1]))},function(a,b){return[da[0][b][a[0]],R[0][b][a[1]]]},4,2,ja)}function E(b,c){for(var d=0;d<c.length;d++)b=a.FtoMult(b,
a.moveCube[c[d]],null);return b}function z(a){for(var b=[],c=0;c<a.length;c++)b[c]=Y[a[c]];return b.join(" ").replace(/l/g,"BL").replace(/r/g,"BR")}function r(){}var v=[[0,54,9,63],[4,53,22,62],[8,67,35,49],[27,36,18,45],[13,44,31,71],[26,40,17,58]],p=[[1,57],[3,64],[6,51],[28,39],[21,37],[15,42],[12,55],[10,66],[33,69],[30,46],[19,48],[24,60]],H=[2,5,7,11,14,16,20,23,25,29,32,34],h=[38,41,43,47,50,52,65,68,70,56,59,61];a.prototype.isEqual=function(a){for(var b=0;12>b;b++)if(this.ep[b]!=a.ep[b]||
this.uf[b]!=a.uf[b]||this.rl[b]!=a.rl[b]||6>b&&(this.cp[b]!=a.cp[b]||this.co[b]!=a.co[b]))return!1;return!0};a.prototype.toFaceCube=function(a){var b=[];a=a||9;for(var c=[],d=0;6>d;d++)c[d]=2*this.co[d];mathlib.fillFacelet(v,b,this.cp,c,a);mathlib.fillFacelet(p,b,this.ep,[],a);mathlib.fillFacelet(H,b,this.uf,null,a);mathlib.fillFacelet(h,b,this.rl,null,a);return b};a.prototype.fromFacelet=function(a){for(var b=0,c=[],d=0;72>d;++d)c[d]=a[d],b+=Math.pow(16,c[d]);if(2576980377!=b)return-1;a=[];if(-1==
mathlib.detectFacelet(v,c,this.cp,a,9)||-1==mathlib.detectFacelet(p,c,this.ep,[],9))return-1;for(d=b=0;6>d;d++)this.co[d]=a[d]>>1,b^=this.co[d];if(0!=b||0!=mathlib.getNParity(mathlib.getNPerm(this.cp,6),6)||0!=mathlib.getNParity(mathlib.getNPerm(this.ep,12),12))return-1;a=[3,3,3,3];for(d=0;12>d;d++){b=c[H[d]];if(!(0<a[b]))return-1;this.uf[d]=3*b+3-a[b];a[b]--}a=[3,3,3,3];for(d=0;12>d;d++){b=[0,1,3,2][c[h[d]]-4];if(!(0<a[b]))return-1;this.rl[d]=3*b+3-a[b];a[b]--}if(0!=mathlib.getNParity(mathlib.getNPerm(this.uf,
12),12))for(d=0;12>d;d++)this.uf[d]^=2>this.uf[d]?1:0;if(0!=mathlib.getNParity(mathlib.getNPerm(this.rl,12),12))for(d=0;12>d;d++)this.rl[d]^=2>this.rl[d]?1:0;return this};a.prototype.toString=function(a){var b=this.toFaceCube(a);return"  U8 U7 U6 U5 U4      B8 B7 B6 B5 B4\nL4   U3 U2 U1   R8  r4   B3 B2 B1   l8\nL5 L1   U0   R3 R7  r5 r1   B0   l3 l7\nL6 L2 L0  R0 R2 R6  r6 r2 r0  l0 l2 l6\nL7 L3   F0   R1 R5  r7 r3   D0   l1 l5\nL8   F1 F2 F3   R4  r8   D1 D2 D3   l4\n  F4 F5 F6 F7 F8      D4 D5 D6 D7 D8".replace(/([UFrlDBRL])([0-8])/g,
function(a,c,d){a=9*"UFrlDBRL".indexOf(c)+~~d;return"UFrlDBRL"[~~(b[a]/9)]+b[a]%9})};a.FtoMult=function(){for(var b=arguments[arguments.length-1]||new a,c=0;c<arguments.length;c++){for(var d=arguments[arguments.length-1-c],e=0;6>e;e++)b.co[e]=0==c?0:d.co[b.cp[e]]^b.co[e],b.cp[e]=0==c?e:d.cp[b.cp[e]];for(e=0;12>e;e++)b.ep[e]=0==c?e:d.ep[b.ep[e]],b.uf[e]=0==c?e:d.uf[b.uf[e]],b.rl[e]=0==c?e:d.rl[b.rl[e]]}return b};(function(){var b=new a([1,2,0,4,5,3],[0,0,0,0,0,0],[2,0,1,5,3,4,10,11,6,7,8,9],[1,2,0,
7,8,6,10,11,9,4,5,3],[2,0,1,8,6,7,11,9,10,5,3,4]),c=new a([5,0,4,2,3,1],[1,1,0,1,1,0],[6,5,7,9,2,10,11,4,3,8,1,0],[5,3,4,8,6,7,2,0,1,11,9,10],[4,5,3,7,8,6,1,2,0,10,11,9]),d=a.FtoMult(b,b,null),e=a.FtoMult(c,c,null);d=a.FtoMult(d,c,b,null);var h=a.FtoMult(c,b,e,null);e=[];e[0]=new a([1,2,0,3,4,5],[0,0,0,0,0,0],[2,0,1,3,4,5,6,7,8,9,10,11],[1,2,0,3,4,5,6,7,8,9,10,11],[0,1,2,3,6,7,11,9,8,5,10,4]);e[2]=new a([4,1,2,3,5,0],[1,0,0,0,1,0],[0,1,2,3,4,6,7,5,8,9,10,11],[0,1,2,4,5,3,6,7,8,9,10,11],[0,9,10,3,
4,5,2,7,1,8,6,11]);e[4]=new a([0,5,2,1,4,3],[0,1,0,0,0,1],[0,1,2,3,10,5,6,7,8,9,11,4],[0,1,2,3,4,5,7,8,6,9,10,11],[5,3,2,11,4,10,6,7,8,9,0,1]);e[6]=new a([0,1,3,4,2,5],[0,0,1,1,0,0],[0,1,2,8,4,5,6,7,9,3,10,11],[0,1,2,3,4,5,6,7,8,10,11,9],[8,1,7,2,0,5,6,3,4,9,10,11]);e[8]=new a([0,1,2,5,3,4],[0,0,0,0,0,0],[0,1,2,4,5,3,6,7,8,9,10,11],[0,1,2,3,9,10,5,7,4,8,6,11],[1,2,0,3,4,5,6,7,8,9,10,11]);e[10]=new a([0,3,1,2,4,5],[0,1,1,0,0,0],[0,1,10,3,4,5,6,7,8,2,9,11],[0,6,7,3,4,5,11,9,8,2,10,1],[0,1,2,4,5,3,6,
7,8,9,10,11]);e[12]=new a([5,0,2,3,4,1],[1,1,0,0,0,0],[6,1,2,3,4,5,11,7,8,9,10,0],[5,3,2,8,4,7,6,0,1,9,10,11],[0,1,2,3,4,5,6,7,8,10,11,9]);e[14]=new a([2,1,4,3,0,5],[1,0,1,0,0,0],[0,8,2,3,4,5,6,1,7,9,10,11],[11,1,10,2,0,5,6,7,8,9,3,4],[0,1,2,3,4,5,7,8,6,9,10,11]);e[16]=a.FtoMult(b,e[8],null);e[18]=a.FtoMult(h,e[10],null);e[20]=a.FtoMult(c,e[6],null);e[22]=a.FtoMult(d,e[4],null);for(var f=1;24>f;f+=2)e[f]=new a,a.FtoMult(e[f-1],e[f-1],e[f]);d=[];for(f=0;24>f;f++)d[f]=e[f].ep.join(",");h=[];var m=[],
g=[],k=[],n=[],p=new a;new a;for(f=0;12>f;f++)h[f]=new a(p.cp,p.co,p.ep,p.uf,p.rl),n[f]=h[f].ep.join(","),m[f]=[],g[f]=[],p=a.FtoMult(p,b,null),2==f%3&&(p=a.FtoMult(p,c,b,null)),5==f%6&&(p=a.FtoMult(p,b,c,null));for(f=0;12>f;f++)for(b=0;12>b;b++)a.FtoMult(h[f],h[b],p),c=n.indexOf(p.ep.join(",")),m[f][b]=c,g[c][b]=f;for(f=0;12>f;f++)for(k[f]=[],b=0;8>b;b++)a.FtoMult(h[g[0][f]],e[2*b],h[f],p),c=d.indexOf(p.ep.join(",")),k[f][b]=c>>1;a.moveCube=e;a.symCube=h;a.symMult=m;a.symMulI=g;a.symMulM=k})();for(var w=
[0,2,22,6,16,10,12,14],L=null,m=null,D=null,G=null,u=[],J=0;12>J;J++)u.push(new a(a.symCube[J].cp,a.symCube[J].co,null,a.symCube[J].uf,null));var K=[0,12,14,8,10],M=null,P=null,S=null,T={},Q=null,C=null,fa=[],O=[],X=[],aa=new mathlib.Coord("c",12,[3,3,3,3]),oa=[[2,56,11,65],[5,52,23,61],[7,68,34,50],[29,38,20,47],[14,43,32,70],[25,41,16,59]],ea=[8,10,12,14],da=null,R=null,V=null,ba=null,ja=null,ha=null,Y="U U' F F' r r' l l' D D' B B' R R' L L'".split(" ");r.prototype.solveFto=function(b,e){if(!G){var h=
$.now();d();N();F();DEBUG&&console.log("[ftosolver] init time:",$.now()-h)}h=n(b);C||N();var f=$.now();for(var m=[],g=0;g<h.length;g++)m.push([M[1][A(h[g][0].ep)],P[1][c(h[g][0].rl)],S[1][x(h[g][0])],B(h[g][0].uf)]);g=C.solveMulti(m,0,25);m=g[0];var k=g[1],p=h[k],w=p[0];for(g=0;g<m.length;g++){var r=K[m[g][0]]+m[g][1];m[g]=2*a.symMulM[a.symMulI[0][p[3]]][r>>1]+(r&1);w=a.FtoMult(w,a.moveCube[r],null)}f=[w,m,p[2],p[3],k,$.now()-f];h=h[f[4]];this.sol1=h[1].slice();this.tt1=h[4];h=h[2];this.sol2=f[1].slice();
this.tt2=f[5];f[0]=a.FtoMult(u[a.symMulI[0][~~(h/12)]],f[0],null);h=f[0];V||F();g=$.now();m=da[1][q(h.ep)];k=R[1][t(h)];m=ha.solve([m,k],0,25);for(k=0;k<m.length;k++)p=ea[m[k][0]]+m[k][1],m[k]=2*a.symMulM[a.symMulI[0][f[3]]][p>>1]+(p&1),h=a.FtoMult(h,a.moveCube[p],null);h=[h,m,f[2],f[3],$.now()-g];this.sol3=h[1].slice();this.tt3=h[4];h=[].concat(this.sol1,this.sol2,this.sol3);if(e){for(f=0;f<h.length;f++)h[f]^=1;h.reverse()}return z(h)};var W=new r;return{solveFacelet:function(b,c){var d=new a;return-1==
d.fromFacelet(b)?"FTO Solver ERROR!":W.solveFto(d,c)},FtoCubie:a,testbench:function(b){b=b||100;for(var c=[],d=0;d<b;d++){var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];var h=[];for(var f=0;200>f;f++)h.push(e[~~(Math.random()*e.length)]);e=new a;for(f=0;f<h.length;f++)e=a.FtoMult(e,a.moveCube[h[f]],null);e=[e,h];h=z(e[1].slice());f=W.solveFto(e[0]);e=e[0];DEBUG&&console.log("scrambled state\n",e.toString(1));e=E(e,W.sol1);DEBUG&&console.log("after phase 1 ("+z(W.sol1)+"):\n",e.toString(1));e=E(e,W.sol2);
DEBUG&&console.log("after phase 2 ("+z(W.sol2)+"):\n",e.toString(1));e=E(e,W.sol3);DEBUG&&console.log("after phase 3 ("+z(W.sol3)+"):\n",e.toString(1));e=e.toFaceCube();var m=!0,g=0;a:for(;8>g;g++)for(var k=1;9>k;k++)if(e[9*g+k]!=e[9*g]){m=!1;break a}m||console.log("error, FTO not solved!!!");DEBUG&&console.log(h,f);h=[W.sol1.length+W.sol2.length+W.sol3.length,W.sol1.length,W.sol2.length,W.sol3.length,W.tt1,W.tt2,W.tt3];for(f=0;f<h.length;f++)c[f]=(c[f]||0)+h[f];console.log("AvgL: ",c[0]/(d+1))}console.log("AvgL1:",
c[1]/b);console.log("AvgL2:",c[2]/b);console.log("AvgL3:",c[3]/b);console.log("AvgT1:",c[4]/b);console.log("AvgT2:",c[5]/b);console.log("AvgT3:",c[6]/b)}}}();var klmsolver=function(){function a(){this.perm=[];this.twst=[];for(var a=0;20>a;a++)this.perm[a]=a,this.twst[a]=0}function l(){for(var b=[],c=[],d=0;48>d;d++)b[d]=new a;for(var e=0;48>e;e+=4){b[e].faceletMove(e>>2,1,0);c[e]=b[e].hashCode();for(var h=0;3>h;h++)a.KiloMult(b[e+h],b[e],b[e+h+1]),c[e+h+1]=b[e+h+1].hashCode()}a.moveCube=b;e=[];h=[];var f=[],m=[],g=[],k=new a;for(d=0;60>d;d++)e[d]=(new a).init(k.perm,k.twst),g[d]=e[d].hashCode(),h[d]=[],f[d]=[],k.faceletMove(0,1,1),4==d%5&&k.faceletMove(4==
d%10?1:2,1,1),29==d%30&&(k.faceletMove(1,2,1),k.faceletMove(2,1,1),k.faceletMove(0,3,1));for(d=0;60>d;d++)for(var p=0;60>p;p++){a.KiloMult(e[d],e[p],k);var n=g.indexOf(k.hashCode());h[d][p]=n;f[n][p]=d}for(d=0;60>d;d++)for(m[d]=[],p=0;12>p;p++)a.KiloMult3(e[f[0][d]],b[4*p],e[d],k),n=c.indexOf(k.hashCode()),m[d][p]=n>>2;a.symCube=e;a.symMult=h;a.symMulI=f;a.symMulM=m}function f(b){this.map=new a;this.imap=new a;this.map.perm=b.slice();for(var c=0;20>c;c++)-1==b.indexOf(c)&&this.map.perm.push(c);this.imap.invFrom(this.map);
this.tmp=new a}function g(a,b,c){a=a[c][~~(b/81/24)];return 1944*a[0]+81*n[~~(b/81)%24][a[1]]+k[x[a[1]][b%81]][a[2]]}function b(a,b,c){a=a[c][~~(b/27/6)];return 162*a[0]+27*n[~~(b/27)%6][a[1]]+k[x[a[1]][b%27*3]/3][a[2]]}function A(){function b(a,b){for(var c=0;4>c;c++)a[c]=b%3,b=~~(b/3)}function d(a){for(var b=0,c=3;0<=c;c--)b=3*b+a[c];return b}A=$.noop;var e=performance.now();l();for(var h=[],f=[],m=[],g=0;24>g;g++){n[g]=[];mathlib.setNPerm(h,g,4);for(var p=0;24>p;p++){mathlib.setNPerm(f,p,4);for(var w=
0;4>w;w++)m[w]=h[f[w]];n[g][p]=mathlib.getNPerm(m,4)}}for(p=0;24>p;p++)for(x[p]=[],mathlib.setNPerm(f,p,4),g=0;81>g;g++){b(h,g);for(w=0;4>w;w++)m[w]=h[f[w]];x[p][g]=d(m)}for(p=0;81>p;p++)for(k[p]=[],b(f,p),g=0;81>g;g++){b(h,g);for(w=0;4>w;w++)m[w]=(h[w]+f[w])%3;k[p][g]=d(m)}h=new a;f=new a;for(m=0;12>m;m++)for(g=0;g<m;g++)a.KiloMult(a.moveCube[4*m],a.moveCube[4*g],h),a.KiloMult(a.moveCube[4*g],a.moveCube[4*m],f),h.isEqual(f);c();q();t();DEBUG&&console.log("[kilo] init finished, tt=",performance.now()-
e)}function c(){H=new f([5,6,7,8,9]);var c=new a,d=new a;mathlib.createMove(F,1140,function(b,e){H.set(c,b,3);a.KiloMult(c,a.moveCube[4*e],d);return H.get(d,3)},12);mathlib.createPrun(r,0,184680,8,b.bind(null,F),12,4,5);var e=b.bind(null,F);L=new mathlib.Searcher(null,function(a){return Math.max(mathlib.getPruning(r,a[0]),mathlib.getPruning(r,a[1]))},function(a,b){var c=[e(a[0],b),e(a[1],B[b])];return c[0]==a[0]&&c[1]==a[1]?null:c},12,4,9)}function q(){h=new f([13,15,16,0,1,2,3,4,10,11,12,14,17,18,
19]);var c=new a,d=new a;mathlib.createMove(E,455,function(b,e){h.set(c,b,3);a.KiloMult(c,a.moveCube[4*e],d);return h.get(d,3)},6);mathlib.createPrun(v,0,73710,8,b.bind(null,E),6,4,4);var e=b.bind(null,E);m=new mathlib.Searcher(null,function(a){return Math.max(mathlib.getPruning(v,a[0]),mathlib.getPruning(v,a[1]))},function(a,b){var c=[e(a[0],b),e(a[1],N[b])];return c[0]==a[0]&&c[1]==a[1]?null:c},6,4)}function t(){w=new f([0,1,2,3,4,10,11,14,17,18]);var b=new a,c=new a;mathlib.createMove(z,210,function(d,
e){w.set(b,d);a.KiloMult(b,a.moveCube[4*e],c);return w.get(c)},3);var d=g.bind(null,z);mathlib.createPrun(p,0,408240,14,d,3,4,6);D=new mathlib.Searcher(null,function(a){return Math.max(mathlib.getPruning(p,a[0]),mathlib.getPruning(p,a[1]),mathlib.getPruning(p,a[2]))},function(a,b){return[d(a[0],b),d(a[1],(b+1)%3),d(a[2],(b+2)%3)]},3,4)}function e(a){for(var b=[],c=0;c<a.length;c++)b.push("U R F L BL BR DR DL DBL B DBR D".split(" ")[a[c][0]]+["","2","2'","'"][a[c][1]]);return b.join(" ")}function d(b,
c){A();var d=new a,f=new a,g=new a;d.init(b.perm,b.twst);for(var k=$.now(),p=0,n=[],r=0;r<(c?12:1);r++){a.KiloMult3(a.symCube[a.symMulI[0][5*r]],d,a.symCube[5*r],f);var v=H.get(f,3);a.KiloMult3(a.symCube[a.symMulI[0][2]],f,a.symCube[2],g);var l=H.get(g,3);n.push([162*v[0]+27*v[1]+v[2],162*l[0]+27*l[1]+l[2]])}n=L.solveMulti(n,0,9);v=5*n[1];n=n[0];a.KiloMult3(a.symCube[a.symMulI[0][v]],d,a.symCube[v],f);d.init(f.perm,f.twst);p=a.symMult[p][v];for(l=0;l<n.length;l++)r=n[l],a.KiloMult(d,a.moveCube[4*
r[0]+r[1]],f),d.init(f.perm,f.twst),r[0]=a.symMulM[a.symMulI[0][p]][r[0]];DEBUG&&console.log("[kilo] Phase1s in ",$.now()-k,"ms",n.length,"move(s) sym=",v);k=$.now();var q=[];for(r=0;r<(c?5:1);r++)a.KiloMult3(a.symCube[a.symMulI[0][r]],d,a.symCube[r],f),v=h.get(f,3),a.KiloMult3(a.symCube[a.symMulI[0][1]],f,a.symCube[1],g),l=h.get(g,3),q.push([162*v[0]+27*v[1]+v[2],162*l[0]+27*l[1]+l[2]]);g=m.solveMulti(q,0,14);v=g[1];g=g[0];a.KiloMult3(a.symCube[a.symMulI[0][v]],d,a.symCube[v],f);d.init(f.perm,f.twst);
p=a.symMult[p][v];for(l=0;l<g.length;l++)r=g[l],a.KiloMult(d,a.moveCube[4*r[0]+r[1]],f),d.init(f.perm,f.twst),r[0]=a.symMulM[a.symMulI[0][p]][r[0]];DEBUG&&console.log("[kilo] Phase2s in ",$.now()-k,"ms",g.length,"move(s) sym=",v);v=w.get(d);a.KiloMult3(a.symCube[a.symMulI[0][6]],d,a.symCube[6],f);l=w.get(f);a.KiloMult3(a.symCube[a.symMulI[0][29]],d,a.symCube[29],f);k=w.get(f);d=[81*(24*v[0]+v[1])+v[2],81*(24*l[0]+l[1])+l[2],81*(24*k[0]+k[1])+k[2]];k=$.now();d=D.solve(d,0,14);DEBUG&&console.log("[kilo] Phase3 in ",
$.now()-k,"ms",d.length,"move(s)");for(l=0;l<d.length;l++)r=d[l],r[0]=a.symMulM[a.symMulI[0][p]][r[0]];DEBUG&&console.log("[kilo] total length: ",n.length+g.length+d.length);return e(Array.prototype.concat(n,g,d))}a.SOLVED=new a;var y=[[2,8,14],[3,13,19],[4,18,24],[0,23,29],[1,28,9],[58,45,41],[57,50,46],[56,30,51],[55,35,31],[59,40,36],[10,7,33],[15,12,38],[20,17,43],[25,22,48],[5,27,53],[49,21,42],[54,26,47],[34,6,52],[39,11,32],[44,16,37]];a.prototype.toFaceCube=function(a){a=a||y;var b=[];mathlib.fillFacelet(a,
b,this.perm,this.twst,5);return b};a.prototype.fromFacelet=function(a,b){b=b||y;for(var c=0,d=[],e=0;60>e;++e)d[e]=a[e],c+=Math.pow(16,d[e]);return 93824992236885!=c||-1==mathlib.detectFacelet(b,d,this.perm,this.twst,5)?-1:this};a.prototype.hashCode=function(){for(var a=0,b=0;20>b;b++)a=0|31*a+3*this.perm[b]+this.twst[b];return a};a.KiloMult=function(a,b,c){for(var d=0;20>d;d++)c.perm[d]=a.perm[b.perm[d]],c.twst[d]=(a.twst[b.perm[d]]+b.twst[d])%3};a.KiloMult3=function(a,b,c,d){for(var e=0;20>e;e++)d.perm[e]=
a.perm[b.perm[c.perm[e]]],d.twst[e]=(a.twst[b.perm[c.perm[e]]]+b.twst[c.perm[e]]+c.twst[e])%3};a.prototype.invFrom=function(a){for(var b=0;20>b;b++)this.perm[a.perm[b]]=b,this.twst[a.perm[b]]=(3-a.twst[b])%3;return this};a.prototype.init=function(a,b){this.perm=a.slice();this.twst=b.slice();return this};a.prototype.isEqual=function(a){for(var b=0;20>b;b++)if(this.perm[b]!=a.perm[b]||this.twst[b]!=a.twst[b])return!1;return!0};a.prototype.setComb=function(a,b){b=b||4;for(var c=19,d=19;0<=d;d--)a>=mathlib.Cnk[d][b]?
(a-=mathlib.Cnk[d][b--],this.perm[d]=b):this.perm[d]=c--,this.twst[d]=0};a.prototype.getComb=function(a){for(var b=a=a||4,c=0,d=0,e=[],h=19;0<=h;h--)this.perm[h]<b&&(c+=mathlib.Cnk[h][a--],d=3*d+this.twst[h],e[a]=this.perm[h]);return[c,mathlib.getNPerm(e,b),d]};a.prototype.faceletMove=function(a,b,c){for(var d=this.toFaceCube(),e=[],h=0;12>h;h++){for(var f=0;5>f;f++)e[11*h+f]=d[5*h+f],e[11*h+f+5]=0;e[11*h+10]=0}mathlib.minx.doMove(e,a,b,c);for(h=0;12>h;h++)for(f=0;5>f;f++)d[5*h+f]=e[11*h+f];this.fromFacelet(d)};
f.prototype.get=function(b,c){a.KiloMult3(this.imap,b,this.map,this.tmp);return this.tmp.getComb(c)};f.prototype.set=function(b,c,d){this.tmp.setComb(c,d);a.KiloMult3(this.map,this.tmp,this.imap,b)};a.CombCoord=f;var n=[],x=[],k=[],B=[0,3,4,5,1,2,8,9,10,6,7,11],N=[0,2,3,4,5,1,7,8,9,10,6,11],F=[],E=[],z=[],r=[],v=[],p=[],H,h,w,L=null,m=null,D=null;return{KiloCubie:a,solveKiloCubie:d,checkSolver:function(){A();for(var b=new a,c=new a,h=[],f=0;200>f;f++){var m=mathlib.rn(12);h.push([m,0]);a.KiloMult(b,
a.moveCube[4*m],c);b.init(c.perm,c.twst)}return e(h)+"   "+d(b,!0)}}}();var scrMgr=function(a,l){function f(b,c,e){b=b||[[""]];c=c||[""];e=e||0;for(var d=0,f=-1,g=[],q,k,B=0;B<e;B++){do q=a(b.length),k=a(b[q].length),q!=f&&(d=0,f=q);while(0!=(d>>k&1));d|=1<<k;b[q][k].constructor==Array?g.push(l(b[q][k])+l(c)):g.push(b[q][k]+l(c))}return g.join(" ")}function g(a,c,e){DEBUG&&console.log("[regscr]",a);if($.isArray(a))for(e=0;e<a.length;e++)b[a[e]]=c;else b[a]=c,$.isArray(e)?A[a]=function(a,b){return a[b]}.bind(null,e):e&&(A[a]=e);"333"==a&&(b["333oh"]=b["333ft"]=c);return g}
var b={blank:function(){return"N/A"}},A={},c=!1;return{reg:g,scramblers:b,getExtra:function(a,b){if(a in A)return A[a](b)},mega:f,formatScramble:function(a){return a.replace(/[$#]\{([^\}]+)\}/g,function(a,c){if("$"==a[0]){var d=[c];"["==c[0]&&(d=JSON.parse(c));return b[d[0]].apply(this,d)}return"#"==a[0]?f.apply(this,JSON.parse("["+c+"]")):""})},rndState:function(a,b){if(void 0!=b){var e=b.slice();void 0==a&&(a=e);if(0==b[0])return a.slice();for(var d=0;d<a.length;d++)a[d]?c&&(e[d]=1):e[d]=0;return mathlib.rndProb(e)}},
fixCase:function(a,b){return void 0!=a?a:c?mathlib.rn(b.length):mathlib.rndProb(b)},setEqPr:function(a){c=a},getEqPr:function(){return c}}}(mathlib.rn,mathlib.rndEl),scramble=execMain(function(a,l){function f(){kernel.blur();kernel.pushSignal("scrambling",M);D.html(SCRAMBLE_SCRAMBLING+"...");O=!M||/^(remote|input$)/.exec(M)?O:M;X||(T=M,Q=P,C=S);X=!1;Q&&aa.addClass("click").unbind("click").click(g);M=v.getSelected()||"333";S=~~m.val();T!=M&&kernel.setProp("scrType",M);P="";requestAnimFrame(q)}function g(){X=
!0;D.html(c(T,Q,C,!0));aa.removeClass("click").unbind("click");void 0!=Q&&kernel.pushSignal("scrambleX",c(T,Q,C))}function b(){X?(X=!1,D.html(c(M,P,S,!0)),aa.addClass("click").unbind("click").click(g),kernel.pushSignal("scrambleX",c(M,P,S))):f()}function A(){if(P){var a=kernel.getProp("scrClk","n");"c"==a?(a=tools.getCurScramble()[1].trim(),$.clipboardCopy(a).then(logohint.push.bind(logohint,LGHINT_SCRCOPY),logohint.push.bind(logohint,"Copy Failed"))):"+"==a&&b()}}function c(a,b,c,d,e){b=b||"";c=
c||0;var h=K.exec(b);h&&(a=h[1],b=h[3],c=~~h[2]);h=b.replace(/<span[^>]*>(.*?)<\/span>/ig,"$1 ").replace(/~/g,"").replace(/\\n/g,"\n").replace(/`([^`]*)`/g,"$1");return d?(a=kernel.getProp("scrASize")?Math.max(.25,Math.round(20*Math.pow(50/Math.max(h.length,10),.3))/20):1,D.css("font-size",a+"em"),DEBUG&&console.log("[scrFontSize]",a),b.replace(/~/g,"&nbsp;").replace(/\\n/g,"\n").replace(/`([^`]*)`/g,e||kernel.getProp("scrKeyM",!1)?"<u>$1</u>":"$1")):[a,h,c]}function q(){d();P?(P=P.replace(/(\s*)$/,
""),D.html(c(M,P,S,!0)),kernel.pushSignal("scramble",c(M,P,S))):D.html(SCRAMBLE_SCRAMBLING+"... ")}function t(a,b,c){ea&&!a[0].startsWith("nocache_")&&(csTimerWorker&&csTimerWorker.getScramble?da=da||csTimerWorker.getScramble(a,function(a,b){DEBUG&&console.log("[scrcache]",a+" cached by csTimerWorker");e(a,b)}.bind(void 0,b)):c||(da=da||setTimeout(function(a,b){var c=N[b[0]];e(a,c.apply(c,b))}.bind(void 0,b,a),500)))}function e(a,b){var c=JSON.parse(localStorage.cachedScr||null)||{};$.isArray(c)&&
(c={});c[a]=b;localStorage.cachedScr=JSON.stringify(c);da=0}function d(){if(M){P="";var a=u[M]||M;if("input"==a)P=V.next();else if(V.clear(),a.startsWith("remote"))P=R.next(a);else if(R.clear(),a in N){var b=JSON.parse(localStorage.cachedScr||null)||{},c=JSON.stringify([a,S,J[1],fa]);ea&&c in b&&!a.startsWith("nocache_")?(P=b[c],delete b[c],localStorage.cachedScr=JSON.stringify(b)):P=N[a](a,S,ha(J[1],F(a,1)),fa);t([a,S,ha(J[1],F(a,1)),fa],c)}else requestAnimFrame(q)}}function y(){kernel.blur();var a=
v.getSelIdx();scrdata[a[0]]&&scrdata[a[0]][1]&&scrdata[a[0]][1][a[1]]||(a=[0,0]);a=scrdata[a[0]][1][a[1]][2];m.val(Math.abs(a));m[0].disabled=0>=a;a=v.getSelected();J=JSON.parse(kernel.getProp("scrFlt",JSON.stringify([a,F(a,0)])));p[0].disabled=m[0].disabled&&!F(a,0);J[0]!=a&&(J=[a,F(a,0)&&mathlib.valuedArray(F(a,0).length,1)],kernel.setProp("scrFlt",JSON.stringify(J),"session"))}function n(){y();f()}function x(){function a(){var a=F(M,0);if(a){a=mathlib.valuedArray(a.length,1);for(var c=!1,e=0;e<
b.length;e++)b[e][0].checked?c=!0:a[e]=0;c?(J=[M,a],a=JSON.stringify(J),kernel.getProp("scrFlt")!=a&&(d=!0,kernel.setProp("scrFlt",a))):alert(SCROPT_EMPTYALT);d&&f()}}h.empty();var b=[],c=[],d=!1,e=F(M,0);if(e){var m=F(M,2),g=e;J[0]==M&&(g=J[1]||e);h.append("<br>",w,L,"<br><br>");for(var k={},p=0;p<e.length;p++){var n=e[p].indexOf("-");-1==n?k[e[p]]=[p]:(n=e[p].slice(0,n),k[n]=k[n]||[],k[n].push(p))}for(p=0;p<e.length;p++){n=$('<input type="checkbox">').val(p);g[p]&&(n[0].checked=!0);b.push(n);n=
$("<label>").append(n,e[p]);if(m){var r=$('<img style="display:block;">');m(p,r);r.width("5em");r.height("5em");n.append("<br>",r);n.addClass("bimg")}c.push(n)}var v=function(a){var c=0;$.each(k[a],function(a,d){c+=b[d][0].checked?1:0});return c+"/"+k[a].length},l;for(l in k)1==k[l].length&&h.append(c[k[l][0]]);for(l in k)1!=k[l].length&&h.append($("<div>").attr("data",l).append($('<div class="sgrp">').append($("<span>").html(l+" "+v(l))," | ",$('<span class="click">').html(SCROPT_BTNALL).click(function(){var a=
$(this).parent().parent().attr("data");$.each(k[a],function(a,c){b[c][0].checked=!0});$(this).parent().children().first().html(a+" "+v(a))})," | ",$('<span class="click">').html(SCROPT_BTNNONE).click(function(){var a=$(this).parent().parent().attr("data");$.each(k[a],function(a,c){b[c][0].checked=!1});$(this).parent().children().first().html(a+" "+v(a))})," | ",$('<span class="click">[+]</span>').click(function(){$(this).parent().next().toggle()})),$("<div>").append($.map(k[l],function(a){b[a].change(function(){var a=
$(this).parent().parent().parent().attr("data");$(this).parent().parent().parent().find("span:first").html(a+" "+v(a))});return c[a]}))));w.unbind("click").click(function(){for(var a=0;a<b.length;a++)b[a][0].checked||(b[a][0].checked=!0),b[a].change()});L.unbind("click").click(function(){for(var a=0;a<b.length;a++)b[a][0].checked&&(b[a][0].checked=!1),b[a].change()})}kernel.showDialog([H,a,null,a],"scropt",SCROPT_TITLE)}function k(a,d){"time"==a?ba?f():(D.empty(),kernel.pushSignal("scramble",["-",
"",0])):"property"==a?"scrSize"==d[0]?G.css("font-size",d[1]/7+"em"):"scrMono"==d[0]?E.css("font-family",d[1]?"Monospace":"Arial"):"scrType"==d[0]?d[1]!=v.getSelected()&&(v.loadVal(d[1]),n()):"scrLim"==d[0]?d[1]?G.addClass("limit"):G.removeClass("limit"):"scrAlign"==d[0]?"c"==d[1]?E.css("text-align","center"):"l"==d[1]?E.css("text-align","left"):"r"==d[1]&&E.css("text-align","right"):"scrFast"==d[0]?(u["444wca"]=d[1]?"444m":"444wca","444wca"==M&&f()):"scrKeyM"==d[0]?D.html(X?c(T,Q||"",C||0,!0):c(M,
P||"",S,!0)):"scrHide"==d[0]?d[1]?z.hide():z.show():"scrNeut"==d[0]?(fa=~~d[1],"modify"==d[2]&&f()):"scrEqPr"==d[0]?scrMgr.setEqPr(!!d[1]):"scrClk"==d[0]&&(G.css("cursor",{n:"default",c:"copy","+":"pointer"}[d[1]]),"n"==d[1]?G.removeClass("noselect"):G.addClass("noselect")):"button"==a&&"scramble"==d[0]?(ba=d[1])&&""==D.html()&&f():"ctrl"==a&&"scramble"==d[0]?"last"==d[1]?g():"next"==d[1]&&b():"scrfix"==a&&d&&D.html(c(M,d,S,!0,!0))}function B(a,b){for(var c=0;c<scrdata.length;c++)for(var d=0;d<scrdata[c][1].length;d++)if(scrdata[c][1][d][1]==
a){b(c,d);return}}var N=scrMgr.scramblers,F=scrMgr.getExtra,E=$('<div id="scrambleDiv"/>'),z=$("<div />").addClass("title"),r=[$("<select />"),$("<select />")],v=new kernel.TwoLvMenu(scrdata,n,r[0],r[1],"333"),p=$('<input type="button" class="icon">').val(""),H=$("<div>"),h=$('<div class="sflt">'),w=$('<input type="button">').val(SCROPT_BTNALL),L=$('<input type="button">').val(SCROPT_BTNNONE),m=$('<input type="text" maxlength="3">'),D=$("<div>"),G=$('<div id="scrambleTxt"/>'),u={"333oh":"333","333ft":"333"},
J="",K=/^\$T([a-zA-Z0-9]+)(-[0-9]+)?\$\s*(.*)$/,M,P,S=0,T,Q,C=0,fa=0,O="333",X=!1,aa=$("<span />").html(SCRAMBLE_LAST),oa=$("<span />").addClass("click").html(SCRAMBLE_NEXT).click(b),ea=!0,da=0;$(function(){if(csTimerWorker&&csTimerWorker.getScramble){var a=['["444wca",40,null]'],b=JSON.parse(localStorage.cachedScr||null)||{};$.isArray(b)&&(b={});for(var c=0;c<a.length;c++)a[c]in b||setTimeout(t.bind(void 0,JSON.parse(a[c]),a[c],!0),2500+~~(5E3*Math.random()))}});var R=function(){function a(){kernel.setProp("scrType",
O)}function b(a){if(!$.isArray(a))return!1;c=a;return 0!=c.length}var c=[];return{next:function(d){for(var e=null;!e&&0!=c.length;)e=c.shift();if(e)return e;"remoteComp"==d?window.onlinecomp?onlinecomp.getScrambles().then(function(c){b(c)?requestAnimFrame(q):a()},a):a():"remoteBattle"==d?window.battle?battle.getScrambles().then(function(c){b(c)?requestAnimFrame(q):a()},a):a():"remoteURL"==d&&$.getJSON("https://cstimer.net/testRemoteScramble.php",function(c){b(c)?requestAnimFrame(q):a()}).error(a);
return""},clear:function(){c=[]}}}(),V=function(){function a(){var a=e.val();if(a.match(/^\s*$/))a=!1;else{c=[];a=a.split("\n");for(var b="$T"+h.val()+"$",d=0;d<a.length;d++){var f=a[d];null==f.match(/^\s*$/)&&(f=f.replace(/^\d+[\.\),]\s*/,""),K.exec(f)||(f=b+f),c.push(f))}a=0!=c.length}a?q():kernel.setProp("scrType",O)}function b(){kernel.setProp("scrType",O)}var c=[],d,e,h;return{next:function(){for(var f=null;!f&&0!=c.length;)f=c.shift();if(f)return f;if(!h){d=$("<table>");e=$('<textarea style="width:100%;height:100%;">');
h=$("<select>");f="333 222so 444wca 555wca 666wca 777wca clkwca mgmp pyrso skbso sqrs".split(" ");for(var m=0;m<f.length;m++)h.append($("<option>").val(f[m]).html(v.getValName(f[m])));d.append($("<tr height=0%>").append($("<td>").append("Scramble type:",h)),$("<tr height=100%>").append($("<td>").append(e)));h.val("333")}e.val("");kernel.showDialog([d,a,b],"input",SCRAMBLE_INPUT);return""},clear:function(){c=[]}}}(),ba=!1,ja=function(){function a(){var a=~~h.val();k="";for(var b=P,c=m.val(),e=0;e<
a;e++)d(),k+=c.replace("1",e+1)+P+"\n";P=b;f.text(k);$.clipboardCopy(k).then(logohint.push.bind(logohint,LGHINT_SCRCOPY),logohint.push.bind(logohint,"Copy Failed"));f.select()}function b(a){if(k){a=new Blob([k],{type:"text/plain"});var b=$('<a class="click"/>').appendTo("body");b.attr("href",URL.createObjectURL(a));b.attr("download","Scrambles_"+mathlib.time2str(new Date/1E3,"%Y%M%D_%h%m%s")+".txt");b[0].click();b.remove()}}var c=$("<div />").css("text-align","center").css("font-size","0.7em"),e=
$("<span />").addClass("click").html(SCRGEN_GEN),h=$('<input type="text" maxlength="3">').val(5),f=$('<textarea rows="10" style="width: 100%" readonly />'),m=$('<select><option value="1. ">1. </option><option value="1) ">1) </option><option value="(1) ">(1) </option><option value=""></option></select>'),g=$('<span class="click">').html("Download");c.append(SCRGEN_NSCR,h,"&nbsp;",SCRGEN_PRE).append(m,"<br>",e," | ",g,"<br>",f);var k="";return function(d){d&&(d.empty().append(c.width(E.width()/2)),
m.unbind("change").change(kernel.blur),e.unbind("click").click(a),g.unbind("click").click(b))}}(),ha=scrMgr.rndState;$(function(){kernel.regListener("scramble","time",k);kernel.regListener("scramble","property",k,/^scr(?:Size|Mono|Type|Lim|Align|Fast|KeyM|Hide|Neut|EqPr|Clk)$/);kernel.regListener("scramble","button",k,/^scramble$/);kernel.regListener("scramble","ctrl",k,/^scramble$/);kernel.regListener("scramble","scrfix",k);kernel.regProp("scramble","scrSize",2,PROPERTY_SCRSIZE,[15,5,50],1);kernel.regProp("scramble",
"scrASize",0,PROPERTY_SCRASIZE,[!0],1);kernel.regProp("scramble","scrMono",0,PROPERTY_SCRMONO,[!0],1);kernel.regProp("scramble","scrLim",0,PROPERTY_SCRLIM,[!1],1);kernel.regProp("scramble","scrAlign",1,PROPERTY_SCRALIGN,["c",["c","l","r"],PROPERTY_SCRALIGN_STR.split("|")],1);kernel.regProp("scramble","preScr",1,"pre-scramble",["",";y;y2;y';z2;z2 y;z2 y2;z2 y';z';z' y;z' y2;z' y';z;z y;z y2;z y';x';x' y;x' y2;x' y';x;x y;x y2;x y'".split(";"),"(UF);(UR) y;(UB) y2;(UL) y';(DF) z2;(DL) z2 y;(DB) z2 y2;(DR) z2 y';(RF) z';(RD) z' y;(RB) z' y2;(RU) z' y';(LF) z;(LU) z y;(LB) z y2;(LD) z y';(BU) x';(BR) x' y;(BD) x' y2;(BL) x' y';(FD) x;(FR) x y;(FU) x y2;(FL) x y'".split(";")],
1);kernel.regProp("scramble","preScrT",1,"training pre-scramble",["z2",";y;y2;y';z2;z2 y;z2 y2;z2 y';z';z' y;z' y2;z' y';z;z y;z y2;z y';x';x' y;x' y2;x' y';x;x y;x y2;x y'".split(";"),"(UF);(UR) y;(UB) y2;(UL) y';(DF) z2;(DL) z2 y;(DB) z2 y2;(DR) z2 y';(RF) z';(RD) z' y;(RB) z' y2;(RU) z' y';(LF) z;(LU) z y;(LB) z y2;(LD) z y';(BU) x';(BR) x' y;(BD) x' y2;(BL) x' y';(FD) x;(FR) x y;(FU) x y2;(FL) x y'".split(";")],1);kernel.regProp("scramble","scrNeut",1,PROPERTY_SCRNEUT,["n",["n","1","2","6"],PROPERTY_SCRNEUT_STR.split("|")],
1);kernel.regProp("scramble","scrEqPr",0,PROPERTY_SCREQPR,[!1],1);kernel.regProp("scramble","scrFast",0,PROPERTY_SCRFAST,[!1]);kernel.regProp("scramble","scrKeyM",0,PROPERTY_SCRKEYM,[!1],1);kernel.regProp("scramble","scrClk",1,PROPERTY_SCRCLK,["c",["n","c","+"],PROPERTY_SCRCLK_STR.split("|")],1);kernel.regProp("scramble","scrType",-6,"Scramble Type",["333"],3);m.change(f);p.click(x);H.append($("<div>").append(SCRAMBLE_LENGTH+": ",m),h);z.append($("<nobr>").append(r[0]," ",r[1]," ",p)," <wbr>");z.append($("<nobr>").append(aa,
"/",oa,SCRAMBLE_SCRAMBLE));E.append(z,G.append(D).click(A));tools.regTool("scrgen",TOOLS_SCRGEN,ja);G.click(function(){z.show();kernel.blur();kernel.setProp("scrHide",!1)});kernel.regProp("ui","scrHide",-1,"Hide Scramble Selector",[!1]);kernel.addWindow("scramble",BUTTON_SCRAMBLE,E,!0,!0,3);y()});return{getTypeName:function(a){var b="";B(a,function(a,c){b=scrdata[a][0]+">"+scrdata[a][1][c][0]});return b},getTypeIdx:function(a){var b=1E300;B(a,function(a,c){b=100*a+c});return b},scrStd:c,pushScramble:function(a){X||
(T=M,Q=P,C=S);X=!1;P=a;D.html(c(M,P,S,!0));aa.addClass("click").unbind("click").click(g);kernel.pushSignal("scrambleX",c(M,P,S))},setCacheEnable:function(a){ea=a}}},[mathlib.rn,mathlib.rndEl]);(function(a,l,f){function g(b,c){var d=t[b];switch(d.length){case 1:return a(d[0],[""],c);case 2:return a(d[0],d[1],c);case 3:return a(d[0],d[1],d[2])}}function b(a,b){var e=d[a],g=e[1],n=e[2],q=0,t=0,x=[],r=[["R","R'"],["R'","R"],["L","L'"],["L'","L"],["F'","F"],["F","F'"],["B","B'"],["B'","B"]],v=["U","D"];e=e[0];for(var p=0;p<n.length;p++)x[p]=0;for(p=0;p<b;p++){for(var H=!1;!H;)for(var h="",w=0;w<n.length;w++){var L=l(4);x[w]+=L;0!=L&&(H=!0,h+=" "+n[w]+c[L-1])}H=l(8);w=l(2);L=l(3);e+=h+" "+r[H][0]+
" "+v[w]+c[L]+" "+r[H][1];0==w&&(q+=L+1);1==w&&(t+=L+1)}for(p=0;p<n.length;p++)L=4-x[p]%4,4>L&&(e+=" "+n[p]+c[L-1]);q=4-q%4;t=4-t%4;4>q&&(e+=" U"+c[q-1]);4>t&&(e+=" D"+c[t-1]);return e+=" "+f(g)}function A(a,b){var c=e[a].replace(/%l/g,b).replace(/%c/g,'["","2","\'"]');return scrMgr.formatScramble(c)}var c=["","2","'"],q=["","2","'","2'"],t={111:[[["x"],["y"],["z"]],c],2223:[[["U"],["R"],["F"]],c],2226:[[[["U","D"]],[["R","L"]],[["F","B"]]],c],"333o":[[["U","D"],["R","L"],["F","B"]],c],334:[[[["U",
"U'","U2"],["u","u'","u2"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],336:[[[["U","U'","U2"],["u","u'","u2"],["3u","3u2","3u'"]],[["R2","L2","M2"]],[["F2","B2","S2"]]]],888:[["U D u d 3u 3d 4u".split(" "),"R L r l 3r 3l 4r".split(" "),"F B f b 3f 3b 4f".split(" ")],c],999:[["U D u d 3u 3d 4u 4d".split(" "),"R L r l 3r 3l 4r 4l".split(" "),"F B f b 3f 3b 4f 4b".split(" ")],c],101010:[["U D u d 3u 3d 4u 4d 5u".split(" "),"R L r l 3r 3l 4r 4l 5r".split(" "),"F B f b 3f 3b 4f 4b 5f".split(" ")],c],111111:[["U D u d 3u 3d 4u 4d 5u 5d".split(" "),
"R L r l 3r 3l 4r 4l 5r 5l".split(" "),"F B f b 3f 3b 4f 4b 5f 5b".split(" ")],c],444:[[["U","D","u"],["R","L","r"],["F","B","f"]],c],"444m":[[["U","D","Uw"],["R","L","Rw"],["F","B","Fw"]],c],555:[[["U","D","u","d"],["R","L","r","l"],["F","B","f","b"]],c],"555wca":[[["U","D","Uw","Dw"],["R","L","Rw","Lw"],["F","B","Fw","Bw"]],c],"666p":[[["U","D","2U","2D","3U"],["R","L","2R","2L","3R"],["F","B","2F","2B","3F"]],c],"666wca":[[["U","D","Uw","Dw","3Uw"],["R","L","Rw","Lw","3Rw"],["F","B","Fw","Bw",
"3Fw"]],c],"666s":[[["U","D","U&sup2;","D&sup2;","U&sup3;"],["R","L","R&sup2;","L&sup2;","R&sup3;"],["F","B","F&sup2;","B&sup2;","F&sup3;"]],c],"666si":[[["U","D","u","d","3u"],["R","L","r","l","3r"],["F","B","f","b","3f"]],c],"777p":[["U D 2U 2D 3U 3D".split(" "),"R L 2R 2L 3R 3L".split(" "),"F B 2F 2B 3F 3B".split(" ")],c],"777wca":[["U D Uw Dw 3Uw 3Dw".split(" "),"R L Rw Lw 3Rw 3Lw".split(" "),"F B Fw Bw 3Fw 3Bw".split(" ")],c],"777s":[["U D U&sup2; D&sup2; U&sup3; D&sup3;".split(" "),"R L R&sup2; L&sup2; R&sup3; L&sup3;".split(" "),
"F B F&sup2; B&sup2; F&sup3; B&sup3;".split(" ")],c],"777si":[["U D u d 3u 3d".split(" "),"R L r l 3r 3l".split(" "),"F B f b 3f 3b".split(" ")],c],crz3a:[[["U","D"],["R","L"],["F","B"]],c],cm3:[[[["U<","U>","U2"],["E<","E>","E2"],["D<","D>","D2"]],[["R^","Rv","R2"],["M^","Mv","M2"],["L^","Lv","L2"]]]],cm2:[[[["U<","U>","U2"],["D<","D>","D2"]],[["R^","Rv","R2"],["L^","Lv","L2"]]]],233:[[[["U","U'","U2"]],["R2","L2"],["F2","B2"]]],fto:[[["U","D"],["F","B"],["L","BR"],["R","BL"]],["","'"]],gear:[[["U"],
["R"],["F"]]," 2 3 4 5 6 ' 2' 3' 4' 5'".split(" ")],sfl:[[["R","L"],["U","D"]],c],ufo:[[["A"],["B"],["C"],[["U","U'","U2'","U2","U3"]]]],roux:[[["U"],["M"]],c],RrU:[[["U"],["R","r"]],c],RrUu:[[["U","u"],["R","r"]],c],minx2g:[[["U"],["R"]],q],lsll:[[[["R U R'","R U2 R'","R U' R'"]],[["F' U F","F' U2 F","F' U' F"]],[["U","U2","U'"]]]],prco:[[["F","B"],["U","D"],["L","DBR"],["R","DBL"],["BL","DR"],["BR","DL"]],q],skb:[[["R"],["L"],["B"],["U"]],["","'"]],ivy:[[["R"],["L"],["D"],["B"]],["","'"]],112:[[["R"],
["R"]],c],eide:[[["OMG"],["WOW"],["WTF"],["WOO-HOO WOO-HOO MATYAS YES YES YAY YEEEEEEEEEEEES".split(" ")],["HAHA"],["XD"],[":D"],["LOL"]],["","","","!!!"]]},e={sia113:'#{[["U","u"],["R","r"]],%c,%l} z2 #{[["U","u"],["R","r"]],%c,%l}',sia123:'#{[["U"],["R","r"]],%c,%l} z2 #{[["U"],["R","r"]],%c,%l}',sia222:'#{[["U"],["R"],["F"]],%c,%l} z2 y #{[["U"],["R"],["F"]],%c,%l}',335:'#{[[["U","U\'","U2"],["D","D\'","D2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',337:'#{[[["U","U\'","U2","u","u\'","u2","U u","U u\'","U u2","U\' u","U\' u\'","U\' u2","U2 u","U2 u\'","U2 u2"],["D","D\'","D2","d","d\'","d2","D d","D d\'","D d2","D\' d","D\' d\'","D\' d2","D2 d","D2 d\'","D2 d2"]],["R2","L2"],["F2","B2"]],0,%l} / ${333}',
r234:"2) ${222so}\\n3) ${333}\\n4) ${[444,40]}",r2345:'${r234}\\n5) ${["555",60]}',r23456:'${r2345}\\n6) ${["666p",80]}',r234567:'${r23456}\\n7) ${["777p",100]}',r234w:'2) ${222so}\\n3) ${333}\\n4) ${["444m",40]}',r2345w:'${r234w}\\n5) ${["555wca",60]}',r23456w:'${r2345w}\\n6) ${["666wca",80]}',r234567w:'${r23456w}\\n7) ${["777wca",100]}',rmngf:'${r2345w}\\n3oh) ${333}\\npyr) ${["pyrso",10]}\\n skb) ${skbso}\\nsq1) ${sqrs}\\nclk) ${clkwca}\\nmgm) ${["mgmp",70]}',"333ni":'${333}#{[[""]],["","Rw ","Rw2 ","Rw\' ","Fw ","Fw\' "],1}#{[[""]],["","Uw","Uw2","Uw\'"],1}',
"444bld":'${444wca}#{[[""]],[""," x"," x2"," x\'"," z"," z\'"],1}#{[[""]],[""," y"," y2"," y\'"],1}',"555bld":'${["555wca",%l]}#{[[""]],[""," 3Rw"," 3Rw2"," 3Rw\'"," 3Fw"," 3Fw\'"],1}#{[[""]],[""," 3Uw"," 3Uw2"," 3Uw\'"],1}'},d={"5edge":["r R b B",["B' b' R' r'","B' b' R' U2 r U2 r U2 r U2 r"],["u","d"]],"6edge":["3r r 3b b",["3b' b' 3r' r'","3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r","3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","d"]],"7edge":["3r r 3b b",["3b' b' 3r' r'",
"3b' b' 3r' U2 r U2 r U2 r U2 r","3b' b' r' U2 3r U2 3r U2 3r U2 3r","3b' b' r2 U2 3r U2 3r U2 3r U2 3r U2 r"],["u","3u","3d","d"]]},y;for(y in t)scrMgr.reg(y,g);for(y in e)scrMgr.reg(y,A);for(y in d)scrMgr.reg(y,b);scrMgr.reg("cubennn",function(b,d){if(1>=d)return"N/A";for(var e=[[],[],[]],f=0;f<d-1;f++)0==f%2?(e[0].push((4>f?"":~~(f/2+1))+(2>f?"U":"u")),e[1].push((4>f?"":~~(f/2+1))+(2>f?"R":"r")),e[2].push((4>f?"":~~(f/2+1))+(2>f?"F":"f"))):(e[0].push((4>f?"":~~(f/2+1))+(2>f?"D":"d")),e[1].push((4>
f?"":~~(f/2+1))+(2>f?"L":"l")),e[2].push((4>f?"":~~(f/2+1))+(2>f?"B":"b")));return a(e,c,10*d)})})(scrMgr.mega,mathlib.rn,mathlib.rndEl);var scramble_333=function(a,l,f,g,b){function A(){return d(0xffffffffffff,0xffffffffffff,4294967295,4294967295)}function c(a){for(var b=0,c=0;c<a.length;c++)-1==a[c]&&b++;return b}function q(a,b,c){for(var d=0,e=0,h=0;h<a.length;h++)-1!=a[h]&&(d+=a[h]);d%=c;for(h=0;h<a.length-1;h++)-1==a[h]&&(1==b--?a[h]=((c<<4)-d)%c:(a[h]=g(c),d+=a[h])),e*=c,e+=a[h];1==b&&(a[a.length-1]=((c<<4)-d)%c);return e}function t(b,c,d){for(var e=[0,1,2,3,4,5,6,7,8,9,10,11],h=0;h<b.length;h++)-1!=b[h]&&(e[b[h]]=-1);for(var m=
h=0;h<e.length;h++)-1!=e[h]&&(e[m++]=e[h]);var k;for(h=0;h<b.length&&0<c;h++)if(-1==b[h]){m=g(c);for(b[h]=e[m];11>m;m++)e[m]=e[m+1];2==c--&&(k=h)}f(a(b,b.length),b.length)==1-d&&(c=b[h-1],b[h-1]=b[k],b[k]=c);return a(b,b.length)}function e(a,b){if("number"!==typeof a)return a;for(var c=[],d=0;d<b;d++){var e=a&15;c[d]=15==e?-1:e;a/=16}return c}function d(d,h,m,g,k,p,n,w,r){p=p||P;n=n||P;d=e(d,12);h=e(h,12);m=e(m,8);g=e(g,8);var v="";do{var l=h.slice(),H=d.slice(),C=g.slice(),L=m.slice(),B=q(l,c(l),
2),O=q(C,c(C),3);var Q=c(H);var x=c(L);1==Q&&(t(H,Q,-1),Q=0);1==x&&(t(L,x,-1),x=0);0==Q&&0==x?(Q=a(H,12),x=a(L,8)):0!=Q&&0==x?(x=a(L,8),Q=t(H,Q,f(x,8))):(Q=0==Q&&0!=x?a(H,12):t(H,Q,-1),x=t(L,x,f(Q,12)));if(0!=x+O+Q+B){v=b(n);B=b(p);O=new mathlib.CubieCube;Q=new mathlib.CubieCube;for(x=0;12>x;x++)O.ea[x]=H[x]<<1|l[x],8>x&&(O.ca[x]=C[x]<<3|L[x]);for(x=0;x<v.length;x++)mathlib.CubieCube.CubeMult(mathlib.CubieCube.moveCube[v[x]],O,Q),O.init(Q.ca,Q.ea);for(x=0;x<B.length;x++)mathlib.CubieCube.CubeMult(O,
mathlib.CubieCube.moveCube[B[x]],Q),O.init(Q.ca,Q.ea);k&&(O.ori=mathlib.rn([1,4,8,1,1,1,24][k]),O.selfConj(),O.ori=0);l=O.toFaceCube();v=u.solution(l,21,1E9,50,2,r,w)}}while(3>=v.length);return v.replace(/ +/g," ")}function y(){return d(0xffffffffffff,0xffffffffffff,1985229328,0)}function n(){return d(0xba9876543210,0,4294967295,4294967295)}function x(a,b,c,e){return d(0xba987654ffff,65535,1985282047,65535,e)}function k(a,b,c,e){a=S[scrMgr.fixCase(c,T)][0];b=Math.pow(16,a&15);c=Math.pow(16,a>>8&15);
return d(0xba9f7654ffff-7*b,64424574975-(15^a>>4&1)*b,1986002943-11*c,1048575-(15^a>>12&3)*c,e,J)}function B(a,b,c,d,e){var h=b[scrMgr.fixCase(d,c)][0];b=[[5,10],[7,19],[3,-1],[1,-1],null,null,null,null,[23,12]][h&15];c=h>>4&1;d=[[8,20,9],[6,-1,18],[0,-1,-1],[2,11,-1],[-1,15,26]][h>>8&15];h=h>>12&3;a=a.split("");for(var f=0;3>f;f++)2>f&&0<=b[f]&&(a[b[f]]="BR".charAt(c^f)),0<=d[f]&&(a[d[f]]="URB".charAt((h+3+f)%3));image.face3Image(a.join(""),e)}function N(a,b,c,e){return d(0xffff7654ffff,0xffff0000ffff,
4294967295,4294967295,e)}function F(a,b,c,e){a=ba[scrMgr.fixCase(c,ja)];return d(a[2]+0xba9876540000,0,a[0]+1985216512,a[1],e,J,J)}function E(a,b){var c=ba[a][3];if(!b)return[c,null,ha[a]];image.llImage.drawImage(c,null,b)}function z(a,b,c,e){a=Y[scrMgr.fixCase(c,W)];return d(0xba987654ffff,0,a[0]+1985216512,a[1],e,J,J)}function r(a,b,c){a=Y[scrMgr.fixCase(c,W)];b=g(4);c=[];for(var e=0;e<J.length;e++)c.push(J[e].concat(K[b]));return d(0xba98f6f4ffff,4042326015,a[0]+1985216512,a[1],0,c,J)+M[b]}function v(a,
b,c){a=Y[b][2].replace(/e/g,a||"U");if(!c)return[a,null,Z[b]];image.llImage.drawImage(a,null,c)}function p(a,b,c,e){return d(0xba9876543f1f,0,1985282047,65535,e,J)}function H(a,b,c,e){a=ua[scrMgr.fixCase(c,ma)];return d(0xba9876540000+a[1],0,1984954368+a[0],0,e,J,J)}function h(){var a=g(4);return d(0xba98f6f4ffff,4042326015,1985229328,0,0,[K[a]],J)+M[a]}function w(a,b,c,e){a=Y[scrMgr.fixCase(c,W)];return d(0xba987654ffff,65535,a[0]+1985216512,a[1],e,J,J)}function L(a,b,c,e){return d(0xba987654ffff,
65535,1985229328,0,e)}function m(a,b){var c=na[a].slice(1);2==c.length&&(c=c.concat([[c[0][1],c[0][0]],[c[1][1],c[1][0]]]));c=["DDDDDDDDD"+na[a][0],c];if(!b)return c.concat([za[a]]);image.llImage.drawImage(c[0],c[1],b)}function D(a,b){for(var c="",d=Ca[a][4],e=0;21>e;e++)4==e?c+="D":(c+=d&1?"D":"G",d>>=1);if(!b)return[c,null,ra[a]];image.llImage.drawImage(c,null,b)}function G(a){var b=a.join("|");if(!Aa[b]){for(var c=[],d=0;d<a.length;d++){var e=new mathlib.CubieCube;e.selfMoveStr(a[d]);c.push(e.toPerm())}Aa[b]=
new grouplib.SchreierSims(c)}do{a=Aa[b].rndElem();for(c=0;c<a.length;c++)a[c]="URFDLB".charAt(~~(a[c]/9));a=u.solution(a.join(""),21,1E9,50,2)}while(3>=a.length);return a.replace(/ +/g," ")}var u=new min2phase.Search,J=[[],[0],[1],[2]],K=[[],[3,14],[4,13],[5,12]],M=["","x'","x2","x"],P=[[]],S=[[8192,4,"Easy-01"],[4113,4,"Easy-02"],[8210,4,"Easy-03"],[4099,4,"Easy-04"],[8195,4,"RE-05"],[4114,4,"RE-06"],[8194,4,"RE-07"],[4115,4,"RE-08"],[8211,4,"REFC-09"],[4098,4,"REFC-10"],[8208,4,"REFC-11"],[4097,
4,"REFC-12"],[8209,4,"REFC-13"],[4096,4,"REFC-14"],[8193,4,"SPGO-15"],[4112,4,"SPGO-16"],[0,4,"SPGO-17"],[17,4,"SPGO-18"],[3,4,"PMS-19"],[18,4,"PMS-20"],[2,4,"PMS-21"],[19,4,"PMS-22"],[1,4,"Weird-23"],[16,4,"Weird-24"],[1024,4,"CPEU-25"],[1041,4,"CPEU-26"],[5120,4,"CPEU-27"],[9233,4,"CPEU-28"],[5137,4,"CPEU-29"],[9216,4,"CPEU-30"],[24,4,"EPCU-31"],[8,4,"EPCU-32"],[8200,4,"EPCU-33"],[4104,4,"EPCU-34"],[8216,4,"EPCU-35"],[4120,4,"EPCU-36"],[1048,1,"ECP-37"],[5128,1,"ECP-38"],[9224,1,"ECP-39"],[5144,
1,"ECP-40"],[9240,1,"ECP-41"],[1032,1,"Solved-42"]],T=mathlib.idxArray(S,1);l=mathlib.idxArray(S,2);for(var Q=[],C=[],fa=[],O=0;O<S.length;O++)S[O][0]&240||(Q.push(S[O]),C.push(T[O]),fa.push(l[O]));var X=[],aa=[];for(O=0;27>O;O++)X[O]=~~(O/9)<<12|~~(O/3)%3<<8|O%3,aa[O]=1;var oa=[],ea=[],da=[];for(O=0;216>O;O++){var R=O%27,V=~~(O/27);oa[O]=[~~(R/9)%3<<12|~~(R/3)%3<<8|R%3,(V>>2&1)<<12|(V>>1&1)<<8|V&1];ea[O]=1;da[O]="WVLS;UB;UF;UF UB;UL;UB UL;UF UL;No Edge".split(";")[V]+"-"+(R+1)}var ba=function(){for(var a=
[],b=[],c=new mathlib.CubieCube,d=0;15552>d;d++)if(!(a[d>>5]>>(d&31)&1)){var e=d%24,h=~~(d/24)%24,f=~~(d/24/24);if(mathlib.getNParity(h,4)==mathlib.getNParity(e,4)){f=mathlib.setNOri([],f,4,-3);h=mathlib.setNPerm([],h,4,0);var m=mathlib.setNPerm([],e,4,0);e=[0,0,0,null,0,null];for(var g=0;4>g;g++)e[0]+=h[g]<<4*g,e[1]+=f[g]<<4*g,e[2]+=m[g]<<4*g;for(var k=0;16>k;k++){var p=k>>2,n=k&3,w=[],r=[],v=[];for(g=0;4>g;g++)w[g+p&3]=f[g],r[g+p&3]=h[g]+n&3,v[g+p&3]=m[g]+n&3;g=mathlib.getNOri(w,4,-3);r=mathlib.getNPerm(r,
4,0);v=mathlib.getNPerm(v,4,0);g=24*(24*g+r)+v;a[g>>5]>>(g&31)&1||(a[g>>5]|=1<<(g&31),e[4]++)}for(g=0;12>g;g++)c.ea[g]=m[g]<<1,8>g&&(c.ca[g]=f[g]<<3|h[g]);f=e;h=[0,1,2,3,4,5,6,7,8,18,19,20,9,10,11,45,46,47,36,37,38];g=c.toPerm();m=[];for(k=0;k<h.length;k++)m[k]="DDDDDDDDDLLLLLLLLLFFFFFFFFFUUUUUUUUURRRRRRRRRBBBBBBBBB"[g[h[k]]];h=m.join("");f[3]=h;0<d&&b.push(e)}}a={0:"O",18:"U",33:"T",258:"L",273:"aS",546:"S",4386:"Pi",4626:"H"};c={};for(g=0;g<b.length;g++)e=b[g],d=a[e[1]],c[d]=c[d]||[],f=c[d],h=f.indexOf(e[0]),
-1==h?(h=f.length,f.push(e[0],1)):f[h+1]++,e[5]=d+((h>>1)+1)+"-"+c[d][h+1];return b}(),ja=mathlib.idxArray(ba,4),ha=mathlib.idxArray(ba,5),Y=[[12816,8481,"FeFeeeBeBLGRDGDRGLDGD",2,"H-1"],[8961,4626,"ReLeeeReLBGBDGDFGFDGD",2,"H-2"],[4611,4626,"ReBeeeLeBFGRDGDLGFDGD",4,"H-3"],[8211,4626,"LeReeeFeFRGLDGDBGBDGD",4,"H-4"],[12321,4128,"DeLeeeReDBGRFGBDGFLGD",4,"L-1"],[4611,513,"DeReeeLeDFGBRGFDGLBGD",4,"L-2"],[8961,258,"DeBeeeLeDFGRFGRDGLBGD",4,"L-3"],[12816,4128,"DeLeeeFeDRGFLGBDGBRGD",4,"L-4"],[12546,
4128,"DeLeeeLeDFGBRGBDGRFGD",4,"L-5"],[8211,513,"DeReeeReDBGLBGFDGFLGD",4,"L-6"],[12816,4386,"LeFeeeReFBGDRGLDGBDGD",4,"Pi-1"],[8961,8466,"FeLeeeFeRRGDBGBDGLDGD",4,"Pi-2"],[4611,4641,"ReLeeeReLBGDFGBDGFDGD",4,"Pi-3"],[12546,4386,"BeFeeeFeBRGDLGLDGRDGD",4,"Pi-4"],[8211,4641,"BeLeeeLeFFGDRGBDGRDGD",4,"Pi-5"],[12321,4386,"BeReeeLeBFGDLGFDGRDGD",4,"Pi-6"],[12816,8736,"ReBeeeFeDRGFLGDLGDBGD",4,"S-1"],[8961,546,"BeReeeLeDFGRFGDBGDLGD",4,"S-2"],[12321,8736,"BeReeeFeDRGFLGDBGDLGD",4,"S-3"],[8211,8706,"ReBeeeLeDFGRFGDLGDBGD",
4,"S-4"],[12546,8736,"FeBeeeLeDFGBRGDLGDRGD",4,"S-5"],[4611,8706,"LeReeeFeDRGLBGDBGDFGD",4,"S-6"],[4611,4098,"BeLeeeDeDBGRFGDFGRDGL",4,"T-1"],[12546,8448,"ReBeeeDeDLGBRGDLGFDGF",4,"T-2"],[8961,528,"BeFeeeDeDBGFLGDRGRDGL",4,"T-3"],[12816,8448,"FeFeeeDeDBGBRGDRGLDGL",4,"T-4"],[8211,4098,"BeBeeeDeDLGRFGDLGRDGF",4,"T-5"],[12321,8448,"FeBeeeDeDRGRFGDLGLDGB",4,"T-6"],[8961,288,"LeLeeeDeDFGBRGBDGDFGR",4,"U-1"],[12816,4608,"LeReeeDeDBGBRGFDGDFGL",4,"U-2"],[12321,4608,"FeFeeeDeDBGBRGLDGDRGL",4,"U-3"],[8211,
8193,"BeFeeeDeDFGBRGLDGDLGR",4,"U-4"],[4611,8193,"ReFeeeDeDBGRFGLDGDBGL",4,"U-5"],[12546,4608,"LeBeeeDeDBGRFGRDGDFGL",4,"U-6"],[12816,4353,"LeFeeeDeRRGFDGLDGBDGB",4,"aS-1"],[8961,4368,"ReFeeeDeLRGBDGLDGFDGB",4,"aS-2"],[12321,4353,"LeBeeeDeFFGLDGRDGBDGR",4,"aS-3"],[8211,4113,"LeFeeeDeBFGRDGLDGBDGR",4,"aS-4"],[4611,4113,"FeBeeeDeLFGBDGRDGLDGR",4,"aS-5"],[12546,4353,"FeBeeeDeRBGFDGRDGLDGL",4,"aS-6"],[12321,0,"DeDeeeDeDBGRFGBRGFLGL",4,"O-Adj"],[8961,0,"DeDeeeDeDBGFLGRFGBRGL",1,"O-Diag"],[12816,0,"DeDeeeDeDBGBRGRFGFLGL",
1,"O-AUF"]],W=mathlib.idxArray(Y,3),Z=mathlib.idxArray(Y,4),ua=[[205840,12816,"FBar-1"],[205840,12546,"FBar-2"],[205840,12321,"FBar-3"],[205840,8961,"FBar-4"],[205840,8496,"FBar-5"],[205840,8211,"FBar-6"],[205840,4896,"FBar-7"],[205840,4611,"FBar-8"],[205840,4146,"FBar-9"],[205840,786,"FBar-10"],[205840,561,"FBar-11"],[205840,291,"FBar-12"],[205825,12801,"2Opp-1"],[205825,12576,"2Opp-2"],[205825,12306,"2Opp-3"],[205825,8976,"2Opp-4"],[205825,8451,"2Opp-5"],[205825,8241,"2Opp-6"],[205825,4866,"2Opp-7"],
[205825,4656,"2Opp-8"],[205825,4131,"2Opp-9"],[205825,801,"2Opp-10"],[205825,531,"2Opp-11"],[205825,306,"2Opp-12"],[201760,12801,"ROpp-1"],[201760,12576,"ROpp-2"],[201760,12306,"ROpp-3"],[201760,8976,"ROpp-4"],[201760,8451,"ROpp-5"],[201760,8241,"ROpp-6"],[201760,4866,"ROpp-7"],[201760,4656,"ROpp-8"],[201760,4131,"ROpp-9"],[201760,801,"ROpp-10"],[201760,531,"ROpp-11"],[201760,306,"ROpp-12"],[201730,12816,"RBar-1"],[201730,12546,"RBar-2"],[201730,12321,"RBar-3"],[201730,8961,"RBar-4"],[201730,8496,
"RBar-5"],[201730,8211,"RBar-6"],[201730,4896,"RBar-7"],[201730,4611,"RBar-8"],[201730,4146,"RBar-9"],[201730,786,"RBar-10"],[201730,561,"RBar-11"],[201730,291,"RBar-12"],[197665,12816,"2Bar-1"],[197665,12546,"2Bar-2"],[197665,12321,"2Bar-3"],[197665,8961,"2Bar-4"],[197665,8496,"2Bar-5"],[197665,8211,"2Bar-6"],[197665,4896,"2Bar-7"],[197665,4611,"2Bar-8"],[197665,4146,"2Bar-9"],[197665,786,"2Bar-10"],[197665,561,"2Bar-11"],[197665,291,"2Bar-12"],[197650,12801,"FOpp-1"],[197650,12576,"FOpp-2"],[197650,
12306,"FOpp-3"],[197650,8976,"FOpp-4"],[197650,8451,"FOpp-5"],[197650,8241,"FOpp-6"],[197650,4866,"FOpp-7"],[197650,4656,"FOpp-8"],[197650,4131,"FOpp-9"],[197650,801,"FOpp-10"],[197650,531,"FOpp-11"],[197650,306,"FOpp-12"]],ma=[],la=[];for(O=0;O<ua.length;O++)ma[O]=1,la[O]=ua[O][2];var Ba=[[4146,12816,1,"H"],[12546,12816,4,"Ua"],[12321,12816,4,"Ub"],[8961,12816,2,"Z"],[12816,12321,4,"Aa"],[12816,12546,4,"Ab"],[12816,8961,2,"E"],[12306,12801,4,"F"],[8496,12321,4,"Ga"],[4896,12546,4,"Gb"],[12321,12546,
4,"Gc"],[12546,12321,4,"Gd"],[12801,12801,4,"Ja"],[12576,12801,4,"Jb"],[4656,12306,1,"Na"],[12306,12306,1,"Nb"],[531,12801,4,"Ra"],[8976,12801,4,"Rb"],[4656,12801,4,"T"],[12576,12306,4,"V"],[12801,12306,4,"Y"]],ia=mathlib.idxArray(Ba,2),za=mathlib.idxArray(Ba,3),na=[["BFBRLRFBFLRL",[1,7],[3,5]],["BRBRLRFFFLBL",[3,7],[7,5],[5,3]],["BLBRBRFFFLRL",[3,5],[5,7],[7,3]],["LFLBRBRBRFLF",[1,5],[3,7]],["LBBRRLBFRFLF",[0,2],[2,6],[6,0]],["RBFLRRFFLBLB",[0,6],[6,8],[8,0]],["LBRFRBRFLBLF",[0,6],[2,8]],["BFRFRBRBFLLL",
[1,7],[2,8]],["BRRFLBRBFLFL"],["BFRFBBRLFLRL"],["BFRFLBRRFLBL"],["BLRFFBRBFLRL"],["BBRFFBRRFLLL",[1,5],[2,8]],["LBBRLLBRRFFF",[2,8],[5,7]],["FBBRLLBFFLRR",[2,6],[3,5]],["BBFLLRFFBRRL",[0,8],[3,5]],["LLBRBLBFRFRF",[1,3],[2,8]],["RBFLFRFLLBRB",[2,8],[3,7]],["BBRFLBRFFLRL",[2,8],[3,5]],["BBFLFRFRBRLL",[0,8],[1,5]],["BBFLRRFLBRFL",[0,8],[1,3]]],Ca=[[0,0,1,"PLL",255],[4369,4626,2,"Point-1",965120],[4369,4386,4,"Point-2",907776],[4369,546,4,"Point-3",374304],[4369,273,4,"Point-4",447360],[17,8226,4,"Square-5",
538123],[17,4113,4,"Square-6",396054],[17,8706,4,"SLBS-7",79402],[17,273,4,"SLBS-8",410514],[17,4368,4,"Fish-9",152458],[17,8736,4,"Fish-10",627788],[17,546,4,"SLBS-11",595470],[17,4353,4,"SLBS-12",281363],[257,8226,4,"Knight-13",108088],[257,273,4,"Knight-14",181144],[257,546,4,"Knight-15",566809],[257,4113,4,"Knight-16",166684],[4369,258,4,"Point-17",308097],[4369,18,4,"Point-18",300805],[4369,33,4,"Point-19",825861],[4369,0,1,"CO-20",299685],[0,4626,2,"OCLL-21",83290],[0,4386,4,"OCLL-22",672858],
[0,18,4,"OCLL-23",82170],[0,33,4,"OCLL-24",66014],[0,258,4,"OCLL-25",132222],[0,273,4,"OCLL-26",133470],[0,546,4,"OCLL-27",74874],[17,0,4,"CO-28",4783],[17,528,4,"Awkward-29",70542],[17,8448,4,"Awkward-30",144042],[17,33,4,"P-31",328598],[17,4098,4,"P-32",22059],[257,33,4,"T-33",99228],[257,528,4,"C-34",172728],[17,4128,4,"Fish-35",303569],[17,258,4,"W-36",803475],[17,8208,4,"Fish-37",13195],[17,513,4,"W-38",72238],[257,4128,4,"BLBS-39",100924],[257,258,4,"BLBS-40",574105],[17,4608,4,"Awkward-41",
86698],[17,288,4,"Awkward-42",38221],[17,18,4,"P-43",918166],[17,8193,4,"P-44",14891],[257,18,4,"T-45",688796],[257,288,4,"C-46",276579],[17,4641,4,"L-47",338706],[17,4386,4,"L-48",677386],[17,8466,4,"L-49",935442],[17,8721,4,"L-50",967760],[257,4641,4,"I-51",109336],[257,4386,4,"I-52",342338],[17,8481,4,"L-53",345874],[17,4626,4,"L-54",87818],[257,8481,2,"I-55",116504],[257,4626,2,"I-56",698904],[257,0,2,"CO-57",33469]],ca=mathlib.idxArray(Ca,2),ra=mathlib.idxArray(Ca,3),va=[[],[9],[10],[11]],qa=
["","y","y2","y'"];R="UR UF UL UB DR DF DL DB RF LF LB RB URF UFL ULB UBR DFR DLF DBL DRB".split(" ");for(O=0;20>O;O++)V=R[O],R[O+20]=(2==V.length?"OriE-":"OriC-")+V,R[O]=(2==V.length?"PermE-":"PermC-")+V;O=mathlib.valuedArray(40,0);var Aa={};scrMgr.reg("333",A)("333fm",function(){return"R' U' F "+d(0xffffffffffff,0xffffffffffff,4294967295,4294967295,0,void 0,void 0,2,1)+"R' U' F"})("edges",y)("corners",n)("333custom",function(a,b,c,e){var h=b=a=0,f=0,m=4352;c=c||mathlib.valuedArray(40,1);for(var g=
0;12>g;g++)m+=(c[g]?69632:0)+(c[g+20]?16:0),a+=(c[g]?15:g)*Math.pow(16,g),b+=(c[g+20]?15:0)*Math.pow(16,g);for(g=0;8>g;g++)m+=(c[g+12]?65792:0)+(c[g+32]?1:0),h+=(c[g+12]?15:g)*Math.pow(16,g),f+=(c[g+32]?15:0)*Math.pow(16,g);return 0==(m&1887470)?"U' U ":d(a,b,h,f,e)},[R,O])("ll",x)("lsll2",k,[l,T,B.bind(null,"GGGGDGGGGGGGGRRGRRGGGBBGBBG",S,T)])("f2l",N)("zbll",F,[ha,ja,E])("zzll",p)("zbls",k,[l,T,B.bind(null,"GGGGDGGGGGGGGRRGRRGGGBBGBBG",S,T)])("ttll",H,[la,ma,function(a,b){for(var c=[],d=ua[a],e=
3;0<=e;e--)c.push(["FR","LF","BL","RB","GG"][d[0]>>4*e&15]),c.push("RFLB".charAt(d[1]>>4*e&15));c=c.join("");c=c.slice(7)+c.slice(0,7);c=["GDDDDDDDD"+c,null];if(!b)return c.concat([la[a]]);image.llImage.drawImage(c[0],c[1],b)}])("eols",function(a,b,c,e){a=Q[scrMgr.fixCase(c,C)];b=Math.pow(16,a>>8&15);return d(0xba9f7654ffff-7*Math.pow(16,a&15),0,1986002943-11*b,1048575-(15^a>>12&3)*b,e,J)},[fa,C,B.bind(null,"GDGDDDGDGGGGGRRGRRGGGBBDBBG",Q,C)])("wvls",function(a,b,c,e){a=X[scrMgr.fixCase(c,aa)];return d(0xba9f7654ff8f,
0,1986002767,983072|a,e)},["Oriented Rectangle-1 Rectangle-2 Tank-1 Bowtie-1 Bowtie-3 Tank-2 Bowtie-2 Bowtie-4 Snake-1 Adjacent-1 Adjacent-2 Gun-Far Sune-1 Pi-Near Gun-Back Pi-Front H-Side Snake-2 Adjacent-3 Adjacent-4 Gun-Sides H-Front Pi-Back Gun-Near Pi-Far Sune-2".split(" "),aa,function(a,b){var c=X[scrMgr.fixCase(a,aa)],d=["DGG","GDG","GGD"];d=d[c&3]+d[c>>8&3]+d[c>>12&3];image.llImage.drawImage("3D6DDDBB0RR21G87G54GU".replace(/[0-9]/g,function(a){return d[~~a]}),null,b)}])("vls",function(a,b,
c,e){a=oa[scrMgr.fixCase(c,ea)];return d(0xba9f7654ff8f,64424509440+a[1],1986002767,983072+a[0],e,[[2]])},[da,ea,function(a,b){var c=oa[scrMgr.fixCase(a,ea)],d=["DGG","GDG","GGD"];d=d[c[0]&3]+d[c[0]>>8&3]+d[c[0]>>12&3];var e=["DG","GD"];e=e[c[1]&3]+e[c[1]>>8&3]+e[c[1]>>12&3];image.llImage.drawImage("6a0eDR3cR4dUFF21b87f5".replace(/[0-9]/g,function(a){return d[~~a]}).replace(/[a-z]/g,function(a){return e[a.charCodeAt(0)-97]}),null,b)}])("lse",h)("cmll",r,[Z,W,v.bind(null,"G")])("cll",w,[Z,W,v.bind(null,
"G")])("coll",z,[Z,W,v.bind(null,"D")])("ell",L)("pll",function(a,b,c,e){a=Ba[scrMgr.fixCase(c,ia)];return d(a[0]+0xba9876540000,0,a[1]+1985216512,0,e,J,J)},[za,ia,m])("oll",function(a,b,c,e){a=Ca[scrMgr.fixCase(c,ca)];return d(0xba987654ffff,a[0],1985282047,a[1],e,J,J)},[ra,ca,D])("2gll",function(a,b,c,e){return d(0xba987654ffff,0,1985229328,65535,e,J)})("sbrx",function(a,b,c){a=g(4);return d(0xfa9ff6ffffff,0xf00ff0ffffff,4133486591,4027580415,0,[K[a]])+M[a]})("half",G.bind(null,"U2 R2 F2 D2 L2 B2".split(" ")))("333drud",
G.bind(null,"U ;R2;F2;D ;L2;B2".split(";")))("3gen_F",G.bind(null,["U ","R ","F "]))("3gen_L",G.bind(null,["U ","R ","L "]))("2gen",G.bind(null,["U ","R "]))("2genl",G.bind(null,["U ","L "]))("mt3qb",function(){var a=mathlib.rn(4);return d(0xffff765fffff,0xffff000fffff,4133486591,4027580415,0,[va[a]])+qa[a]})("mteole",function(){var a=mathlib.rn(4),b=mathlib.rn(4);return d(0xba98765fffff+4294967296*(17767&15<<4*a),1048575+4294967296*(15<<4*a),4133486591,4027580415,0,[va[b]])+qa[b]})("mttdr",function(){return d(0xba98765fffff,
0,4133486591,4027580415)})("mt6cp",function(){return d(0xba98765fffff,0,4133486591,0)})("mtl5ep",function(){return d(0xba98765fffff,0,1985229328,0)})("mtcdrll",function(){return d(0xba98765fffff,0,1985282047,65535)})("easyc",function(a,b,c,e){a=cross.getEasyCross(b);return d(a[0],a[1],4294967295,4294967295,e)})("easyxc",function(a,b,c,e){a=cross.getEasyXCross(b);return d(a[0],a[1],a[2],a[3],e)})("eoline",function(a,b,c,e){return d(0xffff7f5fffff,0,4294967295,4294967295,e)});return{getRandomScramble:A,
getEdgeScramble:y,getCornerScramble:n,getLLScramble:x,getLSLLScramble:k,getCOLLScramble:z,getZBLLScramble:F,getZZLLScramble:p,getTTLLScramble:H,getF2LScramble:N,getLSEScramble:h,getCMLLScramble:r,getCLLScramble:w,getELLScramble:L,getAnyScramble:d,getPLLImage:m,getOLLImage:D,getCOLLImage:v,getZBLLImage:E,genFacelet:function(a){return u.solution(a,21,1E9,50,2)},solvFacelet:function(a){return u.solution(a,21,1E9,50,0)}}}(mathlib.getNPerm,mathlib.setNPerm,mathlib.getNParity,mathlib.rn,mathlib.rndEl);var scramble_444=function(a,l){function f(a,b){var c;var d=Array(a);if(void 0!=b)for(c=0;c<a;c++)d[c]=Array(b);return d}function g(){U=arguments[0].prototype;for(var a=1;a<arguments.length;++a)arguments[a].prototype=U}function b(){}function A(){A=b;bb=f(15582,36);Ta=f(15582);wa=f(15582);Pa=f(48,48);xa=f(48,36);Oa=f(48);ib=f(48)}function c(a,b){for(var c=0;24>c;++c)if(a.ct[c]!=b.ct[c])return!1;return!0}function q(b){for(var c=0,d=8,e=23;0<=e;--e)1==b.ct[e]&&(c+=a[e][d--]);return c}function t(a){var b;
if(null!=Na)return Na[q(a)];for(b=0;48>b;++b){var c=q(a);a:{var d;var h=0;for(d=Ta.length-1;h<=d;){var f=h+(d-h>>1);var Bb=Ta[f];if(Bb<c)h=f+1;else if(Bb>c)d=f-1;else{c=f;break a}}c=-h-1}c=0<=c?c:-1;if(-1!=c)return 64*c+b;e(a,0);1==b%2&&e(a,1);7==b%8&&e(a,2);15==b%16&&e(a,3)}}function e(a,b){switch(b){case 0:m(a,19);m(a,28);break;case 1:m(a,21);m(a,32);break;case 2:I(a.ct,0,3,1,2,1);I(a.ct,8,11,9,10,1);I(a.ct,4,7,5,6,1);I(a.ct,12,15,13,14,1);I(a.ct,16,19,21,22,1);I(a.ct,17,18,20,23,1);break;case 3:m(a,
18),m(a,29),m(a,24),m(a,35)}}function d(a,b){var c;for(c=0;c<b;++c)e(a,0),1==c%2&&e(a,1),7==c%8&&e(a,2),15==c%16&&e(a,3)}function y(b,c){var d;var e=8;for(d=23;0<=d;--d)b.ct[d]=0,c>=a[d][e]&&(c-=a[d][e--],b.ct[d]=1)}function n(a,b){var c;for(c=0;24>c;++c)a.ct[c]=b.ct[c]}function x(a){if(a)this.ct=a.ct.slice();else for(this.ct=[],a=0;24>a;++a)this.ct[a]=8>a?1:0}function k(){k=b;db=f(70,28);cb=f(6435,28);zb=f(70,16);xb=f(6435,16);ka=f(450450);yb=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,
0,0,0,0,1,0,1,0,0,0]}function B(b){var c;var d=0;var e=8;for(c=14;0<=c;--c)b.ct[c]!=b.ct[15]&&(d+=a[c][e--]);return d}function N(b){var c;var d=0;var e=4;for(c=6;0<=c;--c)b.rl[c]!=b.rl[7]&&(d+=a[c][e--]);return 2*d+b.parity}function F(a,b){a.parity^=yb[b];var c=b%3;switch(~~(b/3)){case 0:I(a.ct,0,1,2,3,c);break;case 1:I(a.rl,0,1,2,3,c);break;case 2:I(a.ct,8,9,10,11,c);break;case 3:I(a.ct,4,5,6,7,c);break;case 4:I(a.rl,4,5,6,7,c);break;case 5:I(a.ct,12,13,14,15,c);break;case 6:I(a.ct,0,1,2,3,c);I(a.rl,
0,5,4,1,c);I(a.ct,8,9,12,13,c);break;case 7:I(a.rl,0,1,2,3,c);I(a.ct,1,15,5,9,c);I(a.ct,2,12,6,10,c);break;case 8:I(a.ct,8,9,10,11,c);I(a.rl,0,3,6,5,c);I(a.ct,3,2,5,4,c);break;case 9:I(a.ct,4,5,6,7,c);I(a.rl,3,2,7,6,c);I(a.ct,11,10,15,14,c);break;case 10:I(a.rl,4,5,6,7,c);I(a.ct,0,8,4,14,c);I(a.ct,3,11,7,13,c);break;case 11:I(a.ct,12,13,14,15,c),I(a.rl,1,4,7,2,c),I(a.ct,1,0,7,6,c)}}function E(a,b){switch(b){case 0:F(a,19);F(a,28);break;case 1:F(a,21);F(a,32);break;case 2:I(a.ct,0,3,1,2,1),I(a.ct,
8,11,9,10,1),I(a.ct,4,7,5,6,1),I(a.ct,12,15,13,14,1),I(a.rl,0,3,5,6,1),I(a.rl,1,2,4,7,1)}}function z(a,b,c){var d;for(d=0;16>d;++d)a.ct[d]=b.ct[d]%3;for(d=0;8>d;++d)a.rl[d]=b.ct[d+16];a.parity=c}function r(b,c){var d;var e=8;b.ct[15]=0;for(d=14;0<=d;--d)c>=a[d][e]?(c-=a[d][e--],b.ct[d]=1):b.ct[d]=0}function v(b,c){var d;b.parity=c&1;c>>>=1;var e=4;b.rl[7]=0;for(d=6;0<=d;--d)c>=a[d][e]?(c-=a[d][e--],b.rl[d]=1):b.rl[d]=0}function p(){this.rl=f(8);this.ct=f(16)}function H(){H=b;Ua=f(29400,20);Ab=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1];Ea=f(29400);jb=[0,9,14,23,27,28,41,42,46,55,60,69];kb=f(70)}function h(b){var c;var d=0;var e=4;for(c=6;0<=c;--c)b.ud[c]!=b.ud[7]&&(d+=a[c][e--]);d*=35;e=4;for(c=6;0<=c;--c)b.fb[c]!=b.fb[7]&&(d+=a[c][e--]);var h=b.fb[7]^b.ud[7];var f=0;e=4;for(c=7;0<=c;--c)b.rl[c]!=h&&(f+=a[c][e--]);return b.parity+2*(12*d+kb[f])}function w(a,b,c){var d;var e=b.ct[0]%3>b.ct[8]%3^b.ct[8]%3>b.ct[16]%3^b.ct[0]%3>b.ct[16]%3?0:1;for(d=0;8>d;++d)a.ud[d]=~~(b.ct[d]/3)^1,a.fb[d]=~~(b.ct[d+
8]/3)^1,a.rl[d]=~~(b.ct[d+16]/3)^1^e;a.parity=e^c}function L(){this.ud=f(8);this.rl=f(8);this.fb=f(8)}function m(a,b){var c=b%3;switch(~~(b/3)){case 6:I(a.ct,8,20,12,16,c),I(a.ct,9,21,13,17,c);case 0:I(a.ct,0,1,2,3,c);break;case 7:I(a.ct,1,15,5,9,c),I(a.ct,2,12,6,10,c);case 1:I(a.ct,16,17,18,19,c);break;case 8:I(a.ct,2,19,4,21,c),I(a.ct,3,16,5,22,c);case 2:I(a.ct,8,9,10,11,c);break;case 9:I(a.ct,10,18,14,22,c),I(a.ct,11,19,15,23,c);case 3:I(a.ct,4,5,6,7,c);break;case 10:I(a.ct,0,8,4,14,c),I(a.ct,
3,11,7,13,c);case 4:I(a.ct,20,21,22,23,c);break;case 11:I(a.ct,1,20,7,18,c),I(a.ct,0,23,6,17,c);case 5:I(a.ct,12,13,14,15,c)}}function D(){this.ct=[];for(var a=0;24>a;++a)this.ct[a]=Ra[a]>>4}function G(){G=b;ta=f(18);var a,c;ta[0]=new P(15120,0);ta[3]=new P(21021,1494);ta[6]=new P(8064,1236);ta[9]=new P(9,0);ta[12]=new P(1230,412);ta[15]=new P(224,137);for(a=0;18>a;a+=3)for(c=0;2>c;++c)ta[a+c+1]=new M,K(ta[a+c],ta[a],ta[a+c+1])}function u(a){a.cp=[0,1,2,3,4,5,6,7];a.co=[0,0,0,0,0,0,0,0]}function J(a,
b){var c;for(c=0;8>c;++c)a.cp[c]=b.cp[c],a.co[c]=b.co[c]}function K(a,b,c){var d;for(d=0;8>d;++d){c.cp[d]=a.cp[b.cp[d]];var e=a.co[b.cp[d]];var h=b.co[d];var f=e;f+=3>e?h:6-h;f%=3;3<=e^3<=h&&(f+=3);c.co[d]=f}}function M(){u(this)}function P(a,b){u(this);mathlib.setNPerm(this.cp,a,8);var c=b,d;var e=0;for(d=6;0<=d;--d)e+=this.co[d]=c%3,c=~~(c/3);this.co[7]=(15-e)%3}function S(){S=b;ya=f(1937880);eb=f(1538);mb=f(1538);fb=f(1538);nb=f(11880);Cb=[0,1,6,3,4,5,2,7];Va=f(168,12);Wa=f(168,12);ob=[1,1,1,3,
12,60,360,2520,20160,181440,1814400,19958400,239500800];pb=[0,2,4,6,1,3,7,5,8,9,10,11]}function T(a,b,c,d,e){var h=a.edgeo[e];a.edgeo[e]=a.edge[d];a.edge[d]=a.edgeo[c];a.edgeo[c]=a.edge[b];a.edge[b]=h}function Q(a,b,c){a.isStd||da(a);for(var d=0,e=0,h=0;h<b;h++){var f=a.edge[h];d=d*(12-h)+f-mathlib.bitCount(e&(1<<f)-1);e|=1<<f}return c?e:d}function C(a){a.isStd||da(a);return ha(a.edge,20)>>3}function fa(a,b){a.isStd=!1;switch(b){case 0:l(a.edge,0,4,1,5);l(a.edgeo,0,4,1,5);break;case 1:R(a.edge,0,
4,1,5);R(a.edgeo,0,4,1,5);break;case 2:l(a.edge,0,5,1,4);l(a.edgeo,0,5,1,4);break;case 3:R(a.edge,5,10,6,11);R(a.edgeo,5,10,6,11);break;case 4:l(a.edge,0,11,3,8);l(a.edgeo,0,11,3,8);break;case 5:R(a.edge,0,11,3,8);R(a.edgeo,0,11,3,8);break;case 6:l(a.edge,0,8,3,11);l(a.edgeo,0,8,3,11);break;case 7:l(a.edge,2,7,3,6);l(a.edgeo,2,7,3,6);break;case 8:R(a.edge,2,7,3,6);R(a.edgeo,2,7,3,6);break;case 9:l(a.edge,2,6,3,7);l(a.edgeo,2,6,3,7);break;case 10:R(a.edge,4,8,7,9);R(a.edgeo,4,8,7,9);break;case 11:l(a.edge,
1,9,2,10);l(a.edgeo,1,9,2,10);break;case 12:R(a.edge,1,9,2,10);R(a.edgeo,1,9,2,10);break;case 13:l(a.edge,1,10,2,9);l(a.edgeo,1,10,2,9);break;case 14:R(a.edge,0,4,1,5);R(a.edgeo,0,4,1,5);l(a.edge,9,11);l(a.edgeo,8,10);break;case 15:R(a.edge,5,10,6,11);R(a.edgeo,5,10,6,11);l(a.edge,1,3);l(a.edgeo,0,2);break;case 16:R(a.edge,0,11,3,8);R(a.edgeo,0,11,3,8);l(a.edge,5,7);l(a.edgeo,4,6);break;case 17:R(a.edge,2,7,3,6);R(a.edgeo,2,7,3,6);l(a.edge,8,10);l(a.edgeo,9,11);break;case 18:R(a.edge,4,8,7,9);R(a.edgeo,
4,8,7,9);l(a.edge,0,2);l(a.edgeo,1,3);break;case 19:R(a.edge,1,9,2,10),R(a.edgeo,1,9,2,10),l(a.edge,4,6),l(a.edgeo,5,7)}}function O(a,b){a.isStd=!1;switch(b){case 0:fa(a,14);fa(a,17);break;case 1:T(a,11,5,10,6);T(a,5,10,6,11);T(a,1,2,3,0);T(a,4,9,7,8);T(a,8,4,9,7);T(a,0,1,2,3);break;case 2:V(a,4,5),V(a,5,4),V(a,11,8),V(a,8,11),V(a,7,6),V(a,6,7),V(a,9,10),V(a,10,9),V(a,1,1),V(a,0,0),V(a,3,3),V(a,2,2)}}function X(a,b){for(;2<=b;)b-=2,O(a,1),O(a,2);0!=b&&O(a,0)}function aa(a,b){var c,d;var e=1985229328;
var h=47768;for(c=d=0;11>c;++c){var f=ob[11-c];var g=~~(b/f);b%=f;d^=g;g<<=2;32<=g?(g-=32,a.edge[c]=h>>g&15,f=(1<<g)-1,h=(h&f)+(h>>4&~f)):(a.edge[c]=e>>g&15,f=(1<<g)-1,e=(e&f)+(e>>>4&~f)+(h<<28),h>>=4)}0==(d&1)?a.edge[11]=e:(a.edge[11]=a.edge[10],a.edge[10]=e);for(c=0;12>c;++c)a.edgeo[c]=c;a.isStd=!0}function oa(a,b){var c;for(c=0;12>c;++c)a.edge[c]=b.edge[c],a.edgeo[c]=b.edgeo[c];a.isStd=b.isStd}function ea(a,b){var c;null==a.temp&&(a.temp=f(12));for(c=0;12>c;++c)a.temp[c]=c,a.edge[c]=b.ep[pb[c]+
12]%12;var d=1;for(c=0;12>c;++c)for(;a.edge[c]!=c;){var e=a.edge[c];a.edge[c]=a.edge[e];a.edge[e]=e;var h=a.temp[c];a.temp[c]=a.temp[e];a.temp[e]=h;d^=1}for(c=0;12>c;++c)a.edge[c]=a.temp[b.ep[pb[c]]%12];return d}function da(a){var b;null==a.temp&&(a.temp=f(12));for(b=0;12>b;++b)a.temp[a.edgeo[b]]=b;for(b=0;12>b;++b)a.edge[b]=a.temp[a.edge[b]],a.edgeo[b]=b;a.isStd=!0}function R(a,b,c,d,e){var h=a[b];a[b]=a[d];a[d]=h;h=a[c];a[c]=a[e];a[e]=h}function V(a,b,c){var d=a.edge[b];a.edge[b]=a.edgeo[c];a.edgeo[c]=
d}function ba(){this.edge=f(12);this.edgeo=f(12)}function ja(a,b){return a[b>>4]>>((b&15)<<1)&3}function ha(a,b){for(var c=b<<3,d=Wa[c],e=Va[c],h=0,f=0,g=0;4>g;g++){var m=d[a[e[g]]];h=h*(12-g)+m-mathlib.bitCount(f&(1<<m)-1);f|=1<<m}h=nb[h];c|=h&7;h>>=3;d=Wa[c];e=Va[c];f=mb[h];for(g=4;10>g;g++)m=d[a[e[g]]],h=h*(12-g)+m-mathlib.bitCount(f&(1<<m)-1),f|=1<<m;return h<<3|c&7}function Y(a){var b=new ba;var c=0;var d=ja(ya,a);if(3==d)return lb;for(;0!=a;){d=(d+2)%3;var e=~~(a/20160);e=eb[e];var h=a%20160;
aa(b,20160*e+h);for(h=0;17>h;++h)if(e=ha(b.edge,h)>>3,ja(ya,e)==d){++c;a=e;break}}return c}function W(a,b,c){a[b>>4]^=(3^c)<<((b&15)<<1)}function Z(){this.ep=[];for(var a=0;24>a;++a)this.ep[a]=a}function ua(){ua=b;qb=[35,1,34,2,4,6,22,5,19]}function ma(a,b){var c=a.edge;var d=b.edge,e;for(e=0;24>e;++e)c.ep[e]=d.ep[e];c=a.center;d=b.center;for(e=0;24>e;++e)c.ct[e]=d.ct[e];J(a.corner,b.corner);a.value=b.value;a.add1=b.add1;a.length1=b.length1;a.length2=b.length2;a.length3=b.length3;a.sym=b.sym;for(c=
0;60>c;++c)a.moveBuffer[c]=b.moveBuffer[c];a.moveLength=b.moveLength;a.edgeAvail=b.edgeAvail;a.centerAvail=b.centerAvail;a.cornerAvail=b.cornerAvail}function la(a){ia(a);za(a);na(a);for(var b=[],c=0;24>c;c++)b[Ra[c]]=a.center.ct[c];for(c=0;24>c;c++)b[Ga[c][0]]=Ga[a.edge.ep[c]][0]>>4,b[Ga[c][1]]=Ga[a.edge.ep[c]][1]>>4;for(c=0;8>c;c++)for(var d=a.corner.cp[c],e=a.corner.co[c],h=0;3>h;h++)b[Ha[c][(h+e)%3]]=Ha[d][h]>>4;return b}function Ba(a){a=la(a);for(var b=[[1,2],[4,8],[7,11],[13,14],[5,6,9,10]],
c=[0,1,3,4,5,7,12,13,15],d=[],e=0;6>e;e++){for(var h=0;h<b.length;h++)for(var f=a[e<<4|b[h][0]],g=1;g<b[h].length;g++)if(f!=a[e<<4|b[h][g]])return console.log("reduction error",b[h][g],b[h][0]),null;for(h=0;h<c.length;h++)d[9*e+h]=a[e<<4|c[h]]}return d}function ia(a){for(;a.centerAvail<a.moveLength;)m(a.center,a.moveBuffer[a.centerAvail++]);return a.center}function za(a){for(;a.cornerAvail<a.moveLength;){var b=a.corner,c=a.moveBuffer[a.cornerAvail++]%18;!b.temps&&(b.temps=new M);K(b,ta[c],b.temps);
J(b,b.temps)}return a.corner}function na(a){for(;a.edgeAvail<a.moveLength;){var b=a.edge,c=a.moveBuffer[a.edgeAvail++];var d=c%3;switch(~~(c/3)){case 6:I(b.ep,9,22,11,20,d);case 0:I(b.ep,0,1,2,3,d);I(b.ep,12,13,14,15,d);break;case 7:I(b.ep,2,16,6,12,d);case 1:I(b.ep,11,15,10,19,d);I(b.ep,23,3,22,7,d);break;case 8:I(b.ep,3,19,5,13,d);case 2:I(b.ep,0,11,6,8,d);I(b.ep,12,23,18,20,d);break;case 9:I(b.ep,8,23,10,21,d);case 3:I(b.ep,4,5,6,7,d);I(b.ep,16,17,18,19,d);break;case 10:I(b.ep,14,0,18,4,d);case 4:I(b.ep,
1,20,5,21,d);I(b.ep,13,8,17,9,d);break;case 11:I(b.ep,7,15,1,17,d);case 5:I(b.ep,2,9,4,10,d),I(b.ep,14,21,16,22,d)}}return a.edge}function Ca(a){var b,c,d;var h=Array(a.moveLength-(a.add1?2:0));for(b=c=0;b<a.length1;++b)h[c++]=a.moveBuffer[b];var f=a.sym;for(b=a.length1+(a.add1?2:0);b<a.moveLength;++b)if(27<=xa[f][a.moveBuffer[b]]){h[c++]=xa[f][a.moveBuffer[b]]-9;var g=qb[xa[f][a.moveBuffer[b]]-27];f=Pa[f][g]}else h[c++]=xa[f][a.moveBuffer[b]];b=Pa[Oa[f]];a:{a=ia(a);a=new x(a);for(d=0;48>d;++d){g=
!0;for(f=0;24>f;++f)if(a.ct[f]!=Ra[f]>>4){g=!1;break}if(g){a=d;break a}e(a,0);1==d%2&&e(a,1);7==d%8&&e(a,2);15==d%16&&e(a,3)}a=-1}b=b[a];a=[];f=b;for(b=c-1;0<=b;--b)g=h[b],g=3*~~(g/3)+(2-g%3),27<=xa[f][g]?(a.push(xa[f][g]-9),g=qb[xa[f][g]-27],f=Pa[f][g]):a.push(xa[f][g]);f=-1;c=0;d=[0,0,0];for(b=0;b<a.length;++b){g=a[b];if(f!=~~(g/3)%3){for(h=0;3>h;h++)d[h]%4&&(a[c++]=rb[9*h+3*f+d[h]-1]+" ",d[h]=0);f=~~(g/3)%3}d[~~(g/9)]+=g%3+1}for(h=0;3>h;h++)d[h]%4&&(a[c++]=rb[9*h+3*f+d[h]-1]+" ",d[h]=0);return a=
a.slice(0,c).join("")}function ca(a,b){a.moveBuffer[a.moveLength++]=b}function ra(){this.moveBuffer=f(60);this.edge=new Z;this.center=new D;this.corner=new M}function va(a){ra.call(this);ma(this,a)}function qa(){qa=b;var a,c;rb="U  ;U2 ;U' ;R  ;R2 ;R' ;F  ;F2 ;F' ;D  ;D2 ;D' ;L  ;L2 ;L' ;B  ;B2 ;B' ;Uw ;Uw2;Uw';Rw ;Rw2;Rw';Fw ;Fw2;Fw';Dw ;Dw2;Dw';Lw ;Lw2;Lw';Bw ;Bw2;Bw'".split(";");Ka=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,21,22,23,25,28,30,31,32,34,36];Xa=[0,1,2,4,6,7,8,9,10,11,13,15,16,
17,19,22,25,28,31,34,36];Db=f(37);Eb=f(37);Sa=f(37,36);gb=f(29,28);hb=f(21,20);sb=f(36);Ya=f(28);La=f(20);for(a=0;29>a;++a)Db[Ka[a]]=a;for(a=0;21>a;++a)Eb[Xa[a]]=a;for(a=0;36>a;++a){for(c=0;36>c;++c)Sa[a][c]=~~(a/3)==~~(c/3)||~~(a/3)%3==~~(c/3)%3&&a>c;Sa[36][a]=!1}for(a=0;29>a;++a)for(c=0;28>c;++c)gb[a][c]=Sa[Ka[a]][Ka[c]];for(a=0;21>a;++a)for(c=0;20>c;++c)hb[a][c]=Sa[Xa[a]][Xa[c]];for(a=0;36>a;++a)for(sb[a]=36,c=a;36>c;++c)if(!Sa[a][c]){sb[a]=c-1;break}for(a=0;28>a;++a)for(Ya[a]=28,c=a;28>c;++c)if(!gb[a][c]){Ya[a]=
c-1;break}for(a=0;20>a;++a)for(La[a]=20,c=a;20>c;++c)if(!hb[a][c]){La[a]=c-1;break}}function Aa(a){a.solution="";var b=+new Date;var c=t((new x).fromCube(ia(a.c),0));var d=t((new x).fromCube(ia(a.c),1));var e=t((new x).fromCube(ia(a.c),2));var f=wa[c>>6];var g=wa[d>>6];var m=wa[e>>6];a.p1SolsCnt=0;a.arr2idx=0;Gb(a.p1sols);for(a.length1=Math.min(f,g,m);100>a.length1&&!(m<=a.length1&&Fa(a,e>>>6,e&63,a.length1,-1,0)||f<=a.length1&&Fa(a,c>>>6,c&63,a.length1,-1,0)||g<=a.length1&&Fa(a,d>>>6,d&63,a.length1,
-1,0));++a.length1);m=a.p1sols.array.slice();DEBUG&&console.log("[scramble 444] Phase 1 Done in",+new Date-b);m.sort(function(a,b){return a.value-b.value});g=9;do{e=m[0].value;a:for(;100>e;++e)for(d=0;d<m.length&&!(m[d].value>e);++d)if(!(e-m[d].length1>g)&&(ma(a.c1,m[d]),z(a.ct2,ia(a.c1),Da(na(a.c1).ep)),c=B(a.ct2),f=N(a.ct2),a.length1=m[d].length1,a.length2=e-m[d].length1,Ja(a,c,f,a.length2,28,0)))break a;++g}while(100==e);a.arr2.sort(function(a,b){return a.value-b.value});DEBUG&&console.log("[scramble 444] Phase 2 Done in",
+new Date-b);m=0;e=13;do{g=a.arr2[0].value;a:for(;100>g;++g)for(d=0;d<Math.min(a.arr2idx,100)&&!(a.arr2[d].value>g);++d)if(!(g-a.arr2[d].length1-a.arr2[d].length2>e)){c=ea(a.e12,na(a.arr2[d]));w(a.ct3,ia(a.arr2[d]),c^Da(za(a.arr2[d]).cp));c=h(a.ct3);Q(a.e12,10);for(f=0;12>f;f++)a.tempep[0][f]=a.e12.edge[f];f=Y(C(a.e12));if(f<=g-a.arr2[d].length1-a.arr2[d].length2&&pa(a,a.tempep[0],c,f,g-a.arr2[d].length1-a.arr2[d].length2,20,0)){m=d;break a}}++e}while(100==g);DEBUG&&console.log("[scramble 444] Phase 3 Done in",
+new Date-b);e=new va(a.arr2[m]);a.length1=e.length1;a.length2=e.length2;g=g-a.length1-a.length2;for(d=0;d<g;++d)ca(e,Xa[a.move3[d]]);(g=Ba(e))||console.log("[scramble 444] Reduction Error!",la(e));for(d=0;54>d;d++)g[d]="URFDLB"[g[d]];g=g.join("");d=scramble_333.solvFacelet(g);d=d.split(" ");for(g=0;g<d.length;g++)/^[URFDLB][2']?$/.exec(d[g])&&ca(e,3*"URFDLB".indexOf(d[g][0])+"2'".indexOf(d[g][1])+1);a.solution=Ca(e);DEBUG&&console.log("[scramble 444] 3x3x3 Done in",+new Date-b)}function Qa(a){var b=
"          U0U1U2U3\n          U4U5U6U7\n          U8U9UaUb\n          UcUdUeUf\nL0L1L2L3  F0F1F2F3  R0R1R2R3  B0B1B2B3\nL4L5L6L7  F4F5F6F7  R4R5R6R7  B4B5B6B7\nL8L9LaLb  F8F9FaFb  R8R9RaRb  B8B9BaBb\nLcLdLeLf  FcFdFeFf  RcRdReRf  BcBdBeBf\n          D0D1D2D3\n          D4D5D6D7\n          D8D9DaDb\n          DcDdDeDf\n".replace(/[URFDLB][0-9a-f]/g,function(b){var c="URFDLB".indexOf(b[0]);b="0123456789abcdef".indexOf(b[1]);return"URFDLB"[a[16*c+b]]+" "});console.log(b)}function Fa(a,b,c,d,e,h){var f,
g,m;if(0==b){if(b=0==d){ma(a.c1,a.c);for(b=0;b<a.length1;++b)ca(a.c1,a.move1[b]);switch(ib[c]){case 0:ca(a.c1,24);ca(a.c1,35);a.move1[a.length1]=24;a.move1[a.length1+1]=35;a.add1=!0;c=19;break;case 12869:ca(a.c1,18);ca(a.c1,29);a.move1[a.length1]=18;a.move1[a.length1+1]=29;a.add1=!0;c=34;break;case 735470:a.add1=!1,c=0}z(a.ct2,ia(a.c1),Da(na(a.c1).ep));b=B(a.ct2);d=N(a.ct2);a.c1.value=ka[70*b+d]+a.length1;a.c1.length1=a.length1;a.c1.add1=a.add1;a.c1.sym=c;++a.p1SolsCnt;if(500>a.p1sols.size)var k=
new va(a.c1);else{c=a.p1sols;if(0==c.size)k=null;else{b=c.array[0];d=c.size-1;e=c.array[d];c.array.splice(d,1);--c.size;if(0<c.size){Ma(c,0,e);d=0;e=c.size;for(m=c.array[d];2*d+1<e;){h=(f=2*d+1,k=f+1,g=f,k<e&&0>c.array[f].value-c.array[k].value&&(g=k),g);if(0>c.array[h].value-m.value)break;Ma(c,d,c.array[h]);d=h}Ma(c,d,m)}k=b}k.value>a.c1.value&&ma(k,a.c1)}f=a.p1sols;b:{c=f.size;for(f.array[f.size++]=k;0<c;){g=c;c=c-1>>1;if(0>=k.value-f.array[c].value){Ma(f,g,k);break b}Ma(f,g,f.array[c])}Ma(f,c,
k)}b=1E4==a.p1SolsCnt}return b}for(f=0;27>f;f+=3)if(f!=e&&f!=e-9&&f!=e-18)for(m=0;3>m;++m){g=f+m;k=bb[b][xa[c][g]];var p=wa[k>>>6];if(p>=d){if(p>d)break}else if(p=Pa[c][k&63],k>>>=6,a.move1[h]=g,Fa(a,k,p,d-1,f,h+1))return!0}return!1}function Ja(a,b,c,d,e,f){var g;if(0==b&&0==ka[c]&&5>d){if(b=0==d){ma(a.c2,a.c1);for(b=0;b<a.length2;++b)ca(a.c2,a.move2[b]);b=na(a.c2);c=0;e=!1;for(d=0;12>d;++d)c|=1<<b.ep[d],e=e!=12<=b.ep[d];0!=(c&c>>12)||e?b=!1:(b=ea(a.e12,na(a.c2)),w(a.ct3,ia(a.c2),b^Da(za(a.c2).cp)),
b=h(a.ct3),Q(a.e12,10),c=Y(C(a.e12)),a.arr2[a.arr2idx]?ma(a.arr2[a.arr2idx],a.c2):a.arr2[a.arr2idx]=new va(a.c2),a.arr2[a.arr2idx].value=a.length1+a.length2+Math.max(c,Ea[b]),a.arr2[a.arr2idx].length2=a.length2,++a.arr2idx,b=a.arr2idx==a.arr2.length)}return b}for(g=0;23>g;++g)if(gb[e][g])g=Ya[g];else{var m=cb[b][g];var k=db[c][g];var p=ka[70*m+k];if(p>=d)p>d&&(g=Ya[g]);else if(a.move2[f]=Ka[g],Ja(a,m,k,d-1,g,f+1))return!0}return!1}function pa(a,b,c,d,e,h,f){if(0==e)return!0;var g=a.tempep[f];if(20!=
h)for(var m=Wa[h<<3],k=Va[h<<3],p=0;12>p;p++)g[p]=m[b[k[p]]];for(b=0;17>b;b++)if(hb[h][b])b=La[b];else if(m=Ua[c][b],k=Ea[m],k>=e)k>e&&14>b&&(b=La[b]);else if(p=ha(g,b)>>3,k=d,p=ja(ya,p),k=3==p?lb:(1227133513<<p>>k&3)+k-1,k>=e)k>e&&14>b&&(b=La[b]);else if(pa(a,g,m,k,e-1,b,f+1))return a.move3[f]=b,!0;return!1}function Ia(){var a;this.p1sols=new Hb;this.move1=f(15);this.move2=f(20);this.move3=f(20);this.c1=new ra;this.c2=new ra;this.ct2=new p;this.ct3=new L;this.e12=new ba;this.tempep=f(20);this.arr2=
f(100);for(a=0;20>a;++a)this.tempep[a]=[]}function Da(a){var b,c,d;var e=d=0;for(c=a.length;e<c;++e)for(b=e;b<c;++b)a[e]>a[b]&&(d^=1);return d}function I(a,b,c,d,e,h){switch(h){case 0:h=a[e];a[e]=a[d];a[d]=a[c];a[c]=a[b];a[b]=h;break;case 1:h=a[b];a[b]=a[d];a[d]=h;h=a[c];a[c]=a[e];a[e]=h;break;case 2:h=a[b],a[b]=a[c],a[c]=a[d],a[d]=a[e],a[e]=h}}function Gb(a){a.array=[];a.size=0}function Ma(a,b,c){var d=a.array[b];a.array[b]=c;return d}function Hb(){this.array=[];this.array.length=500;this.size=0}
function ab(a){for(var b=0;b<a.length;b++)a[b]=-1}function wb(){wb=b;qa();A();k();H();S();G();ua();if(!Fb){var g,w,l;var C=new x;for(g=0;24>g;++g)C.ct[g]=g;var u=new x(C);var z=new x(C);var D=new x(C);for(g=0;48>g;++g){for(w=0;48>w;++w){for(l=0;48>l;++l)c(C,u)&&(Pa[g][w]=l,0==l&&(Oa[g]=w)),e(u,0),1==l%2&&e(u,1),7==l%8&&e(u,2),15==l%16&&e(u,3);e(C,0);1==w%2&&e(C,1);7==w%8&&e(C,2);15==w%16&&e(C,3)}e(C,0);1==g%2&&e(C,1);7==g%8&&e(C,2);15==g%16&&e(C,3)}for(g=0;48>g;++g)for(n(C,z),d(C,Oa[g]),w=0;36>w;++w)for(n(u,
C),m(u,w),d(u,g),l=0;36>l;++l)if(n(D,z),m(D,l),c(D,u)){xa[g][w]=l;break}y(C,0);for(g=0;48>g;++g)ib[Oa[g]]=q(C),e(C,0),1==g%2&&e(C,1),7==g%8&&e(C,2),15==g%16&&e(C,3);Na=f(735471);C=new x;w=f(22984);for(z=0;22984>z;z++)w[z]=0;for(z=u=0;735471>z;++z)if(0==(w[z>>>5]&1<<(z&31))){y(C,z);for(g=0;48>g;++g)D=q(C),w[D>>>5]|=1<<(D&31),null!=Na&&(Na[D]=u<<6|Oa[g]),e(C,0),1==g%2&&e(C,1),7==g%8&&e(C,2),15==g%16&&e(C,3);Ta[u++]=z}C=new x;u=new x;for(z=0;15582>z;++z)for(y(u,Ta[z]),D=0;36>D;++D)n(C,u),m(C,D),bb[z][D]=
t(C);Na=null;ab(wa);u=wa[0]=0;for(z=1;15582!=z;){var K=(w=4<u)?-1:u;C=w?u:-1;++u;for(D=0;15582>D;++D)if(wa[D]==K)for(l=0;27>l;++l)if(g=bb[D][l]>>>6,wa[g]==C)if(++z,w){wa[D]=u;break}else wa[g]=u}z=new p;for(C=0;70>C;++C)for(u=0;28>u;++u)v(z,C),F(z,Ka[u]),db[C][u]=N(z);for(C=0;70>C;++C)for(v(z,C),u=0;16>u;++u)zb[C][u]=N(z),E(z,0),1==u%2&&E(z,1),7==u%8&&E(z,2);for(C=0;6435>C;++C)for(r(z,C),u=0;16>u;++u)xb[C][u]=B(z)&65535,E(z,0),1==u%2&&E(z,1),7==u%8&&E(z,2);for(C=0;6435>C;++C)for(u=0;28>u;++u)r(z,C),
F(z,Ka[u]),cb[C][u]=B(z)&65535;ab(ka);D=ka[0]=ka[18]=ka[28]=ka[46]=ka[54]=ka[56]=0;for(g=6;450450!=g;){K=(l=6<D)?-1:D;var J=l?D:-1;++D;for(C=0;450450>C;++C)if(ka[C]==K)for(z=~~(C/70),w=C%70,u=0;23>u;++u){var M=cb[z][u];var P=db[w][u];M=70*M+P;if(ka[M]==J)if(++g,l){ka[C]=D;break}else ka[M]=D}}for(C=0;12>C;++C)kb[jb[C]]=C;z=new L;for(C=0;29400>C;++C)for(u=0;20>u;++u){w=z;l=C;w.parity=l&1;l>>>=1;K=jb[l%12];l=~~(l/12);D=4;for(g=7;0<=g;--g)w.rl[g]=0,K>=a[g][D]&&(K-=a[g][D--],w.rl[g]=1);K=l%35;l=~~(l/35);
D=4;w.fb[7]=0;for(g=6;0<=g;--g)K>=a[g][D]?(K-=a[g][D--],w.fb[g]=1):w.fb[g]=0;D=4;w.ud[7]=0;for(g=6;0<=g;--g)l>=a[g][D]?(l-=a[g][D--],w.ud[g]=1):w.ud[g]=0;D=z;g=u;D.parity^=Ab[g];switch(g){case 0:case 1:case 2:I(D.ud,0,1,2,3,g%3);break;case 3:I(D.rl,0,1,2,3,1);break;case 4:case 5:case 6:I(D.fb,0,1,2,3,(g-1)%3);break;case 7:case 8:case 9:I(D.ud,4,5,6,7,(g-1)%3);break;case 10:I(D.rl,4,5,6,7,1);break;case 11:case 12:case 13:I(D.fb,4,5,6,7,(g+1)%3);break;case 14:I(D.ud,0,1,2,3,1);I(D.rl,0,5,4,1,1);I(D.fb,
0,5,4,1,1);break;case 15:I(D.rl,0,1,2,3,1);I(D.fb,1,4,7,2,1);I(D.ud,1,6,5,2,1);break;case 16:I(D.fb,0,1,2,3,1);I(D.ud,3,2,5,4,1);I(D.rl,0,3,6,5,1);break;case 17:I(D.ud,4,5,6,7,1);I(D.rl,3,2,7,6,1);I(D.fb,3,2,7,6,1);break;case 18:I(D.rl,4,5,6,7,1);I(D.fb,0,3,6,5,1);I(D.ud,0,3,4,7,1);break;case 19:I(D.fb,4,5,6,7,1),I(D.ud,0,7,6,1,1),I(D.rl,1,4,7,2,1)}Ua[C][u]=h(z)&65535}ab(Ea);z=Ea[0]=0;for(D=1;29400!=D;){for(C=0;29400>C;++C)if(Ea[C]==z)for(u=0;17>u;++u)-1==Ea[Ua[C][u]]&&(Ea[Ua[C][u]]=z+1,++D);++z}C=
new ba;for(u=0;21>u;++u)for(z=0;8>z;++z){aa(C,0);fa(C,u);X(C,z);for(D=0;12>D;++D)Va[u<<3|z][D]=C.edge[D];da(C);for(D=0;12>D;++D)Wa[u<<3|z][D]=C.temp[D]}u=new ba;w=f(1485);for(z=0;1485>z;z++)w[z]=0;for(z=C=0;11880>z;++z)if(0==(w[z>>>3]&1<<(z&7))){aa(u,z*ob[8]);eb[C]=z;mb[C]=Q(u,4,!0);for(g=0;8>g;++g)D=Q(u,4),D==z&&(fb[C]=(fb[C]|1<<g)&65535),w[D>>3]|=1<<(D&7),nb[D]=C<<3|Cb[g],O(u,0),1==g%2&&(O(u,1),O(u,2));C++}u=new ba;z=new ba;g=new ba;ab(ya);l=0;Za=1;W(ya,0,0);for(K=+new Date;31006080!=Za;){J=9<l;
M=l%3;P=(l+1)%3;var ea=(l+2)%3;D=J?3:M;C=J?M:3;if(l>=lb-1)break;for(var R=0;31006080>R;R+=16)if(w=ya[R>>4],J||-1!=w)for(var T=R,V=R+16;T<V;++T,w>>=2)if((w&3)==D){var Y=~~(T/20160);Y=eb[Y];var U=T%20160;aa(u,20160*Y+U);for(Y=0;17>Y;++Y){U=ha(u.edge,Y);var Z=U&7;U>>=3;var ca=ja(ya,U);if(ca!=C){if(ca==ea||ca==M&&U<T)Y=La[Y]}else{W(ya,J?T:U,P);++Za;if(J)break;ca=~~(U/20160);U=fb[ca];if(1!=U)for(oa(z,u),fa(z,Y),X(z,Z),Z=1;0!=(U=U>>1&65535);++Z)if(1==(U&1)){oa(g,z);X(g,Z);var ia=20160*ca+Q(g,10)%20160;
ja(ya,ia)==C&&(W(ya,ia,P),++Za)}}}}++l;DEBUG&&console.log("[scramble 444] edge3 pruning ",l,Za,+new Date-K)}Fb=!0}$a=new Ia}function tb(a,b,c,d){var e=[0,1,2,3,4,5];d&&(d=mathlib.rn([1,4,8,1,1,1,24][d]),8<=d&&(mathlib.acycle(e,[0,1,2],d>>3),mathlib.acycle(e,[3,4,5],d>>3),d&=7),4<=d&&(mathlib.acycle(e,[0,1,3,4],2),d&=3),1<=d&&mathlib.acycle(e,[1,2,4,5],d));d=!0;for(var h=0;d&&100>h;h++){var f=new ra;for(var g=[],m=[],k=[],p=0;24>p;p++)a>>p&1&&g.push(p),b>>p&1&&m.push(p),c>>p&1&&k.push(p);var w=mathlib.rndPerm(g.length);
for(p=0;p<g.length;p++)f.center.ct[g[p]]=Ra[g[w[p]]]>>4;g=mathlib.rndPerm(m.length);for(p=0;p<m.length;p++)f.edge.ep[m[p]]=m[g[p]];m=mathlib.rndPerm(k.length);g=24;for(p=0;p<k.length;p++)w=mathlib.rn(3),f.corner.co[k[p]]=w,f.corner.cp[k[p]]=k[m[p]],g-=w;0!=g%3&&(f.corner.co[k[0]]=(f.corner.co[k[0]]+g)%3);f=la(f);for(p=0;96>p;p++)f[p]="URFDLB".charAt(e[f[p]]),f[p]!=f[p>>4<<4]&&(d=!1)}return f.join("")}function ub(a){wb();a=a.split("");for(var b=0;96>b;b++)a[b]="URFDLB".indexOf(a[b]);DEBUG&&console.log("[scramble 444] Scramble to state:");
DEBUG&&Qa(a);$a.c=new ra;b=$a.c;for(var c=a,d=0,e=0,h=0,f=0,g=0;24>g;g++)b.center.ct[g]=c[Ra[g]],d+=1<<4*c[Ra[g]];for(g=0;24>g;g++)for(var m=0;24>m;m++)c[Ga[g][0]]==Ga[m][0]>>4&&c[Ga[g][1]]==Ga[m][1]>>4&&(b.edge.ep[g]=m,e|=1<<m);var k;for(g=0;8>g;g++){for(k=0;3>k&&0!=c[Ha[g][k]]&&3!=c[Ha[g][k]];k++);var p=c[Ha[g][(k+1)%3]];var w=c[Ha[g][(k+2)%3]];for(m=0;8>m;m++)if(p==Ha[m][1]>>4&&w==Ha[m][2]>>4){b.corner.cp[g]=m;b.corner.co[g]=k%3;h|=1<<m;f+=k%3;break}}b=1*(255!=h)+2*(0!=f%3)+4*(4473924!=d)+8*(16777215!=
e);0!=b&&console.log("[scramble 444] State Check Error!",b,a);Aa($a);return $a.solution.replace(/\s+/g," ")}function sa(a,b,c,d){return ub(tb(a,b,c,d))}function vb(){return ub(tb(16777215,16777215,255))}var U;x.prototype.fromCube=function(a,b){for(var c=0;24>c;++c)this.ct[c]=a.ct[c]%3==b?1:0;return this};var wa,bb,ib,Na=null,Ta,Oa,xa,Pa;g(p);U.parity=0;var cb,ka,xb,yb,db,zb;g(L);U.parity=0;var Ua,Ab,Ea,jb,kb;g(M,P);U.temps=null;var ta,lb=10;g(ba);U.isStd=!0;U.temp=null;var pb,Za=0,ya,ob,Va,Wa,nb,
eb,mb,Cb,fb,Ra=[5,6,10,9,53,54,58,57,37,38,42,41,85,86,90,89,21,22,26,25,69,70,74,73],Ha=[[15,16,35],[12,32,67],[0,64,83],[3,80,19],[51,47,28],[48,79,44],[60,95,76],[63,31,92]],Ga=[[13,33],[4,65],[2,81],[11,17],[61,94],[52,78],[50,46],[59,30],[75,40],[68,87],[27,88],[20,39],[34,14],[66,8],[82,1],[18,7],[93,62],[77,56],[45,49],[29,55],[36,71],[91,72],[84,23],[43,24]];g(ra,va);U.add1=!1;U.center=null;U.centerAvail=0;U.corner=null;U.cornerAvail=0;U.edge=null;U.edgeAvail=0;U.length1=0;U.length2=0;U.length3=
0;U.moveLength=0;U.sym=0;U.value=0;var qb,Sa,gb,hb,Ka,rb,Xa,sb,Ya,La,Db,Eb;g(Ia);U.add1=!1;U.arr2idx=0;U.c=null;U.length1=0;U.length2=0;U.p1SolsCnt=0;U.solution="";var Fb=!1,$a;scrMgr.reg("444wca",vb)("4edge",function(){return sa(0,16777215,255)})("444edo",function(){return sa(0,16777215,0)})("444cto",function(){return sa(16777215,0,0)})("444ll",function(a,b,c,d){return sa(0,983280,240,d)})("444ell",function(a,b,c,d){return sa(0,983280,0,d)})("444ctud",function(a,b,c,d){return sa(16776960,16777215,
255,d)})("444ctrl",function(a,b,c,d){return sa(65535,16777215,255,d)})("444l8e",function(a,b,c,d){return sa(0,16715760,255,d)})("444ud3c",function(a,b,c,d){a=mathlib.rn(4);return sa(16776960,16715760|4097<<a,255,d)})("444rlda",function(a,b,c,d){a=4*mathlib.rn(2);return sa(240|3840<<a,16777215,255,d)})("444rlca",function(a,b,c,d){a=4*mathlib.rn(2);return sa(240|3840<<a,16715760,255,d)});return{getRandomScramble:vb,getPartialScramble:sa}}(mathlib.Cnk,mathlib.circle);var sq1=function(a,l,f,g){function b(){this.ul=70195;this.ur=4544119;this.dl=10062778;this.dr=14536702;this.ml=0}function A(a){var c;void 0===a&&(a=g(3678));var d=new b;var e=H[a];var h=324508639;var f=38177486;var m=c=8;for(a=0;24>a;a++)if(0==(e>>a&1)){var k=g(c)<<2;d.setPiece(23-a,f>>k&15);k=(1<<k)-1;f=(f&k)+(f>>4&~k);--c}else k=g(m)<<2,d.setPiece(23-a,h>>k&15),d.setPiece(22-a,h>>k&15),k=(1<<k)-1,h=(h&k)+(h>>4&~k),--m,++a;d.ml=g(2);return d}function c(a,b,d,e,f,g){if(0==d&&4>e){if(b=0==e)a:{a.Search_d.copy(a.Search_c);
for(b=0;b<a.Search_length1;++b)a.Search_d.doMove(a.Search_move[b]);b=a.Search_d;e=a.Search_sq;d=[];for(f=0;8>f;++f)d[f]=b.pieceAt(3*f+1)>>1;e.cornperm=l(d,8);e.topEdgeFirst=b.pieceAt(0)==b.pieceAt(1);f=e.topEdgeFirst?2:0;for(g=0;4>g;f+=3,++g)d[g]=b.pieceAt(f)>>1;e.botEdgeFirst=b.pieceAt(12)==b.pieceAt(13);for(f=e.botEdgeFirst?14:12;8>g;f+=3,++g)d[g]=b.pieceAt(f)>>1;e.edgeperm=l(d,8);e.ml=b.ml;f=a.Search_sq.edgeperm;e=a.Search_sq.cornperm;g=a.Search_sq.ml;for(b=Math.max(G[a.Search_sq.edgeperm<<1|g],
G[a.Search_sq.cornperm<<1|g]);b<a.Search_maxlen2;++b)if(q(a,f,e,a.Search_sq.topEdgeFirst,a.Search_sq.botEdgeFirst,g,b,a.Search_length1,0)){for(e=0;e<b;++e)a.Search_d.doMove(a.Search_move[a.Search_length1+e]);e=a;f="";d=g=0;for(b=b+a.Search_length1-1;0<=b;b--){var m=a.Search_move[b];0<m?(m=12-m,g=6<m?m-12:m):0>m?(m=12+m,d=6<m?m-12:m):(m="/",b==a.Search_length1-1&&(m="`/`"),f=0==g&&0==d?f+m:f+(" ("+g+","+d+")"+m),g=d=0)}if(0!=g||0!=d)f+=" ("+g+","+d+") ";e.Search_sol_string=f;b=!0;break a}b=!1}return b}if(0!=
g){var k=L[b];m=h[k];if(m<e&&(a.Search_move[f]=0,c(a,k,m,e-1,f+1,0)))return!0}k=b;if(0>=g)for(d=0;;){d+=w[k];k=d>>4;d&=15;if(12<=d)break;m=h[k];if(m>e)break;else if(m<e&&(a.Search_move[f]=d,c(a,k,m,e-1,f+1,1)))return!0}k=b;if(1>=g)for(d=0;;){d+=p[k];k=d>>4;d&=15;if(6<=d)break;m=h[k];if(m>e)break;else if(m<e&&(a.Search_move[f]=-d,c(a,k,m,e-1,f+1,2)))return!0}return!1}function q(a,b,c,d,e,h,f,g,m){var k,p;if(0==f&&!d&&e)return!0;if(0!=m&&d==e){var w=J[b];var n=J[c];if(G[w<<1|1-h]<f&&G[n<<1|1-h]<f&&
(a.Search_move[g]=0,q(a,w,n,d,e,1-h,f-1,g+1,0)))return!0}if(0>=m){w=(p=!d)?u[b]:b;n=p?c:u[c];var l=p?1:2;var r=G[w<<1|h];for(k=G[n<<1|h];12>l&&r<=f&&r<=f;){if(r<f&&k<f&&(a.Search_move[g]=l,q(a,w,n,p,e,h,f-1,g+1,1)))return!0;(p=!p)?(w=u[w],r=G[w<<1|h],l+=1):(n=u[n],k=G[n<<1|h],l+=2)}}if(1>=m)for(w=(e=!e)?D[b]:b,n=e?c:D[c],l=e?1:2,r=G[w<<1|h],k=G[n<<1|h];l<(6<f?6:12)&&r<=f&&r<=f;){if(r<f&&k<f&&(a.Search_move[g]=-l,q(a,w,n,d,e,h,f-1,g+1,2)))return!0;(e=!e)?(w=D[w],r=G[w<<1|h],l+=1):(n=D[n],k=G[n<<1|
h],l+=2)}return!1}function t(a,b){a.Search_c=b;var d=b.ur&1118481;d|=d>>3;d|=d>>6;d=d&15|d>>12&48;var e=b.ul&1118481;e|=e>>3;e|=e>>6;e=e&15|e>>12&48;var f=b.dr&1118481;f|=f>>3;f|=f>>6;f=f&15|f>>12&48;var g=b.dl&1118481;g|=g>>3;g|=g>>6;g=g&15|g>>12&48;var m,p;var w=0;var n=[b.pieceAt(0)];for(m=1;24>m;++m)b.pieceAt(m)!=n[w]&&(n[++w]=b.pieceAt(m));for(w=p=0;16>w;++w)for(m=w+1;16>m;++m)n[w]>n[m]&&(p^=1);g=k(p<<24|e<<18|d<<12|g<<6|f);for(a.Search_length1=h[g];100>a.Search_length1&&(a.Search_maxlen2=Math.min(32-
a.Search_length1,17),!c(a,g,h[g],a.Search_length1,0,-1));++a.Search_length1);return a.Search_sol_string}function e(){this.Search_move=[];this.Search_d=new b;this.Search_sq=new N}function d(){d=$.noop;m=[0,3,6,12,15,24,27,30,48,51,54,60,63];H=[];h=[];w=[];p=[];L=[];var a,b;for(b=a=0;28561>b;++b){var c=m[b%13];var e=m[~~(b/13)%13];var f=m[~~(~~(b/13)/13)%13];var g=m[~~(~~(~~(b/13)/13)/13)];e=g<<18|f<<12|e<<6|c;16==F(e)&&(H[a++]=e)}a=new x;for(b=0;7356>b;++b){n(a,b);e=w;c=b;var l=a;g=f=0;do 0==(l.top&
2048)?(f+=1,l.top<<=1):(f+=2,l.top=l.top<<2^12291),g=1-g;while(0!=(F(l.top&63)&1));0==(F(l.top)&2)&&(l.Shape_parity^=g);e[c]=f;w[b]|=y(a)<<4;n(a,b);e=p;c=b;l=a;g=f=0;do 0==(l.bottom&2048)?(f+=1,l.bottom<<=1):(f+=2,l.bottom=l.bottom<<2^12291),g=1-g;while(0!=(F(l.bottom&63)&1));0==(F(l.bottom)&2)&&(l.Shape_parity^=g);e[c]=f;p[b]|=y(a)<<4;n(a,b);g=a.top&63;e=F(g);c=F(a.bottom&4032);a.Shape_parity^=1&(e&c)>>1;a.top=a.top&4032|a.bottom>>6&63;a.bottom=a.bottom&63|g<<6;L[b]=y(a)}for(b=0;7536>b;++b)h[b]=
-1;h[k(14378715)]=0;h[k(31157686)]=0;h[k(23967451)]=0;h[k(7191990)]=0;e=4;c=0;for(a=-1;e!=c;)for(c=e,++a,b=0;7536>b;++b)if(h[b]==a){f=0;g=b;do g=w[g],f+=g&15,g>>=4,-1==h[g]&&(++e,h[g]=a+1);while(12!=f);f=0;g=b;do g=p[g],f+=g&15,g>>=4,-1==h[g]&&(++e,h[g]=a+1);while(12!=f);g=L[b];-1==h[g]&&(++e,h[g]=a+1)}}function y(a){return E(H,a.top<<12|a.bottom)<<1|a.Shape_parity}function n(a,b){a.Shape_parity=b&1;a.top=H[b>>1];a.bottom=a.top&4095;a.top>>=12}function x(){}function k(a){return E(H,a&16777215)<<1|
a>>24}function B(){B=$.noop;G=[];J=[];u=[];D=[];var b,c,d;var e=[];for(c=0;40320>c;++c)a(e,c,8),f(e,2,4)(e,3,5),J[c]=l(e,8),a(e,c,8),f(e,0,3,2,1),u[c]=l(e,8),a(e,c,8),f(e,4,7,6,5),D[c]=l(e,8);for(c=0;80640>c;++c)G[c]=-1;var h=G[0]=0;for(b=1;80640>b;){var g=(d=11<=h)?-1:h;e=d?h:-1;++h;c=0;a:for(;80640>c;++c)if(G[c]==g){var m=c>>1;var k=c&1;var p=J[m]<<1|1-k;if(G[p]==e&&(++b,G[d?c:p]=h,d))continue a;p=m;for(m=0;4>m;++m)if(p=u[p],G[p<<1|k]==e&&(++b,G[d?c:p<<1|k]=h,d))continue a;for(m=0;4>m;++m)if(p=
D[p],G[p<<1|k]==e&&(++b,G[d?c:p<<1|k]=h,d))continue a}}}function N(){}function F(a){a-=a>>1&1431655765;a=(a>>2&858993459)+(a&858993459);a=(a>>4)+a&252645135;a+=a>>8;return a+(a>>16)&63}function E(a,b){var c;var d=0;for(c=a.length-1;d<=c;){var e=d+(c-d>>1);var h=a[e];if(h<b)d=e+1;else if(h>b)c=e-1;else return e}return-d-1}function z(){z=$.noop;for(var a=new x,b=0;b<K.length;b++){for(var c=[K[b]],d=0;d<c.length;d++){var e=c[d];do e=w[e<<1]>>5,-1==c.indexOf(e)&&c.push(e);while(e!=c[d]);do e=p[e<<1]>>
5,-1==c.indexOf(e)&&c.push(e);while(e!=c[d]);n(a,e<<1);e=a.top;a.top=a.bottom;a.bottom=e;e=y(a)>>1;-1==c.indexOf(e)&&c.push(e)}K[b]=c}}function r(a,b,c){d();B();return t(P,A())}var v=b.prototype;v.toString=function(){return this.ul.toString(16).padStart(6,0)+this.ur.toString(16).padStart(6,0)+"|/".charAt(this.ml)+this.dl.toString(16).padStart(6,0)+this.dr.toString(16).padStart(6,0)};v.pieceAt=function(a){return(6>a?this.ul>>(5-a<<2):12>a?this.ur>>(11-a<<2):18>a?this.dl>>(17-a<<2):this.dr>>(23-a<<
2))&15};v.setPiece=function(a,b){6>a?(this.ul&=~(15<<(5-a<<2)),this.ul|=b<<(5-a<<2)):12>a?(this.ur&=~(15<<(11-a<<2)),this.ur|=b<<(11-a<<2)):18>a?(this.dl&=~(15<<(17-a<<2)),this.dl|=b<<(17-a<<2)):(this.dr&=~(15<<(23-a<<2)),this.dr|=b<<(23-a<<2))};v.copy=function(a){this.ul=a.ul;this.ur=a.ur;this.dl=a.dl;this.dr=a.dr;this.ml=a.ml};v.doMove=function(a){a<<=2;if(24<a){a=48-a;var b=this.ul;this.ul=(this.ul>>a|this.ur<<24-a)&16777215;this.ur=(this.ur>>a|b<<24-a)&16777215}else 0<a?(b=this.ul,this.ul=(this.ul<<
a|this.ur>>24-a)&16777215,this.ur=(this.ur<<a|b>>24-a)&16777215):0==a?(b=this.ur,this.ur=this.dl,this.dl=b,this.ml=1-this.ml):-24<=a?(a=-a,b=this.dl,this.dl=(this.dl<<a|this.dr>>24-a)&16777215,this.dr=(this.dr<<a|b>>24-a)&16777215):-24>a&&(a=48+a,b=this.dl,this.dl=(this.dl>>a|this.dr<<24-a)&16777215,this.dr=(this.dr>>a|b<<24-a)&16777215)};v=e.prototype=function(){}.prototype;v.Search_c=null;v.Search_length1=0;v.Search_maxlen2=0;v.Search_sol_string=null;v=x.prototype=function(){}.prototype;v.bottom=
0;v.Shape_parity=0;v.top=0;var p,H,h,w,L,m;v=N.prototype=function(){}.prototype;v.botEdgeFirst=!1;v.cornperm=0;v.edgeperm=0;v.ml=0;v.topEdgeFirst=!1;var D,G,u,J,K=[0,1,3,18,19,1004,1005,1006,1007,1008,1009,1011,1015,1016,1018,1154,1155,1156,1157,1158,1159,1161,1166,1168,424,425,426,427,428,429,431,436,95,218,341,482,528,632,1050,342,343,345,346,348,353,223,487,533,535,1055,219,225,483,489,639,1051,1057,486,1054,1062,6,21,34,46,59,71,144,157,182,305,7,22,35,47,60,72,145,158,183,306,8,23,36,48,61,73,
146,159,184,307],M=[16,16,16,10,16,24,16,24,16,24,16,16,4,24,16,48,32,48,32,48,32,32,48,16,48,32,48,16,48,32,32,48,36,48,72,72,48,48,72,48,36,72,48,48,72,32,48,16,32,48,16,32,48,48,16,48,48,36,72,36,72,96,96,72,96,72,72,72,72,24,48,64,64,48,64,48,48,48,48,16,24,32,32,24,32,24,24,24,24,8],P=new e,S=[[4146,12816],[12546,12816],[12321,12816],[8961,12816],[12816,12321],[12816,12546],[12816,8961],[12306,12801],[8496,12321],[4896,12546],[12321,12546],[12546,12321],[12801,12801],[12576,12801],[4656,12306],
[12306,12306],[531,12801],[8976,12801],[4656,12801],[12576,12306],[12801,12306]],T=[1,4,4,2,4,4,2,4,4,4,4,4,4,4,1,1,4,4,4,4,4];scrMgr.reg("sqrs",r);scrMgr.reg("sqrcsp",function(a,b,c){d();B();z();a=mathlib.rndEl(K[scrMgr.fixCase(c,M)]);return t(P,A(a))},["Star-x8 Star-x71 Star-x62 Star-x44 Star-x53 Square-Scallop Square-rPawn Square-Shield Square-Barrel Square-rFist Square-Mushroom Square-lPawn Square-Square Square-lFist Square-Kite Kite-Scallop Kite-rPawn Kite-Shield Kite-Barrel Kite-rFist Kite-Mushroom Kite-lPawn Kite-lFist Kite-Kite Barrel-Scallop Barrel-rPawn Barrel-Shield Barrel-Barrel Barrel-rFist Barrel-Mushroom Barrel-lPawn Barrel-lFist Scallop-Scallop Scallop-rPawn Scallop-Shield Scallop-rFist Scallop-Mushroom Scallop-lPawn Scallop-lFist Shield-rPawn Shield-Shield Shield-rFist Shield-Mushroom Shield-lPawn Shield-lFist Mushroom-rPawn Mushroom-rFist Mushroom-Mushroom Mushroom-lPawn Mushroom-lFist Pawn-rPawn-rPawn Pawn-rPawn-lPawn Pawn-rPawn-rFist Pawn-lPawn-rFist Pawn-lPawn-lPawn Pawn-rPawn-lFist Pawn-lPawn-lFist Fist-rFist-rFist Fist-lFist-rFist Fist-lFist-lFist Pair-x6 Pair-r42 Pair-x411 Pair-r51 Pair-l42 Pair-l51 Pair-x33 Pair-x312 Pair-x321 Pair-x222 L-x6 L-r42 L-x411 L-r51 L-l42 L-l51 L-x33 L-x312 L-x321 L-x222 Line-x6 Line-r42 Line-x411 Line-r51 Line-l42 Line-l51 Line-x33 Line-x312 Line-x321 Line-x222".split(" "),
M]);scrMgr.reg("sq1pll",function(a,c,e){d();B();var h=S[scrMgr.fixCase(e,T)];a=new b;var f=4369*mathlib.rn(4);e=4*mathlib.rn(4);c=17476-h[0]+f&13107;h=13107-h[1]+f&13107;c=(c|c<<16)>>e;h=(h|h<<16)>>e;for(e=0;4>e;e++)f=(h>>12-4*e&15)<<1|1,a.setPiece(3*e+1,f),a.setPiece(3*e+2,f),a.setPiece((3*e+3)%12,(c>>12-4*e&15)<<1);0!=mathlib.rn(2)&&a.doMove(1);a.ml=mathlib.rn(2);return t(P,a)},["H Ua Ub Z Aa Ab E F Ga Gb Gc Gd Ja Jb Na Nb Ra Rb T V Y".split(" "),T,function(a,c){d();B();var e=S[scrMgr.fixCase(a,
T)],h=new b,f=17476-e[0]&13107;e=13107-e[1]&13107;for(var g=0;4>g;g++){var m=(e>>12-4*g&15)<<1|1;h.setPiece(3*g+1,m);h.setPiece(3*g+2,m);h.setPiece((3*g+3)%12,(f>>12-4*g&15)<<1)}if(!c)return[h,!1,null];image.sqllImage(h,!1,c)}]);return{initialize:$.noop,SqCubie:b,getRandomScramble:r}}(mathlib.setNPerm,mathlib.getNPerm,mathlib.circle,mathlib.rn);(function(){function a(a,b){var c=q.set([],b&31),d=e.set([],b>>5),k=t.set([],a),n=[];mathlib.fillFacelet(f,n,[0,1,2,3],d,6);mathlib.fillFacelet(g,n,k,c,6);c=[4,2,3,1,5,0];for(d=0;6>d;d++)for(k=0;2>k;k++){var l=g[d][0^k],p=g[d][1^k],H=6*~~(l/6)+c[(c.indexOf(l%6)+5)%6],h=6*~~(p/6)+c[(c.indexOf(p%6)+1)%6];if(n[H]==n[l]&&n[h]==n[p])return!1}return!0}function l(a,b){for(var c=t.set([],a[0]),d=q.set([],a[1]&31),f=e.set([],a[1]>>5),g=t.set([],b[0]),k=q.set([],b[1]&31),p=e.set([],b[1]>>5),n=[],h=[],w=[],
l=0;6>l;l++)n[l]=c[g[l]],h[l]=d[g[l]]^k[l];for(l=0;4>l;l++)w[l]=f[l]+p[l];return[t.get(n),e.get(w)<<5|q.get(h)]}for(var f=[[3,16,11],[4,23,15],[5,9,22],[10,17,21]],g=[[1,7],[2,14],[0,18],[6,12],[8,20],[13,19]],b=new mathlib.Solver(4,2,[[0,[function(a,b){mathlib.acycle(a,A[b])},"p",6,-1],360],[0,function(a,b){var d=q.set([],a&31),f=e.set([],a>>5);f[b]++;mathlib.acycle(d,A[b],1,c[b]);return e.get(f)<<5|q.get(d)},2592]]),A=[[0,1,3],[1,2,5],[0,4,2],[3,5,4]],c=[[0,1,0,2],[0,1,0,2],[0,0,1,2],[0,0,1,2]],
q=new mathlib.Coord("o",6,-2),t=new mathlib.Coord("p",6,-1),e=new mathlib.Coord("o",4,3),d=[[0,0],[183,869],[87,1729]],y=[[1,3,"L3Bar-1","LLDGFFRRG"],[59,3,"L3Bar-2","DLLGFFRRG"],[25,3,"L3Bar-3","FFGDRRLLG"],[35,3,"L3Bar-4","GRRGLLFFD"],[12,3,"LL-1","LLGFFGGGG"],[10,3,"LL-2","GLLGGGGRR"],[2,1,"LL-3","RLRLFLFRF"],[4,1,"LL-4","FLFRFRLRL"],[3,3,"L4NB-1","FGGGGDGFGGGF"],[57,3,"L4NB-2","GGRGRGDGGGGR"],[53,3,"L4NB-3","GGDGRGGGRGGR"],[45,3,"L4NB-4","DGGFGGGFGGGF"],[33,3,"L4NB-5","GGDGGGGRGGGR"],[27,3,"L4NB-6",
"DGGGFGGGGGGF"],[49,3,"L3NB-1","RRGGGDGFF"],[43,3,"L3NB-2","GFFRRGDGG"],[41,3,"L3NB-3","GGGDLLFFG"],[51,3,"L3NB-4","GGGGRRLLD"],[8,3,"Flip-1","RLFLFFRRL"],[16,3,"Flip-2","LFFRRRLLFGGD"],[56,1,"Flip-3","RLFLFRFRLGGD"],[21,3,"L4Blk-1","GGDGGGLLL"],[13,3,"L4Blk-2","DGGLLLGGG"],[29,3,"L4Bar-1","GGGDGGGRR"],[37,3,"L4Bar-2","GGGFFGGGD"],[61,3,"L4Bar-3","GGGDGGLLG"],[5,3,"L4Bar-4","GGGGLLGGD"],[17,3,"L4Bar-5","GGGLLDGGG"],[11,3,"L4Bar-6","GGGGGGDLL"],[9,3,"L4Bar-7","RRGDGGGGG"],[19,3,"L4Bar-8","GFFGGGGGD"],
[20,3,"DFlip-1","GGGRRGGGGGGD"],[18,3,"DFlip-2","GGGGGGGFFGGD"],[60,1,"DFlip-3","FFGRRGLLGGGD"],[58,1,"DFlip-4","GRRGLLGFFGGD"]],n=[],x=[],k=0;k<y.length;k++)n.push(y[k][1]),x.push(y[k][2]);scrMgr.reg(["pyro","pyrso","pyrnb","pyr4c"],function(c){var d="pyro"==c?0:8,e="pyrl4e"==c?2:7;do{if("pyro"==c||"pyrso"==c||"pyr4c"==c){var f=mathlib.rn(360);var g=mathlib.rn(2592)}else if("pyrl4e"==c)f=mathlib.getNPerm(mathlib.setNPerm([],mathlib.rn(12),4,-1).concat([4,5]),6,-1),g=864*mathlib.rn(3)+mathlib.rn(8);
else if("pyrnb"==c){do f=mathlib.rn(360),g=mathlib.rn(2592);while(!a(f,g))}var k=b.search([f,g],0).length;var n=b.toStr(b.search([f,g],d).reverse(),"ULRB",["'",""])+" ";for(var p=0;4>p;p++){var l=mathlib.rn("pyr4c"==c?2:3);2>l&&(n+="lrbu".charAt(p)+[" ","' "][l],k++)}}while(k<e);return n})("pyrl4e",function(a,c,e){c=y[scrMgr.fixCase(e,n)][0];a=mathlib.getNPerm(mathlib.setNPerm([],c&1,4,-1).concat([4,5]),6,-1);c=864*(c>>1&3)+(c>>3);a=l(mathlib.rndEl(d),l([a,c],mathlib.rndEl(d)));a=b.toStr(b.search(a,
8).reverse(),"ULRB",["'",""])+" ";for(c=0;4>c;c++)e=mathlib.rn(3),2>e&&(a+="lrbu".charAt(c)+[" ","' "][e]);return a},[x,n,function(a,b){var c=y[a];if(!b)return["GGG"+c[3],null,c[2]];image.pyrllImage("GGG"+c[3],b)}])})();
var mpyr=function(){function a(a,b,c,d,e,f){this.ep=a||[0,1,2,3,4,5];this.eo=b||[0,0,0,0,0,0];this.wp=c||[0,1,2,3,4,5,6,7,8,9,10,11];this.ct=d||[0,1,2,3];this.co=e||[0,0,0,0];this.cp=f||[0,1,2,3]}function l(b){for(var c=[],d=new a,e=new a,h=0;h<b.length;h++){c[h]=1<<h;for(var f=0;f<h;f++)a.MpyrMult(a.moveCube[b[h]],a.moveCube[b[f]],d),a.MpyrMult(a.moveCube[b[f]],a.moveCube[b[h]],e),d.toString(1)==e.toString(1)&&(c[h]|=1<<f)}return c}function f(b,c){return a.MpyrMult(b,a.moveCube[c],null)}function g(a,
b){var c=b.ep.indexOf(a),d=b.eo[c];return 12*(12*c+b.wp.indexOf(a<<1|d))+b.wp.indexOf(a<<1|d^1)}function b(){var b=new a;F=mathlib.createMoveHash(b,N,g.bind(null,0),f);for(var c=[],d=[],e=0;6>e;e++){c.push(F[1][g(e,b)]);for(var k=0;k<e;k++)d.push(792*Math.min(c[e],c[k])+Math.max(c[e],c[k]))}var p=[];mathlib.createPrun(p,d,1881792,12,function(a,b){var c=(~~(a/792/792)+1-(N[b]>>1)%2)%3;var d=F[0][b][~~(a/792)%792];var e=F[0][b][a%792];return 627264*c+792*Math.min(d,e)+Math.max(d,e)},8,2);b=l(N);E=new mathlib.Searcher(null,
function(a){for(var b=0,c=627264*a[6],d=0;6>d;d++)for(var e=0;e<d;e++)b=Math.max(b,mathlib.getPruning(p,c+792*Math.min(a[d],a[e])+Math.max(a[d],a[e])));return b},function(a,b){for(var c=[],d=0;6>d;d++)c[d]=F[0][b][a[d]];c[6]=(a[6]+1-(N[b]>>1)%2)%3;return c},8,2,b)}function A(a){return 4*mathlib.getNPerm(a.ep,6,-1)+a.ct.indexOf(0)}function c(a){return 81*(parseInt(a.eo.join(""),2)>>1)+parseInt(a.co.join(""),3)}function q(){r=mathlib.createMoveHash(new a,z,A,f);v=mathlib.createMoveHash(new a,z,c,f);
var b=[],d=[];mathlib.createPrun(b,0,1440,14,r[0],4,2);mathlib.createPrun(d,0,2592,14,v[0],4,2);var e=l(z);p=new mathlib.Searcher(null,function(a){return Math.max(mathlib.getPruning(b,a[0]),mathlib.getPruning(d,a[1]))},function(a,b){return[r[0][b][a[0]],v[0][b][a[1]]]},4,2,e)}function t(a){for(var b=[],c=0;c<a.length;c++)b[c]=H[a[c]];return b.join(" ")}function e(b,c){for(var d=0;d<c.length;d++)b=a.MpyrMult(b,a.moveCube[c[d]],null);return b}function d(a){E||(b(),q());for(var d=$.now(),h=[],f=0;6>
f;f++)h[f]=F[1][g(f,a)];h[6]=a.getCosetIdx();h=E.solve(h,0,14);d=$.now()-d;for(f=0;f<h.length;f++)h[f]=N[h[f][0]]+h[f][1];a=e(a,h);f=r[1][A(a)];var k=v[1][c(a)];a=$.now();k=p.solve([f,k],0,20);a=$.now()-a;for(f=0;f<k.length;f++)k[f]=z[k[f][0]]+k[f][1];return[h,k,d,a]}function y(){var b=a.randomCube();b=d(b);b=t([].concat(b[0],b[1]));for(var c=0;4>c;c++){var e=mathlib.rn(3);2>e&&(b+=" "+"lrbu".charAt(c)+["","'"][e])}return b}a.prototype.toString=function(){var a=this.toFaceCube(1);return"XX L0 L1 L2 L3 L4 XX    XX R0 R1 R2 R3 R4 XX\n   L5 L6 L7 L8 L9    XX    R5 R6 R7 R8 R9\n      La Lb Lc    Fc Fb Fa    Ra Rb Rc\n         XX    F9 F8 F7 F6 F5    XX\n            XX F4 F3 F2 F1 F0 XX\n            XX D0 D1 D2 D3 D4 XX\n               D5 D6 D7 D8 D9\n                  Da Db Dc\n                     XX".replace(/([FRDL])([0-9a-c])/g,
function(b,c,d){b=13*"FRDL".indexOf(c)+parseInt(d,16);return"FRDL"[~~(a[b]/13)]+(a[b]%13).toString(16)})};var n=[[8,47],[34,21],[6,19],[32,45],[2,28],[15,41]],x=[[9,51],[48,12],[35,25],[22,38],[10,18],[23,5],[36,44],[49,31],[1,29],[27,3],[14,42],[40,16]],k=[[0,24,30],[26,50,4],[13,11,43],[39,37,17]],B=[7,33,20,46];a.prototype.toFaceCube=function(a){var b=[];a=a||13;mathlib.fillFacelet(n,b,this.ep,this.eo,a);mathlib.fillFacelet(x,b,this.wp,[],a);mathlib.fillFacelet(k,b,this.cp,this.co,a);mathlib.fillFacelet(B,
b,this.ct,null,a);return b};a.prototype.fromFacelet=function(a){for(var b=0,c=[],d=0;52>d;++d)c[d]=a[d],b+=Math.pow(16,c[d]);if(56797!=b)return-1;for(d=0;6>d;d++)a:for(a=0;6>a;a++)for(b=0;2>b;b++)if(~~(n[a][0]/13)==c[n[d][b]]&&~~(n[a][1]/13)==c[n[d][b^1]]){this.ep[d]=a;this.eo[d]=b;break a}for(d=0;12>d;d++)for(a=0;12>a;a++)if(~~(x[a][0]/13)==c[x[d][0]]&&~~(x[a][1]/13)==c[x[d][1]]){this.wp[d]=a;break}for(d=0;4>d;d++)a:for(a=0;4>a;a++)for(b=0;3>b;b++)if(~~(k[a][0]/13)==c[k[d][b]]&&~~(k[a][1]/13)==c[k[d][(b+
1)%3]]&&~~(k[a][2]/13)==c[k[d][(b+2)%3]]){this.cp[d]=a;this.co[d]=b;break a}for(d=0;4>d;d++)for(a=0;4>a;a++)~~(B[a]/13)==c[B[d]]&&(this.ct[d]=a);return this};a.randomCube=function(){return new a(mathlib.rndPerm(6,!0),mathlib.setNOri([],mathlib.rn(32),6,-2),mathlib.rndPerm(12,!0),mathlib.rndPerm(4,!0),mathlib.setNOri([],mathlib.rn(27),4,-3),null)};a.MpyrMult=function(){for(var b=arguments[arguments.length-1]||new a,c=0;c<arguments.length;c++){for(var d=arguments[arguments.length-1-c],e=0;4>e;e++)b.ct[e]=
0==c?e:d.ct[b.ct[e]],b.co[e]=0==c?0:(d.co[b.cp[e]]+b.co[e])%3,b.cp[e]=0==c?e:d.cp[b.cp[e]];for(e=0;6>e;e++)b.eo[e]=0==c?0:d.eo[b.ep[e]]^b.eo[e],b.ep[e]=0==c?e:d.ep[b.ep[e]];for(e=0;12>e;e++)b.wp[e]=0==c?e:d.wp[b.wp[e]]}return b};(function(){if(!a.moveCube){var b=[];b[0]=new a([0,1,2,3,4,5],[0,0,0,0,0,0],[0,4,2,3,10,5,6,7,8,9,1,11],[0,1,2,3],[0,0,1,0],null);b[2]=new a([2,1,5,3,4,0],[1,0,0,0,0,1],[5,4,2,3,10,11,6,7,8,9,1,0],[2,1,3,0],[0,0,1,0],null);b[4]=new a([0,1,2,3,4,5],[0,0,0,0,0,0],[0,1,2,6,4,
5,11,7,8,9,10,3],[0,1,2,3],[0,0,0,1],null);b[6]=new a([0,3,2,5,4,1],[0,1,0,1,0,0],[0,1,7,6,4,5,11,10,8,9,2,3],[0,3,1,2],[0,0,0,1],null);b[8]=new a([0,1,2,3,4,5],[0,0,0,0,0,0],[0,1,5,3,4,8,6,7,2,9,10,11],[0,1,2,3],[1,0,0,0],null);b[10]=new a([0,2,4,3,1,5],[0,1,1,0,0,0],[0,1,5,4,9,8,6,7,2,3,10,11],[1,2,0,3],[1,0,0,0],null);b[12]=new a([0,1,2,3,4,5],[0,0,0,0,0,0],[7,1,2,3,4,5,6,9,8,0,10,11],[0,1,2,3],[0,1,0,0],null);b[14]=new a([3,1,2,4,0,5],[1,0,0,0,1,0],[7,6,2,3,4,5,8,9,1,0,10,11],[3,0,2,1],[0,1,0,
0],null);for(var c=1;16>c;c+=2)b[c]=a.MpyrMult(b[c-1],b[c-1],null);a.moveCube=b}})();a.prototype.getPairPerm=function(){for(var a=[],b=[],c=0;6>c;c++){var d=this.eo[c];a[2*this.ep[c]]=2*c+d;a[2*this.ep[c]+1]=2*c+(d^1)}for(c=0;12>c;c++)b[c]=a[this.wp[c]];return b};a.prototype.getCosetIdx=function(){for(var a=0,b=0;4>b;b++)a+=this.co[b];a+=3-this.ct[3^this.ct.indexOf(3)];return a%3};var N=[0,2,4,6,8,10,12,14],F=null,E=null,z=[2,6,10,14],r=null,v=null,p=null,H="U U' Uw Uw' B B' Bw Bw' R R' Rw Rw' L L' Lw Lw'".split(" ");
scrMgr.reg("mpyrso",y);return{getRandomScramble:y,solveTest:function(b){var c=[0,2,4,6,8,10,12,14];var f=[];for(var h=0;h<b;h++)f.push(c[~~(Math.random()*c.length)]);b=new a;for(h=0;h<f.length;h++)b=a.MpyrMult(b,a.moveCube[f[h]],null);f=[b,f];t(f[1].slice());b=f[0];f=d(b);DEBUG&&console.log("[mpyr] phase1 solved in ",f[2]);DEBUG&&console.log("[mpyr] phase2 solved in ",f[3]);b=e(b,f[0]);b=e(b,f[1]);h=!0;b=b.toFaceCube();for(c=0;52>c;c+=13)for(var g=c+1;g<c+13;g++)if(b[c]!=b[g]){h=!1;break}h||console.log("ERROR! NOT SOLVED!");
return[f[0].length,f[1].length,f[2],f[3]]}}}();(function(){function a(a,c){var f=t.set([],a%12),k=q.set([],~~(a/12)),n=e.set([],c%81);c=d.set([],~~(c/81));for(var l=[],r=0;6>r;r++)l[5*r]=k[r];mathlib.fillFacelet(g,l,[0,1,2,3],n,5);mathlib.fillFacelet(b,l,f,c,5);for(r=0;30>r;r+=5)for(f=1;5>f;f++)if(l[r]==l[r+f])return!1;return!0}function l(a,b){var d=t.set([],a%12),e=q.set([],~~(a/12));mathlib.acycle(e,A[b]);mathlib.acycle(d,c[b]);return 12*q.get(e)+t.get(d)}function f(a,b){var f=e.set([],a%81),g=d.set([],~~(a/81));f[b]++;mathlib.acycle(g,c[b],
1,[0,2,1,3]);return 81*d.get(g)+e.get(f)}var g=[[4,16,7],[1,11,22],[26,14,8],[29,19,23]],b=[[3,6,12],[2,21,17],[27,9,18],[28,24,13]],A=[[0,3,1],[0,2,4],[1,5,2],[3,4,5]],c=[[0,1,2],[0,3,1],[0,2,3],[1,3,2]],q=new mathlib.Coord("p",6,-1),t=new mathlib.Coord("p",4,-1),e=new mathlib.Coord("o",4,3),d=new mathlib.Coord("o",4,-3),y=new mathlib.Solver(4,2,[[0,l,4320],[0,f,2187]]),n=new mathlib.Solver(4,2,[[0,function(a,b){return~~(l(12*a,b)/12)},360],[0,function(a,b){return f(a,b)%81},81]]),x=[0,1,2,0,2,1,
1,2,0,2,1,0];scrMgr.reg(["skbo","skbso","skbnb"],function(b){var c="skbso"==b?6:2,d="skbo"==b?0:8;do{var e=mathlib.rn(4320);var f=mathlib.rn(2187)}while(0==e&&0==f||x[e%12]!=(f+~~(f/3)+~~(f/9)+~~(f/27))%3||null!=y.search([e,f],0,c)||"skbnb"==b&&!a(e,f));b=y.search([e,f],d).reverse();e=[];f=["L","R","B","U"];for(c=0;c<b.length;c++){d=b[c][0];var g=1-b[c][1];2==d&&mathlib.acycle(f,[0,3,1],g+1);e.push(f[d]+(1==g?"'":""))}return e.join(" ")})(["ivyo","ivyso"],function(a){var b="ivyso"==a?6:0;do{a=mathlib.rn(360);
var c=mathlib.rn(81)}while(0==a&&0==c||null!=n.search([a,c],0,1));return n.toStr(n.search([a,c],b).reverse(),"RLDB","' ")})})();var scramble_222=function(a){function l(a,b){mathlib.acycle(a,t[b])}function f(a,b){mathlib.acycle(a,t[b],1,e[b])}function g(a,b){for(var c=mathlib.setNPerm([],a,7),e=d.set([],b),f=[],h=0;24>h;h++)f[h]=h>>2;mathlib.fillFacelet(y,f,c,e,4);for(h=0;24>h;h+=4)if((1<<f[h]|1<<f[h+3])&(1<<f[h+1]|1<<f[h+2]))return!1;return!0}function b(b,c,e){var g=0,m=4;c=[0,1,2,3];var n=[0,0,0,0,0,0,0];if("222tcp"==b)g=N[scrMgr.fixCase(e,p)],n=[0,0,0,0,1,0,0],c=c.concat(k[0]);else if("222tcn"==b)g=F[scrMgr.fixCase(e,h)],
n=[0,0,0,0,2,0,0],c=c.concat(k[0]);else if("222tc"==b)for(n=scrMgr.fixCase(e,L),g=E[n].slice(),n=[0,0,0,0,7>n?1:2,0,0],c=c.concat(k[0]),b=mathlib.rndPerm(4),e=g[0]=0;4>e;e++)g[0]|=b[e]<<4*e;else if("222eg0"==b)g=B[scrMgr.fixCase(e,r)],c=c.concat(k[0]);else if("222eg1"==b)g=B[scrMgr.fixCase(e,r)],c=c.concat(k[2+a(4)]);else if("222eg2"==b)g=B[scrMgr.fixCase(e,r)],c=c.concat(k[1]);else if("222lsall"==b){c=c.concat(k[0]);b=mathlib.rndPerm(4);b.push(b[3]);b[3]=4;g=[0,z[scrMgr.fixCase(e,D)][0]];for(e=0;5>
e;e++)g[0]|=b[e]<<4*e;m=5}for(e=a(4);0<e--;)l(c,0);b=c.slice();for(e=0;e<m;e++)c[e]=b[g[0]>>4*e&15],n[e]=g[1]>>4*e&15;for(g=a(4);0<g--;)f(n,0),l(c,0);c=mathlib.getNPerm(c,7);n=d.get(n);return q.toStr(q.search([c,n],9).reverse(),"URF","'2 ")}function A(a,b,c,d,e){b=b[d];for(var f=[],h=0;4>h;h++)if(!a||"all"==a||"ori"==a)for(var g=b[0]>>(h<<2)&15,m=b[1]>>(h<<2)&15,k="all"==a?"DLFURB":"DGGUGG",p=0;3>p;p++){var l=n.indexOf(y[h][p]);f[l]=k.charAt(y[g][(p+3-m)%3]>>2)}else if("ls"==a)for(m=b[0]>>(h<<2)&
15,p=0;3>p;p++)l=n.indexOf(y[h][p]),f[l]="DGU".charAt(0==(p+3-m)%3?3==h?2:0:1);f=f.join("");if(!e)return[f,null,c[d]];image.llImage.drawImage(f,null,e)}function c(b,e,h){var m="222o"==b?0:9;do{var p=2;if("222o"==b||"222so"==b){var n=a(5040);var l=a(729);p=3}else if("222eg"==b){l=x[h&7];n=[0,2,3,4,5,1][h>>3];n=mathlib.setNPerm([0,0,0,0].concat(k[n]),a(24),4);n=mathlib.getNPerm(n,7);var r=a(4);for(l=d.set([],l);0<r--;)f(l,0);l=d.get(l)}else{if(/^222eg[012]$/.exec(b))return c("222eg",e,[0,8,40][~~b[5]]+
h);if("222nb"==b){do n=a(5040),l=a(729);while(!g(n,l))}}}while(0==n&&0==l||null!=q.search([n,l],0,p));return q.toStr(q.search([n,l],m).reverse(),"URF","'2 ")}var q=new mathlib.Solver(3,3,[[0,[l,"p",7],5040],[0,[f,"o",7,-3],729]]),t=[[0,2,3,1],[0,1,5,4],[0,4,6,2]],e=[null,[0,1,0,1,3],[1,0,1,0,3]],d=new mathlib.Coord("o",7,-3),y=[[3,4,9],[1,20,5],[2,8,17],[0,16,21],[13,11,6],[15,7,22],[12,19,10]],n=[0,1,2,3,8,9,4,5,20,21,16,17],x=[0,17,5,14,8,1,2,4],k=[[4,5,6],[4,6,5],[6,5,4],[5,4,6],[5,6,4],[6,4,5]],
B=[[12816,4641,2,"H-1"],[12576,4641,2,"H-2"],[8976,4641,4,"H-3"],[12306,4641,4,"H-4"],[786,528,4,"L-1"],[8976,528,4,"L-2"],[531,528,4,"L-3"],[12816,528,4,"L-4"],[8211,528,4,"L-5"],[12306,528,4,"L-6"],[12816,4626,4,"Pi-1"],[531,4626,4,"Pi-2"],[8976,4626,4,"Pi-3"],[8211,4626,4,"Pi-4"],[12306,4626,4,"Pi-5"],[786,4626,4,"Pi-6"],[12816,8736,4,"S-1"],[531,8736,4,"S-2"],[786,8736,4,"S-3"],[12306,8736,4,"S-4"],[8211,8736,4,"S-5"],[8976,8736,4,"S-6"],[8976,4128,4,"T-1"],[8211,4128,4,"T-2"],[531,4128,4,"T-3"],
[12816,4128,4,"T-4"],[12306,4128,4,"T-5"],[786,4128,4,"T-6"],[531,8208,4,"U-1"],[12816,8208,4,"U-2"],[786,8208,4,"U-3"],[12306,8208,4,"U-4"],[8976,8208,4,"U-5"],[8211,8208,4,"U-6"],[12816,4113,4,"aS-1"],[531,4113,4,"aS-2"],[786,4113,4,"aS-3"],[12306,4113,4,"aS-4"],[8976,4113,4,"aS-5"],[8211,4113,4,"aS-6"]],N=[[291,545,4,"Hammer-1"],[12321,545,4,"Hammer-2"],[306,545,4,"Hammer-3"],[561,545,4,"Hammer-4"],[801,545,4,"Hammer-5"],[8961,545,4,"Hammer-6"],[291,4130,4,"Spaceship-1"],[8961,4130,4,"Spaceship-2"],
[4896,4130,4,"Spaceship-3"],[12321,4130,4,"Spaceship-4"],[12306,4130,4,"Spaceship-5"],[561,4130,4,"Spaceship-6"],[8241,2,4,"Stollery-1"],[12576,2,4,"Stollery-2"],[12801,2,4,"Stollery-3"],[8451,2,4,"Stollery-4"],[561,2,4,"Stollery-5"],[8496,2,4,"Stollery-6"],[291,8738,1,"Pinwheel-1"],[4146,8738,1,"Pinwheel-2"],[12801,8738,4,"Pinwheel-3"],[8241,272,2,"2Face-1"],[12546,272,4,"2Face-2"],[531,272,2,"2Face-3"],[12321,272,4,"2Face-4"],[4866,290,4,"Turtle-1"],[4146,290,4,"Turtle-2"],[12801,290,4,"Turtle-3"],
[4656,290,4,"Turtle-4"],[8976,290,4,"Turtle-5"],[801,290,4,"Turtle-6"],[12816,4370,4,"Pinwheel Poser-1"],[12576,4370,4,"Pinwheel Poser-2"],[12801,4370,4,"Pinwheel Poser-3"],[8451,4370,4,"Pinwheel Poser-4"],[8976,4370,4,"Pinwheel Poser-5"],[8496,4370,4,"Pinwheel Poser-6"],[8241,17,4,"Gun-1"],[4146,17,4,"Gun-2"],[306,17,4,"Gun-3"],[12321,17,4,"Gun-4"],[8976,17,4,"Gun-5"],[8496,17,4,"Gun-6"]],F=[[4866,4609,4,"Hammer-1"],[12321,4609,4,"Hammer-2"],[8976,4609,4,"Hammer-3"],[12801,4609,4,"Hammer-4"],[4611,
4609,4,"Hammer-5"],[12576,4609,4,"Hammer-6"],[291,4114,4,"Spaceship-1"],[4146,4114,4,"Spaceship-2"],[786,4114,4,"Spaceship-3"],[12801,4114,4,"Spaceship-4"],[4131,4114,4,"Spaceship-5"],[8496,4114,4,"Spaceship-6"],[291,1,4,"Stollery-1"],[12576,1,4,"Stollery-2"],[306,1,4,"Stollery-3"],[8451,1,4,"Stollery-4"],[12546,1,4,"Stollery-5"],[4611,1,4,"Stollery-6"],[291,4369,1,"Pinwheel-1"],[4146,4369,1,"Pinwheel-2"],[4896,4369,4,"Pinwheel-3"],[8241,8194,2,"2Face-1"],[306,8194,4,"2Face-2"],[4146,8194,2,"2Face-3"],
[12321,8194,4,"2Face-4"],[8241,4354,4,"Turtle-1"],[12576,4354,4,"Turtle-2"],[4131,4354,4,"Turtle-3"],[12321,4354,4,"Turtle-4"],[306,4354,4,"Turtle-5"],[4611,4354,4,"Turtle-6"],[4866,8482,4,"Pinwheel Poser-1"],[531,8482,4,"Pinwheel Poser-2"],[8211,8482,4,"Pinwheel Poser-3"],[786,8482,4,"Pinwheel Poser-4"],[8976,8482,4,"Pinwheel Poser-5"],[801,8482,4,"Pinwheel Poser-6"],[291,34,4,"Gun-1"],[4146,34,4,"Gun-2"],[306,34,4,"Gun-3"],[8976,34,4,"Gun-4"],[786,34,4,"Gun-5"],[8496,34,4,"Gun-6"]],E=[[291,545,
4,"TCLL1-Hammer"],[291,4130,4,"TCLL1-Spaceship"],[8241,2,4,"TCLL1-Stollery"],[291,8738,1,"TCLL1-Pinwheel"],[8241,272,2,"TCLL1-2Face"],[4866,290,4,"TCLL1-Turtle"],[12816,4370,4,"TCLL1-Pinwheel Poser"],[8241,17,4,"TCLL1-Gun"],[4866,4609,4,"TCLL2-Hammer"],[291,4114,4,"TCLL2-Spaceship"],[291,1,4,"TCLL2-Stollery"],[291,4369,1,"TCLL2-Pinwheel"],[8241,8194,2,"TCLL2-2Face"],[8241,4354,4,"TCLL2-Turtle"],[4866,8482,4,"TCLL2-Pinwheel Poser"],[291,34,4,"TCLL2-Gun"]],z=[[0,"LS1-PBL"],[546,"LS1-Sune"],[273,"LS1-aSune"],
[258,"LS1-Ua"],[33,"LS1-Ub"],[288,"LS1-La"],[528,"LS1-Lb"],[513,"LS1-Ta"],[18,"LS1-Tb"],[66081,"LS2-Hammer"],[66066,"LS2-Spaceship"],[66048,"LS2-StolleryA"],[65538,"LS2-StolleryB"],[65568,"LS2-StolleryC"],[65808,"LS2-2Face"],[65826,"LS2-Turtle"],[65553,"LS2-GunA"],[65793,"LS2-GunB"],[131346,"LS3-Hammer"],[131601,"LS3-Spaceship"],[131328,"LS3-StolleryA"],[131073,"LS3-StolleryB"],[131088,"LS3-StolleryC"],[131616,"LS3-2Face"],[131361,"LS3-Turtle"],[131106,"LS3-GunA"],[131586,"LS3-GunB"],[8226,"LS4-SuneA"],
[8736,"LS4-SuneB"],[8706,"LS4-SuneC"],[8721,"LS4-PiA"],[8481,"LS4-PiB"],[8208,"LS4-U"],[8193,"LS4-L"],[8448,"LS4-T"],[8466,"LS4-H"],[73746,"LS5-HammerA"],[73986,"LS5-HammerB"],[74016,"LS5-SpaceshipA"],[74241,"LS5-SpaceshipB"],[73728,"LS5-Stollery"],[74274,"LS5-Pinwheel"],[73761,"LS5-TurtleA"],[74256,"LS5-TurtleB"],[74001,"LS5-Pinwheel Poser"],[139536,"LS6-Hammer"],[139521,"LS6-Spaceship"],[139266,"LS6-2Face"],[139281,"LS6-Turtle"],[139554,"LS6-Pinwheel PoserA"],[139809,"LS6-Pinwheel PoserB"],[139794,
"LS6-Pinwheel PoserC"],[139776,"LS6-GunA"],[139296,"LS6-GunB"],[4113,"LS7-aSuneA"],[4368,"LS7-aSuneB"],[4353,"LS7-aSuneC"],[4626,"LS7-PiA"],[4386,"LS7-PiB"],[4608,"LS7-U"],[4098,"LS7-L"],[4128,"LS7-T"],[4641,"LS7-H"],[70176,"LS8-Hammer"],[69666,"LS8-Spaceship"],[69633,"LS8-2Face"],[70146,"LS8-Turtle"],[69921,"LS8-Pinwheel PoserA"],[69906,"LS8-Pinwheel PoserB"],[70161,"LS8-Pinwheel PoserC"],[69648,"LS8-GunA"],[69888,"LS8-GunB"],[135681,"LS9-HammerA"],[135201,"LS9-HammerB"],[135186,"LS9-SpaceshipA"],
[135456,"LS9-SpaceshipB"],[135168,"LS9-Stollery"],[135441,"LS9-Pinwheel"],[135426,"LS9-TurtleA"],[135696,"LS9-TurtleB"],[135714,"LS9-Pinwheel Poser"]],r=mathlib.idxArray(B,2),v=mathlib.idxArray(B,3),p=mathlib.idxArray(N,2),H=mathlib.idxArray(N,3),h=mathlib.idxArray(F,2),w=mathlib.idxArray(F,3),L=mathlib.idxArray(E,2),m=mathlib.idxArray(E,3),D=mathlib.valuedArray(z.length,1),G=mathlib.idxArray(z,1);scrMgr.reg(["222o","222so","222nb"],c)("222eg0",b,[v,r,A.bind(null,"all",B,v)])("222eg1",b,[v,r,A.bind(null,
"all",B,v)])("222eg2",b,[v,r,A.bind(null,"all",B,v)])("222tcp",b,[H,p,A.bind(null,"all",N,H)])("222tcn",b,[w,h,A.bind(null,"all",F,w)])("222tc",b,[m,L,A.bind(null,"ori",E,m)])("222lsall",b,[G,D,A.bind(null,"ls",z,G)])("222eg",c,["EG0-O EG0-H EG0-L EG0-Pi EG0-S EG0-T EG0-U EG0-aS EG1B-O EG1B-H EG1B-L EG1B-Pi EG1B-S EG1B-T EG1B-U EG1B-aS EG1L-O EG1L-H EG1L-L EG1L-Pi EG1L-S EG1L-T EG1L-U EG1L-aS EG1F-O EG1F-H EG1F-L EG1F-Pi EG1F-S EG1F-T EG1F-U EG1F-aS EG1R-O EG1R-H EG1R-L EG1R-Pi EG1R-S EG1R-T EG1R-U EG1R-aS EG2-O EG2-H EG2-L EG2-Pi EG2-S EG2-T EG2-U EG2-aS".split(" "),
[1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4,1,2,4,4,4,4,4,4]]);return{getEGLLImage:A.bind(null,!1,B,v)}}(mathlib.rn);(function(){function a(a,b){mathlib.acycle(a,[0,b+1])}function l(a,b){var c=mathlib.setNPerm([],~~(a/3),4);mathlib.acycle(c,t[b]);return 3*mathlib.getNPerm(c,4)+(a%3+(0==b?1:0))%3}function f(a,b,f){return 72*A[f][~~(b/72)]+c[(f+a)%3][b%72]}function g(a,b,f,n){if(0==b)return 0==a[0]&&0==a[1]&&0==a[2]&&0==a[3];if(Math.max(mathlib.getPruning(q[0],72*a[0]+a[1]),mathlib.getPruning(q[1],72*a[0]+a[2]),mathlib.getPruning(q[2],72*a[0]+a[3]))>b)return!1;for(var d=0;3>d;d++)if(d!=f)for(var e=a.slice(),l=0;11>
l;l++){e[0]=A[d][e[0]];for(var t=1;4>t;t++)e[t]=c[(d+t-1)%3][e[t]];if(g(e,b-1,d,n))return n.push("URF".charAt(d)+"' 2' 3' 4' 5' 6 5 4 3 2 ".split(" ")[l]),!0}}function b(){b=$.noop;mathlib.createMove(c,72,l,3);mathlib.createMove(A,24,[a,"p",4],3);for(var e=0;3>e;e++)mathlib.createPrun(q[e],0,1728,5,f.bind(null,e),3,12,0)}var A=[],c=[],q=[[],[],[]],t=[[0,3,2,1],[0,1],[0,3]];scrMgr.reg(["gearo","gearso"],function(a){b();do{var c=[mathlib.rn(24)];for(var e=0;3>e;e++){do c[e+1]=mathlib.rn(72);while(15==
mathlib.getPruning(q[e],72*c[0]+c[e+1]))}}while(0==c);a="gearso"==a?4:0;for(e=[];!g(c,a,-1,e);)a++;return e.reverse().join(" ")})})();(function(){var a=new mathlib.Solver(4,1,[[0,function(a,g){var b=mathlib.setNPerm([],a>>4,4);mathlib.acycle(b,l[g]);return(mathlib.getNPerm(b,4)<<4)+(a&15^1<<g)},384]]),l=[[0,1],[2,3],[0,3],[1,2]];scrMgr.reg("133",function(){var f=1+mathlib.rn(191);f=2*f+((mathlib.getNParity(f>>3,4)^f>>1^f>>2^f)&1);return a.toStr(a.search([f],0),"RLFB",[""])})})();(function(a,l){function f(){f=$.noop;for(var c=[],g,t=0;40320>t;t++)b[t]=[];for(t=0;40320>t;t++)mathlib.setNPerm(c,t,8),a(c,0,1,2,3),g=b[0][t]=l(c,8),a(c,4,5,6,7),g=b[1][g]=l(c,8),a(c,2,5)(c,3,6),g=b[2][g]=l(c,8),a(c,0,5)(c,3,4),b[3][g]=l(c,8);mathlib.createPrun(A,0,40320,12,b,4,3)}function g(c,f,t,e,d){if(0==t)return 0==c+f;if(mathlib.getPruning(A,c)>t)return!1;var q,n;for(n=0;4>n;n++)if(n!=e){var x=c;var k=f;for(q=0;q<(2>n?3:1);q++){x=b[n][x];var B=n;2>B||(k=mathlib.setNPerm([],k,3),2==B?a(k,0,
1):3==B&&a(k,0,2),k=l(k,3));if(g(x,k,t-1,n,d))return d.push(["U","D","R2","F2"][n]+(2>n?" 2'".charAt(q):"")),!0}}}var b=[],A=[];scrMgr.reg("223",function(){f();do{var a=mathlib.rn(40320);var b=mathlib.rn(6)}while(0==b+a);for(var l=[],e=0;99>e&&!g(a,b,e,-1,l);e++);return l.reverse().join(" ")})})(mathlib.circle,mathlib.getNPerm);var clock=function(a,l){function f(a,b,c,d,f){for(var e=a[0].length;d<e;d++)a[c][d]=(a[c][d]+a[b][d]*f)%12}var g=[[0,1,1,0,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,0,1,1,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,0,0,0,0,0,0,0,0],[0,1,1,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0,0,0],[1,1,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0],[11,0,0,0,0,0,0,0,0,1,0,1,1,0],[0,0,0,0,0,0,11,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,11,0,1,1,0,1],[0,0,11,0,0,0,0,0,0,1,1,
1,0,0],[11,0,11,0,0,0,0,0,0,1,1,1,1,0],[11,0,0,0,0,0,11,0,0,1,0,1,1,1],[0,0,0,0,0,0,11,0,11,0,1,1,1,1],[0,0,11,0,0,0,0,0,11,1,1,1,0,1],[11,0,11,0,0,0,11,0,11,1,1,1,1,1]],b=[-1,1,-1,-1,-1,5,-1,7,-1,-1,-1,11],A=[7695,42588,47187,85158,86697,156568,181700,209201,231778],c="UR DR DL UL U R D L ALL".split(" ");scrMgr.reg("clko",function(q){var t=[];for(q=0;14>q;q++)t[q]=a(12);q=[];q.length=18;if(14==t.length&&18==q.length)for(var e=15,d=0;d<l[18][14];d++){var y=d;var n=14;for(var x=0,k=17;0<=k;k--)y>=
l[k][n]&&(y-=l[k][n--],x|=1<<k);n=x;y=!1;for(x=0;x<A.length;x++)if((n&A[x])==A[x]){y=!0;break}if(!y){y=[];for(x=k=0;18>x;x++)1==(n>>x&1)&&(y[k++]=x);n=[];for(k=0;14>k;k++){n[k]=[];for(x=0;14>x;x++)n[k][x]=g[y[x]][k];n[k][14]=t[k]}b:{x=n;k=x[0].length;for(var B=0;B<k-1;B++){if(-1==b[x[B][B]]){for(var N=-1,F=B+1;14>F;F++)if(-1!=b[x[F][B]]){N=F;break}if(-1==N)c:for(F=B;13>F;F++)for(var E=F+1;14>E;E++)if(-1!=b[(x[F][B]+x[E][B])%12]){f(x,E,F,B,1);N=F;break c}if(-1==N){for(F=B+1;14>F;F++)if(0!=x[F][B]){x=
-1;break b}x=B+1;break b}F=x;E=F[B];F[B]=F[N];F[N]=E}N=b[x[B][B]];for(F=B;F<k;F++)x[B][F]=x[B][F]*N%12;for(F=B+1;14>F;F++)f(x,B,F,B,12-x[F][B])}x=0}if(0==x){x=!0;for(k=14;14>k;k++)if(0!=n[k][14]){x=!1;break}if(x){x=n;for(k=x[0].length-2;0<k;k--)for(B=k-1;0<=B;B--)0!=x[B][k]&&f(x,k,B,k,12-x[B][k]);for(k=x=0;14>k;k++)0!=n[k][14]&&x++;if(x<e){for(k=0;18>k;k++)q[k]=0;for(k=0;14>k;k++)q[y[k]]=n[k][14];e=x}}}}}t="";for(e=0;9>e;e++)d=q[e],0!=d&&(y=6>=d,6<d&&(d=12-d),t+=c[e]+d+(y?"+":"-")+" ");t+="y2 ";for(e=
0;9>e;e++)d=q[e+9],0!=d&&(y=6>=d,6<d&&(d=12-d),t+=c[e]+d+(y?"+":"-")+" ");q=!0;for(e=0;4>e;e++)1==a(2)&&(t+=(q?"":" ")+c[e],q=!1);return t});return{moveArr:g}}(mathlib.rn,mathlib.Cnk);(function(){var a=[[0,1,2,3],[0,2,5,4]],l=[[0,0,0,0,2],[0,1,0,1,2]],f=new mathlib.Solver(2,3,[[0,function(f,b){var g=f>>3,c=f,l=f<<1|mathlib.getNParity(g,6)^c>>1&1;g=mathlib.setNPerm([],g,6);mathlib.acycle(g,a[b]);0==b&&(c+=2);1==b&&(l+=1);return mathlib.getNPerm(g,6)<<3|c&6|l>>1&1},5760],[0,[function(f,b){mathlib.acycle(f,a[b],1,l[b])},"o",6,-2],32]]);scrMgr.reg("lsemu",function(){do{var a=mathlib.rn(5760);var b=mathlib.rn(32)}while(0==b+a);return f.toStr(f.search([a,b],0),"UM"," 2'").replace(/ +/g,
" ")})})();(function(){function a(a,q,t){t=q=0;do"mlsll"==a?(q=mathlib.rn(11520),t=mathlib.rn(87480)):"mgmpll"==a?(q=32*l.get(mathlib.rndPerm(5,!0).concat([5])),t=243*g.get(mathlib.rndPerm(5,!0).concat([5]))):"mgmll"==a&&(q=f.set([],mathlib.rn(32)),q[0]+=q[5],q[5]=0,t=b.set([],mathlib.rn(243)),t[0]+=t[5],t[5]=0,q=32*l.get(mathlib.rndPerm(5,!0).concat([5]))+f.get(q),t=243*g.get(mathlib.rndPerm(5,!0).concat([5]))+b.get(t));while(0==q&&0==t);a=A.search([q,t],0);q=[];for(t=0;t<a.length;t++){var c=a[t];q.push(["U",
"R U","F' U"][c[0]]+["","2","2'","'"][c[1]]+[""," R'"," F"][c[0]])}return q.join(" ").replace(/ +/g," ")}var l=new mathlib.Coord("p",6,-1),f=new mathlib.Coord("o",6,-2),g=new mathlib.Coord("p",6,-1),b=new mathlib.Coord("o",6,-3),A=new mathlib.Solver(3,4,[[0,function(a,b){var c=l.set([],a>>5),e=f.set([],a&31);0==b?(mathlib.acycle(e,[0,1,2,3,4],1),mathlib.acycle(c,[0,1,2,3,4],1)):1==b?(mathlib.acycle(e,[0,1,2,3,5],1),mathlib.acycle(c,[0,1,2,3,5],1)):2==b&&(mathlib.acycle(e,[1,2,3,4,5],1,[0,0,0,0,1,
2]),mathlib.acycle(c,[1,2,3,4,5]));return l.get(c)<<5|f.get(e)},11520],[0,function(a,f){var c=g.set([],~~(a/243)),e=b.set([],a%243);0==f?(mathlib.acycle(e,[0,1,2,3,4],1),mathlib.acycle(c,[0,1,2,3,4],1)):1==f?(mathlib.acycle(e,[0,5,1,2,3],1,[2,0,0,0,0,3]),mathlib.acycle(c,[0,5,1,2,3])):2==f&&(mathlib.acycle(e,[0,2,3,4,5],1,[1,0,0,0,1,3]),mathlib.acycle(c,[0,2,3,4,5]));return 243*g.get(c)+b.get(e)},87480]]);scrMgr.reg("mlsll",a)("mgmpll",a)("mgmll",a)})();(function(){scrMgr.reg("klmso",function(){var a=new klmsolver.KiloCubie;a.perm=mathlib.rndPerm(20,!0);for(var l=60,f=0;19>f;f++){var g=mathlib.rn(3);a.twst[f]=g;l-=g}a.twst[19]=l%3;return klmsolver.solveKiloCubie(a,!0)})})();(function(){function a(a){var f=a.length>>1,g=new ftosolver.FtoCubie;do{var b=mathlib.rndPerm(f,!0);var l=mathlib.setNOri([],mathlib.rn(1<<f>>1),f,-2);var c=mathlib.rndPerm(a.length,!0);var q=!0;for(var t=0;t<a.length;t++)q=q&&~~(a[c[t]]/3)==~~(a[t]/3);for(t=0;t<f;t++)q=q&&b[t]==t&&0==l[t]}while(q);for(t=0;t<f;t++)g.cp[t]=b[t],g.co[t]=l[t];for(t=0;t<a.length;t++)g.uf[a[t]]=a[c[t]];return ftosolver.solveFacelet(g.toFaceCube(),!0)}scrMgr.reg("ftoso",function(){var a=new ftosolver.FtoCubie;a.ep=mathlib.rndPerm(12,
!0);a.uf=mathlib.rndPerm(12,!0);a.rl=mathlib.rndPerm(12,!0);a.cp=mathlib.rndPerm(6,!0);mathlib.setNOri(a.co,mathlib.rn(32),6,-2);return ftosolver.solveFacelet(a.toFaceCube(),!0)})("ftol3t",a.bind(null,[0,1,2,3,7,11]))("ftol4t",a.bind(null,[0,1,2,3,6,7,9,11]))})();var redi=function(){function a(a,b){mathlib.acycle(a,y[b],1)}function l(a,b){a[b]=(a[b]+1)%3}function f(a){for(var b=0,c=[],d=4,e=11;0<=e;e--)4==(a[e]&12)&&(b+=mathlib.Cnk[e][d--],c[d]=a[e]&3);return[b,mathlib.getNPerm(c,4)]}function g(a,b){for(var c=[],e=a,h=11,g=4,k=11;0<=k;k--)e>=mathlib.Cnk[k][g]?(e-=mathlib.Cnk[k][g--],c[k]=g+4):(c[k]=h--,4==(h&12)&&(h-=4));mathlib.acycle(c,d[b],1);return f(c)}function b(a,b){var c=x[b][~~(a/24)];return 24*c[0]+n[a%24][c[1]]}function A(a,b){if(4>b)return a;var c=
B.set([],a);c[b-4]=(c[b-4]+1)%3;return B.get(c)}function c(a){for(var b=[],c=0;c<a.length;c++)b.push("FLBRflbr"[a[c][0]]+["","'"][a[c][1]]);return b.join(" ")}function q(){if(!E){for(var c=[],d=[],e=[],f=0;24>f;f++){n[f]=[];mathlib.setNPerm(c,f,4);for(var h=0;24>h;h++){mathlib.setNPerm(d,h,4);for(var w=0;4>w;w++)e[w]=c[d[w]];n[f][h]=mathlib.getNPerm(e,4)}}B=new mathlib.Coord("o",4,3);mathlib.createMove(k,81,A,8);mathlib.createMove(x,495,g,8);mathlib.createPrun(F,0,81,4,k,8,2);mathlib.createPrun(N,
1656,11880,8,b,8,2);E=new mathlib.Searcher(null,function(a){return Math.max(mathlib.getPruning(F,a[0]),mathlib.getPruning(N,a[1]))},function(a,c){var d=[k[c][a[0]],b(a[1],c)];return d[0]==a[0]&&d[1]==a[1]?null:d},8,2);z=new mathlib.Solver(4,2,[[0,[l,"o",4,3],81],[0,[a,"p",8,-1],20160]])}}function t(a,b){var e=f(a),g=B.get(b.slice(4));e=E.solve([g,24*e[0]+e[1]],0,15);for(g=0;g<e.length;g++){var h=e[g][0],k=e[g][1]+1;mathlib.acycle(a,d[h],k);b[h]=(b[h]+k)%3}h=[];for(g=0;8>g;g++)k=4>g?g:g+4,h[g]=4>a[k]?
a[k]:a[k]-4;g=mathlib.getNPerm(h,8,-1);h=B.get(b);g=z.search([h,g],0);return c([].concat(e,g))}function e(){q();for(var a=mathlib.rndPerm(12,!0),b=[],c=0;8>c;c++)b[c]=mathlib.rn(3);return t(a,b)}var d=[[1,0,8],[2,1,9],[3,2,10],[0,3,11],[4,5,8],[5,6,9],[6,7,10],[7,4,11]],y=[[1,0,4],[2,1,5],[3,2,6],[0,3,7]],n=[],x=[],k=[],B=null,N=[],F=[],E=null,z=null;scrMgr.reg("rediso",e);return{solveRedi:t,getRandomScramble:e,testbench:function(){q();for(var a=[],b=0;20>b;b++)a.push([~~(8*Math.random()),~~(2*Math.random())]);
var e=[0,1,2,3,4,5,6,7,8,9,10,11],f=[0,0,0,0,0,0,0,0];for(b=0;b<a.length;b++){var h=a[b][0],g=a[b][1]+1;mathlib.acycle(e,d[h],g);f[h]=(f[h]+g)%3}console.log(c(a)+"   "+t(e,f))}}}();var slideCube=function(){function a(a,b){var c=a.indexOf("-"),d=c>>2;c&=3;var e=a.split(""),f=~~b[1],g=[d<<2|c];if("V"==b[0]){if("$"==e[d<<2|f])return null;for(var l=c>f?-1:1;c!=f;)c+=l,g.push(d<<2|c)}else{if("$"==e[f<<2|c])return null;for(l=d>f?-1:1;d!=f;)d+=l,g.push(d<<2|c)}g.reverse();mathlib.acycle(e,g);return e.join("")}function l(a){var b=[];a=a.split("");for(var c=0;c<a.length;c++)"?"==a[c]&&(a[c]="-",b.push(a.join("")),a[c]="?");return b}function f(b,c){for(var d=[],e=0;e<c.length;e++)d[e]=
b[c[e]];b=d.join("");for(e=0;e<A.length;e++)b=a(b,A[e]);return b}function g(a){do{var b=mathlib.rndPerm(a*a);var c=(a-1-~~(b.indexOf(b.length-1)/a))*(a-1);for(var d=0;d<b.length;d++)for(var e=d+1;e<b.length;e++)b[d]>b[e]&&b[d]!=b.length-1&&c++}while(0!=c%2);return b}function b(a,b){var c=+new Date,d=[],k=0;if(4==a){d[0]=g(4);for(var l=d[0],y=[],F=[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15],E=0;16>E;E++)y[E]=F[l[F[E]]];d[1]=y;l=0;a:for(;99>l;l++)for(k=0;2>k;k++)if(y=d[k].indexOf(d[k].length-1),A=["V"+
(y&3),"H"+(y>>2)],y=q.search(f("0123???????????-",d[k]),l,l)){A=A.concat(y);break a}l=t.search(f("01234???8???c??-",d[k]).replace(/[0123]/g,"$"),0);A=A.concat(l)}else if(3==a){l=g(3);y=[5,6,7,9,10,11,13,14,15];for(F=0;16>F;F++)d[F]=y[l[y.indexOf(F)]]||F;y=d.indexOf(d.length-1);A=["V"+(y&3),"H"+(y>>2)];d=[d]}l=e.search(f("0123456789abcde-",d[k]).replace(/[012348c]/g,"$"),0);A=A.concat(l);DEBUG&&console.log("[15p solver]",k,f("0123456789abcde-",d[k]),A.join(""),A.length,+new Date-c);l=b.slice(3==a?
3:4);c=[];F=1==k?"VH":"HV";k=-1==l.indexOf("a")?["DR","UL"]:["",""];d=-1!=l.indexOf("m");l=-1!=l.indexOf("p");var z=[-1,-1];for(y=0;y<A.length;y++){var r=~~A[y][1],v=F.indexOf(A[y][0]);-1!=z[v]&&z[v]!=r&&(0<c.length&&c[c.length-1][0]==v?(E=c[c.length-1],E[1]+=r-z[v],0==E[1]&&c.pop()):c.push([v,r-z[v]]));z[v]=r}for(y=0;y<c.length;y++){E=c[y];F=k[d!=0<E[1]?0:1][E[0]];E=Math.abs(E[1]);c[y]=[];if(l)c[y].push(F+E);else for(;0<E--;)c[y].push(F);c[y]=c[y].join(" ")}c.reverse();return c.join(" ").replace(/1/g,
"")}var A,c={V0:0,V1:0,V2:0,V3:0,H0:1,H1:1,H2:1,H3:1},q=new mathlib.gSolver(l("0123????????????"),a,c),t=new mathlib.gSolver(l("$$$$4???8???c???"),a,c),e=new mathlib.gSolver(["$$$$$567$9ab$de-"],a,c);scrMgr.reg(["15prp","15prap","15prmp"],b.bind(null,4))(["8prp","8prap","8prmp"],b.bind(null,3))}();(function(a,l,f){function g(b,c,d,e,f){e=e||[""];for(var h=0,g,m=[],k=0;k<d;k++){do g=f?mathlib.rndProb(f):a(b.length);while(h>>g&1);m.push(b[g]+l(e));h&=~c[g];h|=1<<g}return m.join(" ")}function b(a){return" "+l([a+"=0",a+"+1",a+"+2",a+"+3",a+"+4",a+"+5",a+"+6",a+"-5",a+"-4",a+"-3",a+"-2",a+"-1"])+" "}function A(){return l(["U","d"])+l(["U","d"])}function c(b,c,d,e){for(var f=[[0,-1],[1,0],[-1,0],[0,1]],g=0,k=3,m,p=5,l=[],n=0;n<c;n++){do m=a(4);while(0>g+f[m][0]||3<g+f[m][0]||0>k+f[m][1]||3<k+f[m][1]||
3==m+p);g+=f[m][0];k+=f[m][1];0<l.length&&l[l.length-1][0]==m?l[l.length-1][1]++:l.push([m,1]);p=m}c="";for(n=0;n<l.length;n++)if(f=b?l[n][0]:3-l[n][0],f=(d?"":"ULRD").charAt(f),e)c+=f+(1==l[n][1]?"":l[n][1])+" ";else for(g=0;g<l[n][1];g++)c+=f+" ";return c}function q(a,b){var c="",d,e;for(d=0;d<b;d++){c+="  ";for(e=0;e<a;e++)c+=(0==e%2?"R":"D")+l(["++","--"])+" ";c+="U"+(c.endsWith("-- ")?"'\\n":"~\\n")}return c}function t(a,b){var c="",d,e;for(d=0;d<b;d++){c+=" ";for(e=0;e<a/2;e++)c+=l(["+",
"-"])+l(["+","-"])+" ";c+="U"+l(["'\\n","~\\n"])}return c}function e(b){var c="",d,e;for(d=0;d<Math.ceil(b/10);d++){c+="  ";for(e=0;10>e;e++)c+=(0==e%2?"Rr".charAt(a(2)):"Dd".charAt(a(2)))+l(["+ ","++","- ","--"])+" ";c+="y"+l(F).padEnd(2,"~")+"\\n"}return c}function d(a,b){E=[];var c;n(1,a,b);var d="";for(c=0;c<E[0].length;c++){var e=E[0][c];d=7==e[0]?d+"/":d+(" ("+e[0]+","+e[1]+")")}return d}function y(a){E=[];var b;n(2,0,a);var c=E[0],d=E[1],e="";7==c[0][0]&&(c=[[0,0]].concat(c));7==d[0][0]&&(d=
[[0,0]].concat(d));for(b=0;b<a;b++)e+="("+c[2*b][0]+","+d[2*b][0]+","+d[2*b][1]+","+c[2*b][1]+")/ ";return e}function n(b,c,d){for(var e=0;e<b;e++){z=[1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0];E[e]=[];for(var f=0;f<d;){var g=a(12)-5,k=2==c?0:a(12)-5,m=(0==g?0:1)+(0==k?0:1);(f+m<=d||1!=c)&&(0<m||0==f)&&x(g,k)&&(1==c&&(f+=m),0<m&&(E[e][E[e].length]=[g,k]),f<d||1!=c)&&(f++,E[e][E[e].length]=[7,0],x(7,0))}}}function x(a,b){var c;if(7==a){for(c=0;6>c;c++)mathlib.circle(z,c+6,c+12);return!0}if(z[(17-
a)%12]||z[(11-a)%12]||z[12+(17-b)%12]||z[12+(11-b)%12])return!1;var d=z.slice(0,12);var e=z.slice(12,24);for(c=0;12>c;c++)z[c]=d[(12+c-a)%12],z[c+12]=e[(12+c-b)%12];return!0}function k(b){for(var c=[],d=0;d<b;d++)c.push(f([["R"],["L"]],["","'"],3+a(3)));return c.join(" x ")}function B(b,c){for(var d=0,e=[],f=0;4>f;f++)e[f]=a(3),0<e[f]?(e[f]="ulrb".charAt(f)+["! ","' "][e[f]-1],d++):e[f]="";return b.substr(0,b.length-c*d)+" "+e.join("")}var N=["","2","'"],F=["","2","'","2'"],E=[],z=[];scrMgr.reg("444yj",
function(b,c){var d=[["U","D"],["R","L","r"],["F","B","f"]],e=[],f=0,g,k="";var m=-1;for(g=0;g<c;g++){var l=0;do{var n=a(d.length),r=a(d[n].length);if(n!=m||0==e[r]){if(n==m)e[r]=1,l=a(N.length);else{for(m=0;m<d[n].length;m++)e[m]=0;m=n;e[r]=1;l=a(N.length)}0==n&&0==r&&(f=(f+4+l)%4);k=1==n&&2==r?0==f||3==f?k+("l"+N[l]+" "):k+("r"+N[l]+" "):2==n&&2==r?0==f||1==f?k+("b"+N[l]+" "):k+("f"+N[l]+" "):k+(d[n][r]+N[l]+" ");l=1}}while(0==l)}return k});scrMgr.reg("bic",function(b,c){function d(a){var b=[],
c,d,e,h=0;for(c=0;9>c;c++){for(d=e=0;d<b.length;d++)b[d]==g[f[a][c]]&&(e=1);0==e&&(b[b.length]=g[f[a][c]],0==g[f[a][c]]&&(h=1))}return 5==b.length&&1==h}function e(a,b){for(var c=0;c<b;c++){var d=g[f[a][0]];g[f[a][0]]=g[f[a][6]];g[f[a][6]]=g[f[a][4]];g[f[a][4]]=g[f[a][2]];g[f[a][2]]=d;d=g[f[a][7]];g[f[a][7]]=g[f[a][5]];g[f[a][5]]=g[f[a][3]];g[f[a][3]]=g[f[a][1]];g[f[a][1]]=d}}for(var f=[[0,1,2,5,8,7,6,3,4],[6,7,8,13,20,19,18,11,12],[0,3,6,11,18,17,16,9,10],[8,5,2,15,22,21,20,13,14]],g=[1,1,2,3,3,
2,4,4,0,5,6,7,8,9,10,10,5,6,7,8,9,11,11],k="",m=[],l,n,r,v;m.length<c;){l=[1,1,1,1];for(n=0;4>n;n++)1!=l[n]||d(n)||(l[n]=0);for(n=0;0==n;)r=a(4),1==l[r]&&(v=a(3)+1,e(r,v),n=1);m[m.length]=[r,v];2<=m.length&&m[m.length-1][0]==m[m.length-2][0]&&(m[m.length-2][1]=(m[m.length-2][1]+m[m.length-1][1])%4,m=m.slice(0,m.length-1));1<=m.length&&0==m[m.length-1][1]&&(m=m.slice(0,m.length-1))}for(l=0;l<c;l++)k+="UFLR"[m[l][0]]+N[m[l][1]-1]+" ";return k});scrMgr.reg("15p 15pm 15pat clkwca clkwcab clknf clk clkc clke giga mgmo mgmp mgmc klmp heli helicv heli2x2 heli2x2g redi redim pyrm prcp mpyr r3 r3ni sq1h sq1t sq2 ssq1t bsq ctico -1 333noob lol".split(" "),
function(n,v){var p="";switch(n){case "15p":return c(!1,v);case "15pm":return c(!0,v);case "15pat":return c(!1,v,!0,!0);case "clkwca":case "clkwcab":case "clknf":var r="0+ 1+ 2+ 3+ 4+ 5+ 6+ 1- 2- 3- 4- 5-".split(" ");p="clknf"==n?"UR? DR? DL? UL? U(?,?) R(?,?) D(?,?) L(?,?) ALL? all?????":"UR? DR? DL? UL? U? R? D? L? ALL? y2 U? R? D? L? ALL?????";for(var h=0;14>h;h++)p=p.replace("?",l(r));"clkwca"==n&&(p=p.slice(0,-4));return p.replace("?",l([""," UR"])).replace("?",l([""," DR"])).replace("?",l(["",
" DL"])).replace("?",l([""," UL"]));case "clk":return"UU"+b("u")+"dU"+b("u")+"dd"+b("u")+"Ud"+b("u")+"dU"+b("u")+"Ud"+b("u")+"UU"+b("u")+"UU"+b("u")+"UU"+b("u")+"dd     "+A()+"\\ndd"+b("d")+"dU"+b("d")+"UU"+b("d")+"Ud"+b("d")+"UU     UU     Ud     dU     UU     dd"+b("d")+A();case "clkc":p="";for(h=0;4>h;h++)p+="("+(a(12)-5)+", "+(a(12)-5)+") / ";for(h=0;6>h;h++)p+="("+(a(12)-5)+") / ";for(h=0;4>h;h++)p+=l(["d","U"]);return p;case "clke":return"UU"+b("u")+"dU"+b("u")+"dU"+b("u")+"UU"+b("u")+"UU"+
b("u")+"UU"+b("u")+"Ud"+b("u")+"Ud"+b("u")+"dd"+b("u")+"dd     "+A()+"\\nUU     UU     dU"+b("d")+"dU     dd"+b("d")+"Ud     Ud"+b("d")+"UU     UU"+b("d")+"dd"+b("d")+A();case "giga":return e(v);case "mgmo":return g("F B U D L DBR DL BR DR BL R DBL".split(" "),[1364,2728,1681,2402,2629,1418,2329,1574,1129,2198,421,602],v,F);case "mgmp":return q(10,Math.ceil(v/10));case "mgmc":return t(10,Math.ceil(v/10));case "klmp":return q(10,Math.ceil(v/10));case "heli":case "helicv":return g("UF UR UB UL FR BR BL FL DF DR DB DL".split(" "),
[154,53,106,197,771,1542,3084,2313,2704,1328,2656,1472],v);case "heli2x2":p=g("UR UF UL UB DR DF DL DB FR FL BL BR UFR UFL UBL UBR DFR DFL DBL DBR U R F".split(" "),[40931328,24129536,55599104,53526528,48824320,31653888,63307776,61603840,15798272,30547968,60047360,45645824,7340291,22020614,51381260,36702217,14680368,29360736,58721472,44042384,56688399,47815099,28521335,57610224,47605486,29150429],v,null,[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3]).split(" ");for(h=0;h<p.length;h++)3==p[h].length?
p[h]+=mathlib.rndEl(["","'"]):1==p[h].length&&(p[h]+=mathlib.rndEl(["","'","2"]));return p.join(" ");case "heli2x2g":r=-1;p=[];var w="UFR UFL UBL UBR DFR DFL DBL DBR".split(" "),z="UF UL UB UR FR FL BL BR DF DL DB DR".split(" "),m=0;for(h=0;h<v;h++){do var D=mathlib.rndPerm(3);while(D[0]==r);r=D[2];for(var x=mathlib.rndPerm(8).slice(0,4).sort(),u=mathlib.rndPerm(12).slice(0,mathlib.rn(2)+6).sort(function(a,b){return a-b}),E=[],K=0;3>K;K++)E.push("URF".charAt(D[K])+mathlib.rndEl([" ","2","'"]));E.push("");
for(K=0;K<x.length;K++)E.push(w[x[K]]+mathlib.rndEl([" ","'"]));E.push("");for(K=0;K<u.length;K++)E.push(z[u[K]]);p[h]=E.join(" ");m=Math.max(m,p[h].length)}for(h=0;h<p.length;h++)p[h]=p[h].padEnd(m,"~");return p.join("\\n");case "redi":return g("LRFBlrfb".split(""),[28,44,67,131,193,194,52,56],v,["","'"]);case "redim":return k(v);case "pyrm":return p=f([["U"],["L"],["R"],["B"]],["!","'"],v),B(p,3).replace(/!/g,"");case "prcp":return q(10,Math.ceil(v/10));case "mpyr":return p=g("U! L! R! B! Uw Lw Rw Bw".split(" "),
[224,208,176,112,238,221,187,119],v,["!","'"]),B(p,4).replace(/!/g,"");case "r3":for(h=0;h<v;h++)p+=(0==h?"":"\\n")+(h+1)+") ${333}";return scrMgr.formatScramble(p);case "r3ni":for(h=0;h<v;h++)p+=(0==h?"":"\\n")+(h+1)+") ${333ni}";return scrMgr.formatScramble(p);case "sq1h":return d(1,v);case "sq1t":return d(0,v);case "sq2":for(h=0;h<v;)if(r=a(12)-5,w=a(12)-5,0!=r||0!=w)h++,p+="("+r+","+w+")/ ";return p;case "ssq1t":return y(v);case "bsq":return d(2,v);case "ctico":return g("UL UR UrUl FlFr LBl RBr".split(" "),
[63,63,63,63,63,63],v,F);case "-1":for(h=0;h<v;h++)p+=String.fromCharCode(32+a(224));return p+"Error: subscript out of range";case "333noob":return p=f(SCRAMBLE_NOOBST,SCRAMBLE_NOOBSS.split("|"),v).replace(/t/,"T"),p.substr(0,p.length-2)+".";case "lol":return p=f([["L"],["O"]],0,v),p.replace(/ /g,"")}console.log("Error")})})(mathlib.rn,mathlib.rndEl,scrMgr.mega);var tools=function(){function a(a){return/^222(so|[236o]|eg[012]?|tc[np]?|lsall|nb)$/.exec(a)?"222":/^(333(oh?|ni|f[mt]|drud|custom)?|(z[zb]|[coep]|c[om]|2g|ls|tt)?ll|lse(mu)?|2genl?|3gen_[LF]|edges|corners|f2l|lsll2|(zb|w?v|eo)ls|roux|RrU|half|easyx?c|eoline|sbrx|mt(3qb|eole|tdr|6cp|l5ep|cdrll)|nocache_333(bld|pat)spec)$/.exec(a)?"333":/^(444([mo]|wca|yj|bld|ctud|ctrl|ud3c|l8e|rlda|rlca|edo|cto|e?ll)?|4edge|RrUu)$/.exec(a)?"444":/^(555(wca|bld)?|5edge)$/.exec(a)?"555":/^(666(si|[sp]|wca)?|6edge)$/.exec(a)?
"666":/^(777(si|[sp]|wca)?|7edge)$/.exec(a)?"777":/^pyr(s?[om]|l4e|nb|4c)$/.exec(a)?"pyr":/^skb(s?o|nb)?$/.exec(a)?"skb":/^sq(rs|1pll|1[ht]|rcsp)$/.exec(a)?"sq1":/^clk(wcab?|o|nf)$/.exec(a)?"clk":/^(mgmp|mgmo|mgmc|minx2g|mlsll|mgmpll|mgmll)$/.exec(a)?"mgm":/^(klmso|klmp)$/.exec(a)?"klm":/^(fto|fto(so|l[34]t))$/.exec(a)?"fto":/^(mpyr|mpyrso)$/.exec(a)?"mpyr":/^15p(at|ra?p?)?$/.exec(a)?"15p":/^15p(rmp|m)$/.exec(a)?"15b":/^8p(at|ra?p?)?$/.exec(a)?"8p":/^8p(rmp|m)$/.exec(a)?"8b":/^heli2x2g?$/.exec(a)?
"heli2x2":/^prc[po]$/.exec(a)?"prc":/^redi(m|so)?$/.exec(a)?"redi":a}var l=["-","",0],f=execMain(function(){function a(b,c){if(-1==b)for(var d=0;d<kernel.getProp("NTools");d++)a(d,c);else if(!x){for(d in r)r[d]();k[b].empty()}else for(d in r)if(d==A[b])r[d](k[b],c)}function b(a,b){for(var c in r)if(c==A[a])r[c](void 0,b)}function f(c,d){DEBUG&&console.log("[func select]",c,d);kernel.blur();for(var e=void 0===c?4:c+1,f=void 0===c?0:c;f<e;f++){var g=F[f].getSelected();A[f]!=g&&(b(f,"property"),A[f]=
g,kernel.setProp("toolsfunc",JSON.stringify(A)),a(f,"property"))}}function e(c,d){if("property"==c)if(/^(img|col).*/.exec(d[0]))for(var e=0;e<kernel.getProp("NTools");e++)"image"==A[e]&&a(e,c);else if("NTools"==d[0])for(e=0;4>e;e++)e<d[1]?(n[e].show(),""==k[e].html()&&a(e,c)):(n[e].hide(),b(e,c));else if("toolHide"==d[0]){e=!d[1];for(var h=0;4>h;h++)e?N[h].show():N[h].hide()}else if("toolsfunc"==d[0]&&"session"==d[2]){h=JSON.parse(d[1]);for(e=0;4>e;e++)F[e].loadVal(h[e]);f()}else"toolPos"==d[0]&&
($("html").removeClass("toolf toolt"),-1!="ft".indexOf(d[1])&&$("html").addClass("tool"+d[1]));else if("scramble"==c||"scrambleX"==c)l=d,kernel.setProp("isTrainScr",!!g.exec((l||[])[0])),a(-1,c);else if("button"==c&&"tools"==d[0])if(x=d[1])for(e=0;e<kernel.getProp("NTools");e++)x&&""==k[e].html()&&a(e,c);else a(-1,c)}function d(a){$(a.target).is("input,textarea,select,.click")||kernel.setProp("toolHide",!1)}function y(a){a=$(this);if("a"==a.attr("data"))a.prevAll().show(),a.prev().hide(),a.hide();
else if("n"==a.attr("data")){var b=a.prevAll(":hidden");b.last().show();1==b.length&&(a.next().hide(),a.hide())}}for(var n=[],x=!1,k=[],A=["image","stats","cross"],N=[],F=[],E=[],z=0;4>z;z++)k[z]=$("<div />"),N[z]=$("<span />"),F[z]=new kernel.TwoLvMenu(E,f.bind(null,z),$("<select />"),$("<select />")),n[z]=$("<div />").css("display","inline-block");$(function(){kernel.regListener("tools","property",e,/^(?:img(Size|Rep)|image|toolsfunc|NTools|col(?:cube|pyr|skb|sq1|mgm|fto|clk|15p|ico)|toolHide|toolPos)$/);
kernel.regListener("tools","scramble",e);kernel.regListener("tools","scrambleX",e);kernel.regListener("tools","button",e,/^tools$/);for(var a=$('<div id="toolsDiv"/>'),b=0;4>b;b++)k[b].click(d),N[b].append("<br>",TOOLS_SELECTFUNC,F[b].select1,F[b].select2),n[b].append(k[b],N[b]).appendTo(a),1==b&&a.append("<br>");kernel.regProp("tools","toolPos",1,PROPERTY_TOOLPOS,["b",["b","f","t"],PROPERTY_TOOLPOS_STR.split("|")],1);kernel.regProp("tools","solSpl",0,PROPERTY_HIDEFULLSOL,[!1]);kernel.regProp("tools",
"imgSize",2,PROPERTY_IMGSIZE,[15,5,50],1);kernel.regProp("tools","imgRep",0,PROPERTY_IMGREP,[!0],1);kernel.regProp("tools","NTools",2,PROPERTY_NTOOLS,[1,1,4],1);b=JSON.stringify(["image","stats","cross","distribution"]);kernel.regProp("tools","toolsfunc",5,PROPERTY_TOOLSFUNC,[b],1);kernel.regProp("tools","isTrainScr",-6,"Is Train Scramble",[!1],0);var c=kernel.getProp("toolsfunc",b);-1==c.indexOf("[")&&(c=b.replace("image",c),kernel.setProp("toolsfunc",c));A=JSON.parse(c);kernel.addWindow("tools",
BUTTON_TOOLS,a,!1,!0,6);kernel.regProp("ui","toolHide",-1,"Hide Tools Selector",[!1])});var r={};return{regTool:function(a,b,c){DEBUG&&console.log("[regtool]",a,b);r[a]=c;b=b.split(">");if(2==b.length){c=-1;for(var d=0;d<E.length;d++)if(E[d][0]==b[0]&&$.isArray(E[d][1])){c=d;break}-1!=c?E[c][1].push([b[1],a]):E.push([b[0],[[b[1],a]]])}else E.push([b[0],a]);$.delayExec("toolreset",function(){for(var a=0;4>a;a++)F[a].reset(A[a])},0)},getSolutionSpan:function(a){for(var b=$("<span />"),c=0;c<a.length;c++)b.append('<span style="display:none;">&nbsp;'+
a[c]+"</span>");kernel.getProp("solSpl")?(b.append($('<span class="click" data="n">[+1]</span>').click(y)),b.append($('<span class="click" data="a">['+a.length+"f]</span>").click(y))):b.children().show();return b}}}),g=/^((z[zb]|[coep]|c[om]|2g|ls|tt)?ll|lse(mu)?|2genl?|3gen_[LF]|333drud|f2l|lsll2|(zb|w?v|eo)ls|roux|eoline|sbrx|mt(3qb|eole|tdr|6cp|l5ep|cdrll)|222(eg[012]?|tc[np]|lsall))$/,b={getCurScramble:function(){return l},getCurPuzzle:function(){return a(l[0])},scrambleType:function(a){return null==
a.match(/^([\d]?[xyzFRUBLDfrubldSME]([w]|&sup[\d];)?[2']?\s*)+$/)?"-":a.match(/^([xyzFRU][2']?\s*)+$/)?"222o":a.match(/^([xyzFRUBLDSME][2']?\s*)+$/)?"333":a.match(/^(([xyzFRUBLDfru]|[FRU]w)[2']?\s*)+$/)?"444":a.match(/^(([xyzFRUBLDfrubld])[w]?[2']?\s*)+$/)?"555":"-"},puzzleType:a,carrot2poch:function(a){return a.replace(/([+-])([+-]) /g,function(a,b,c){return"R"+b+b+" D"+c+c+" "})},isCurTrainScramble:function(a){return!!g.exec((a||l||[])[0])},isPuzzle:function(b,f){f=f||l;var c=a(f[0]);f=f[1];return c?
c==b:"222"==b?f.match(/^([xyzFRU][2']?\s*)+$/):"333"==b?f.match(/^([xyzFRUBLDSME][2']?\s*)+$/):"444"==b?f.match(/^(([xyzFRUBLDfru]|[FRU]w)[2']?\s*)+$/):"555"==b?f.match(/^(([xyzFRUBLDfrubld])[w]?[2']?\s*)+$/):"skb"==b?f.match(/^([RLUB]'?\s*)+$/):"pyr"==b?f.match(/^([RLUBrlub]'?\s*)+$/):"sq1"==b?f.match(/^$/):"fto"==b?f.match(/^(([FRUBLD]|(?:BL)|(?:BR))[']?\s*)+$/):!1}},A;for(A in b)f[A]=b[A];return f}();var image=function(){function a(b,c){var f=c[0];"input"==f&&(f=tools.scrambleType(c[1]));f=tools.puzzleType(f);var g=N.indexOf(f),l=0;if(0<=g)l=d.draw(b,g+2,c[1]);else if("cubennn"==f)d.draw(b,c[2],c[1]);else if(poly3d.udpolyre.exec(f))l=0,/^prc|giga|mgm|klm$/.exec(f)?l=3:"fto"==f?l=255:"ctico"==f&&(l=1048575),l=k(b,f,c[1],l,"klm"==f?.1:0);else if("sq1"==f||"sq2"==f)l=e.scrImage(b,c[1],"sq2"==f);else if("clk"==f)t(b,c[1]);else if("15b"==f||"15p"==f)B(b,f[2],4,c[1]);else if("8b"==f||"8p"==f)B(b,f[1],
3,c[1]);else if(/^r(3(ni)?|23\d+w?|mngf)$/.exec(f)){var n=[];c[1].replaceAll(/(?<=^|\n)\s*(\d+|3oh|pyr|skb|sq1|clk|mgm)\)\s*([^\0]*?)\s*(?=\n.*\)|$)/g,function(a,b,c){a=f.startsWith("r3")?"333":"rmngf"==f?b.replace("3oh","333").padEnd(3,b):N[n.length];n.push([a,c,0])});var h=Math.ceil(Math.sqrt(n.length));g=Math.ceil(n.length/h);b.width=240*g;b.height=150*h;for(h=0;h<n.length;h++){var w=h%g*240,q=150*~~(h/g),m=new $.svg;a(m,n[h]);b.addElem(m.renderGroup(w,q,240,150));b.addText((h+1).toString(),[w,
q],{font:"40px Arial",fill:kernel.getProp("col-font")},1)}}else return-1;return l}function l(b,c){var d=new $.svg,e=a(d,b);if(-1==e)return!1;if(!c)return d;var g=Math.min(1.6/d.width,1/d.height)*kernel.getProp("imgSize")*.6;f.attr("src","data:image/svg+xml;base64,"+btoa(d.render()));f.width(d.width*g+"em");f.height(d.height*g+"em");if(e&&kernel.getProp("imgRep")){for(d=0;d<e[1].length;d++)e[1][d]=e[1][d]+"@"+1E3*(d+1);e[1]=e[1].join(" ");f.click(function(a){replay.popupReplay.apply(null,a)}.bind(null,
e))}else f.click(function(a,b){var c=$('<img style="display:block;">');c.attr("src","data:image/svg+xml;base64,"+btoa(a.render()));c.css("object-fit","contain");kernel.showDialog([c,$.noop,void 0,$.noop],"share",TOOLS_IMAGE)}.bind(null,d,g));return!0}var f,g=Math.sqrt(3)/2,b=Math.PI,A=$.ctxRotate,c=$.ctxTransform,q=$.ctxDrawPolygon,t=function(){var a=/([UD][RL]|ALL|[UDRLy]|all)(?:(\d[+-]?)|\((\d[+-]?),(\d[+-]?)\))?/,d="UR DR DL UL U R D L ALL".split(" "),e=["#f00","#37b","#5cf","#ff0","#850"];return function(f,
g){e=kernel.getProp("colclk").match(F);for(var k=g.split(/\s+/),h=clock.moveArr,l=9,n=[0,0,0,0],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=0;p<k.length;p++){var r=a.exec(k[p]);if(r)if("y2"==r[0])l=9-l;else{var q=d.indexOf(r[1])+l;if(void 0==r[2]&&void 0==r[3])n[q%9]=1;else{var v=[];if("all"==r[1]){var t=~~r[2][0]*("+"==r[2][1]?-1:1)+12;v.push(17-l,t)}else r[2]?t=~~r[2][0]*("+"==r[2][1]?1:-1)+12:(t=~~r[3][0]*("+"==r[3][1]?1:-1)+12,v.push(q,t),t=~~r[4][0]*("+"==r[4][1]?-1:1)+12,q=(10-q%9)%4+13-l),v.push(q,t);
for(r=0;r<v.length;r+=2)for(q=0;14>q;q++)m[q]=(m[q]+h[v[r]][q]*v[r+1])%12}}}m=[m[0],m[3],m[6],m[1],m[4],m[7],m[2],m[5],m[8],12-m[2],m[10],12-m[8],m[9],m[11],m[13],12-m[0],m[12],12-m[6]];n=[n[3],n[2],n[0],n[1],1-n[0],1-n[1],1-n[3],1-n[2]];f.width=375;f.height=180;k=[10,30,50];h=[10,30,50,75,95,115];for(v=0;18>v;v++){p=(v+l)%18;r=f;q=[e[1],e[2]][~~(v/9)];t=[3,h[~~(p/3)],k[p%3]];var z=c(A([[1,1,0,-1,-1,-1,1,0],[0,-1,-8,-1,0,1,1,0]],m[v]/6*b),t);p=z[0];z=z[1];r.addElem('<circle cx="'+p[7]+'" cy="'+z[7]+
'" r="'+9*t[0]+'" style="fill:'+q+'" />');q=[];q.push("M"+p[0]+" "+z[0]);q.push("Q"+p[1]+" "+z[1]+","+p[2]+" "+z[2]);q.push("Q"+p[3]+" "+z[3]+","+p[4]+" "+z[4]);q.push("C"+p[5]+" "+z[5]+","+p[6]+" "+z[6]+","+p[0]+" "+z[0]);r.addElem('<path d="'+q.join(" ")+'" style="fill:'+e[3]+";stroke:"+e[0]+'" />')}k=[20,40];h=[20,40,85,105];for(p=0;8>p;p++)l=f,m=[e[4],e[3]][n[p]],v=[3,h[~~(p/2)],k[p%2]],r=c([[0],[0]],v),l.addElem('<circle cx="'+r[0][0]+'" cy="'+r[1][0]+'" r="'+3*v[0]+'" style="fill:'+m+';stroke:#000;" />')}}(),
e=function(){function a(a,b){0!=a[0]&&b.doMove(a[0]);0!=a[1]&&b.doMove(-a[1]);0!=a[2]&&b.doMove(0)}function d(a,c,d,e,g){for(var l=0;l<(g?12:24);l++){var p=12>l?[45,f,f]:[45,3*f,f],w=c.pieceAt(l),r=d["UD"[8<=w?1:0]],v=-(12>l?l-1:l-6)*b/6,u=-(12>l?l:l-5)*b/6;1==w%2?e?(u=e.pieceAt(l)&1,v+=u?0:b/6,q(a,d["RBBLLFFRRFFLLBBR"[w-u]],A(u?h:n,v),p),q(a,r,A(u?x:y,v),p)):(q(a,d["RBBLLFFRRFFLLBBR"[w-1]],A(h,v),p),q(a,d["RBBLLFFRRFFLLBBR"[w]],A(n,v),p),q(a,r,A(m,v),p),l++):(q(a,d["R-B-L-F-F-L-B-R-"[w]],A(k,u),
p),q(a,r,A(t,u),p))}}var e=g+1,f=e*Math.sqrt(2),k=[[0,-.5,.5],[0,-e,-e]],l=[[0,-.5,-e,-e],[0,-e,-e,-.5]],h=[[0,-.5,-e],[0,-e,-e]],n=[[0,-e,-e],[0,-e,-.5]],t=c(k,[.66,0,0]),m=c(l,[.66,0,0]),x=c(h,[.66,0,0]),y=c(n,[.66,0,0]),u={U:"#ff0",R:"#f80",F:"#0f0",D:"#fff",L:"#f00",B:"#00f"},B=/^\s*\(\s*(-?\d+),\s*(-?\d+)\s*\)\s*$/;return{scrImage:function(b,c,h){var m=kernel.getProp("colsq1").match(F);u={U:m[0],R:m[1],F:m[2],D:m[3],L:m[4],B:m[5]};m=new sq1.SqCubie;var k=null;h&&(k=new sq1.SqCubie,k.ul=k.ur=
65552,k.dl=k.dr=1048832);c=c.split("/");var l=[];for(h=0;h<c.length;h++)if(/^\s*$/.exec(c[h]))l.push([0,0,1]);else{var n=B.exec(c[h]);l.push([(~~n[1]+12)%12,(~~n[2]+12)%12,1])}l.push([0,0,1]);for(h=0;h<l.length;h++)a(l[h],m),k&&a(l[h],k);b.width=180*f;b.height=90*f;for(h=0;2>h;h++)n=0==h?[45,f,f+e]:[45,3*f,f-e-.7],q(b,u.L,[[-e,-e,-.5,-.5],[0,.7,.7,0]],n),0==m.ml?q(b,u.L,[[e,e,-.5,-.5],[0,.7,.7,0]],n):q(b,u.R,[[g,g,-.5,-.5],[0,.7,.7,0]],n);d(b,m,u,k);b=[];for(h=0;h<c.length;h++)/^\s*$/.exec(c[h])||
(n=B.exec(c[h]),~~n[1]&&b.push("("+n[1]+",0)"),~~n[2]&&b.push("(0,"+n[2]+")")),b.push("/");"/"==b[b.length-1]?b.pop():b.push("/");return["~",b,"sq1"]},llImage:function(a,b,c){var e=new $.svg,g=kernel.getProp("colsq1").match(F);u={U:g[0],R:g[1],F:g[2],D:g[3],L:g[4],B:g[5]};e.width=90*f;e.height=90*f;d(e,a,u,b,!0);c&&c.attr("src","data:image/svg+xml;base64,"+btoa(e.render()));return e}}}(),d=function(){function a(a,b,d,e){var f=e*e,g,h,k;5<a&&(a-=6);for(k=0;k<d;k++){for(g=0;g<e;g++){if(0==a){var l=
6*f-e*b-e+g;var n=2*f-e*b-1-g;var p=3*f-e*b-1-g;var q=5*f-e*b-e+g}else 1==a?(l=3*f+b+e*g,n=3*f+b-e*(g+1),p=f+b-e*(g+1),q=5*f+b+e*g):2==a?(l=3*f+b*e+g,n=4*f+e-1-b+e*g,p=b*e+e-1-g,q=2*f-1-b-e*g):3==a?(l=4*f+b*e+e-1-g,n=2*f+b*e+g,p=f+b*e+g,q=5*f+b*e+e-1-g):4==a?(l=6*f-1-b-e*g,n=e-1-b+e*g,p=2*f+e-1-b+e*g,q=4*f-1-b-e*g):5==a&&(l=4*f-e-b*e+g,n=2*f-e+b-e*g,p=f-1-b*e-g,q=4*f+b+e*g);var r=c[l];c[l]=c[n];c[n]=c[p];c[p]=c[q];c[q]=r}if(0==b)for(g=0;g+g<e;g++)for(h=0;h+h<e-1;h++)l=a*f+g+h*e,p=a*f+(e-1-g)+(e-1-
h)*e,3>a?(n=a*f+(e-1-h)+g*e,q=a*f+h+(e-1-g)*e):(q=a*f+(e-1-h)+g*e,n=a*f+h+(e-1-g)*e),r=c[l],c[l]=c[n],c[n]=c[p],c[p]=c[q],c[q]=r}}function b(b,d){var e=0;c=[];for(var f=0;6>f;f++)for(var g=0;g<b*b;g++)c[e++]=f;e=cubeutil.parseScramble(d,"DLBURF",!0);for(f=0;f<e.length;f++){for(g=0;g<e[f][1];g++)a(e[f][0],g,e[f][2],b);if(-1==e[f][1]){for(g=0;g<b-1;g++)a(e[f][0],g,-e[f][2],b);a((e[f][0]+3)%6,0,e[f][2]+4,b)}}return c}var c=[],d="#ff0 #fa0 #00f #fff #f00 #0d0".split(" ");return{draw:function(a,e,f){b(e,
f);a.width=30*(39*e/9+.2);a.height=30*(29*e/9+.2);d=kernel.getProp("colcube").match(F);for(var g=0;6>g;g++){var h=a,k=g,l=e,n=10/9,p=10/9;0==k?(n*=l,p*=2*l):1==k?(n*=0,p*=l):2==k?(n*=3*l,p*=l):3==k?(n*=l,p*=0):4==k?(n*=2*l,p*=l):5==k&&(n*=l,p*=l);for(var r=0;r<l;r++)for(var v=1==k||2==k?l-1-r:r,t=0;t<l;t++)q(h,d[c[(k*l+(0==k?l-1-t:t))*l+v]],[[r,r,r+1,r+1],[t,t+1,t+1,t]],[30,n+.1,p+.1])}a=f.split(/\s+/);f=[];for(g=0;g<a.length;g++)a[g]&&f.push(a[g]);return["~",f,[e,e,e].join("")]},genPosit:b}}(),y=
function(){function a(a,c,d){var e=new $.svg,f=kernel.getProp("colcube").match(F),g=3;12==a.length&&(g=2);e.width=50*(g+1.2);e.height=50*(g+1.2);for(var k=0;k<g*g;k++){var l=k%g+.5,m=~~(k/g)+.5;q(e,f["DLBURF".indexOf(a[k])]||"#888",[[l,l+1,l+1,l],[m,m,m+1,m+1]],[50,.1,.1])}for(k=0;k<4*g;k++)l=k%g,m=~~(k/g),q(e,f["DLBURF".indexOf(a[k+g*g])]||"#888",A([[l-g/2,l-g/2+1,.9*(l-g/2+1),.9*(l-g/2)],[g/2+.05,g/2+.05,g/2+.5,g/2+.5]],-m*b/2),[50,.6+g/2,.6+g/2]);c=c||[];for(k=0;k<c.length;k++){m=c[k];a=m[0]%g+
1.1;f=~~(m[0]/g)+1.1;l=m[1]%g+1.1;m=~~(m[1]/g)+1.1;var n=Math.sqrt((a-l)*(a-l)+(f-m)*(f-m));q(e,"#000",A([[.2,n-.4,n-.4,n-.1,n-.4,n-.4,.2],[.05,.05,.15,0,-.15,-.05,-.05]],Math.atan2(m-f,l-a)),[50,a,f])}d&&d.attr("src","data:image/svg+xml;base64,"+btoa(e.render()));return e}return{drawImage:a,draw:function(b,c,e){c=d.genPosit(b,c);for(var f=[],g=0;g<b*b;g++)f.push("DLBURF"[c[3*b*b+g]]);for(var h=0;4>h;h++){var k=[5,4,2,1][h]*b*b;for(g=0;g<b;g++)f.push("DLBURF"[c[k+[g,g,b-1-g,b-1-g][h]]])}return a(f.join(""),
[],e)}}}(),n=function(){var a=[[20*g,-20*g,61*g,10,10,0],[20*g,0,62*g,-10,20,61.5],[20*g,0,0,10,20,31.5]];return function(b,c){var d=new $.svg,e=kernel.getProp("colcube").match(F);d.width=122*g;d.height=121.5;for(var f=0;27>f;f++){var h=f%3,k=~~(f/3)%3;q(d,e["DLBURF".indexOf(b[f])]||"#888",[[h,h+1,h+1,h],[k,k,k+1,k+1]],a[~~(f/9)])}c&&c.attr("src","data:image/svg+xml;base64,"+btoa(d.render()));return d}}(),x=function(){return function(a,c){var d=new $.svg;d.width=120*g;d.height=120*g;for(var e=kernel.getProp("colpyr").match(F),
f=0,k=0;3>k;k++)for(var h=0;3>h;h++)for(var l=0;l<2*k+1;l++){var n=-g*k+g*l;var m=k/2;n=0==l%2?[[n,n-g,n+g],[m,m+.5,m+.5]]:[[n-g,n,n+g],[m,m+.5,m]];q(d,e["FLRD".indexOf(a[f])]||"#888",A(n,b/3*4*h),[20,3*g,3+(6*g-4.5)/2]);f++}c&&c.attr("src","data:image/svg+xml;base64,"+btoa(d.render()));return d}}(),k=function(){var a={};return function(b,d,e,f,k){var h=[],l=[];k=k||0;var n=.05,m=a[d],p=poly3d.getFamousPuzzle(d);if(null!=p)m=m||poly3d.makePuzzle.apply(poly3d,p.polyParam),p.parser=p.parser||poly3d.makePuzzleParser(m),
l=p.parser.parseScramble(e),n=p.pieceGap,h=p.colors;else debugger;DEBUG&&console.log("[polyhedron image] puzzle=",m,"moves=",l);a[d]=m;k=poly3d.renderNet(m,n,k);n=k[0];e=k[1];k=k[2];for(var r=[],u=0;u<e.length;u++)r[u]=e[u]&&e[u][2];for(var v=0;v<l.length;v++){u=l[v];var t=m.getTwistyIdx(u[0]);if(-1==t)debugger;var x=m.moveTable[t];t=m.twistyDetails[t][1];var z=(u[1]%t+t)%t,A=[];for(u=0;u<r.length;u++){var y=u;for(t=0;t<z;t++)y=0>x[y]?y:x[y];A[u]=r[y]}r=A}if("skb"==d){h=$.col2std(kernel.getProp("colskb"),
[0,2,4,3,5,1]);m=[[g,-g,2*g,.5,.5,-1],[g,0,0,-.5,1,2],[g,0,0,.5,1,-2],[g,0,0,.5,1,-2],[g,0,0,.5,1,-2],[g,0,0,-.5,1,2]];for(u=0;6>u;u++)for(t=0;6>t;t++)2!=t%3&&(m[u][t]*=8/n[0]);for(u=0;u<e.length;u++)e[u]&&(n=c(e[u],m[e[u][2]]),e[u][0]=n[0],e[u][1]=n[1]);n=[8*g,6]}m=300*Math.min(1.6/n[0],1/n[1]);b.width=n[0]*m;b.height=n[1]*m;for(u=0;u<h.length;u++)h[u]="#"+h[u].toString(16).padStart(6,"0");for(u=0;u<r.length;u++)e[u]&&q(b,h[r[u]],e[u],[m,0,0,0,m,0]);for(u=0;u<k.length;u++)0!=(f>>u&1)&&(h=k[u],b.addText(h[2].toUpperCase(),
[h[0]*m,h[1]*m],{font:"20px Arial",fill:kernel.getProp("col-font"),stroke:kernel.getProp("col-board"),"stroke-width":"3px"}));b=[];for(v=0;v<l.length;v++)b.push(p.parser.move2str(l[v]));return["~",b,d]}}(),B=function(){return function(a,b,c,d){for(var e=[],f=[[1,0],[0,1],[0,-1],[-1,0]],g=0;g<c*c;g++)e[g]=g;g=c-1;var k=c-1,l=/([ULRD\uFFEA\uFFE9\uFFEB\uFFEC])([\d]?)/;d=d.split(" ");for(var m=0;m<d.length;m++){var n=l.exec(d[m]);if(n){var r="ULRD".indexOf(n[1])%4;n=~~n[2]||1;r=f["b"==b?3-r:r];for(var t=
0;t<n;t++)mathlib.circle(e,g*c+k,(g+r[0])*c+k+r[1]),g+=r[0],k+=r[1]}}a.width=50*(c+.2);a.height=50*(c+.2);b=kernel.getProp("col15p").match(F);b[c-1]=b[b.length-1];for(g=0;g<c;g++)for(d=0;d<c;d++)f=e[d*c+g],k=Math.min(~~(f/c),f%c),f++,q(a,b[k],[[g+.05,g+.05,g+1-.05,g+1-.05],[d+.05,d+1-.05,d+1-.05,d+.05]],[50,.1,.1]),f!=c*c&&a.addText(f,[50*(g+.5+.1),50*(d+.5+.1)],{font:"30px Arial",fill:"#000"})}}(),N="222 333 444 555 666 777 888 999 101010 111111".split(" ");execMain(function(){function a(a){a&&(f=
f||$('<img style="display:block;">'),a.empty().append(f),l(tools.getCurScramble(),!0)||a.html(IMAGE_UNAVAILABLE))}$(function(){tools.regTool("image",TOOLS_IMAGE,a)})});var F=/#[0-9a-fA-F]{3}/g;return{draw:l,llImage:y,pyrllImage:x,face3Image:n,sqllImage:e.llImage}}();var cross=function(a,l,f,g,b,A,c){function q(a,b){var c=L[b][~~(a/24)];return 24*~~(c/384)+m[a%24][(c>>4)%24]}function t(a,b){var c=L[b][a>>4];return~~(c/384)<<4|D[a&15][(c>>4)%24]^c&15}function e(a,b){for(var c=3;0<=c;c--)b[c]=a&1,a>>=1}function d(a){for(var b=0,c=0;4>c;c++)b<<=1,b|=a[c];return b}function y(a,b){var c=L[b][~~(a/384)];return 384*~~(c/384)+16*m[(a>>4)%24][(c>>4)%24]+(D[a&15][(c>>4)%24]^c&15)}function n(){n=$.noop;for(var c=0;24>c;c++)m[c]=[];for(c=0;16>c;c++)D[c]=[];var h=[],k=[],
r=[];for(c=0;24>c;c++)for(var u=0;24>u;u++){g(h,c,4);g(k,u,4);for(var v=0;4>v;v++)r[v]=h[k[v]];m[c][u]=b(r,4);if(16>c){e(c,h);for(v=0;4>v;v++)r[v]=h[k[v]];D[c][u]=d(r)}}a(L,495,function(a,c){for(var d=[0,0,0,0,0,0,0,0,0,0,0,0],e=4,f=0;12>f;f++)a>=A[11-f][e]?(a-=A[11-f][e--],d[f]=e<<1):d[f]=-1;l(d,c);a=0;e=4;var g=0,h=[];for(f=0;12>f;f++)0<=d[f]&&(a+=A[11-f][e--],h[e]=d[f]>>1,g|=(d[f]&1)<<3-e);return 24*a+b(h,4)<<4|g});p=[];H=[];f(p,0,11880,5,q);f(H,0,7920,6,t)}function x(){x=$.noop;k();var a=5;f(J,
296+576*(72*a+2*a),331776,7,function(a,b){var c=a%576,d=~~(a/576);return 24*u[~~(c/24)][b]+G[c%24][b]+576*(24*u[~~(d/24)][b]+G[d%24][b])});a=6;f(K,296+576*(72*a+2*a),331776,7,function(a,b){var c=a%576,d=~~(a/576);return 24*u[~~(c/24)][b]+G[c%24][b]+576*(24*u[~~(d/24)][b]+G[d%24][b])})}function k(){function a(a,b){var c=~~(a/3);return 3*[[3,1,2,7,0,5,6,4],[0,1,6,2,4,5,7,3],[1,2,3,0,4,5,6,7],[0,5,1,3,4,6,2,7],[4,0,2,3,5,1,6,7],[0,1,2,3,7,4,5,6]][b][c]+(a%3+[[2,0,0,1,1,0,0,2],[0,0,1,2,0,0,2,1],[0,0,
0,0,0,0,0,0],[0,1,2,0,0,2,1,0],[1,2,0,0,2,1,0,0],[0,0,0,0,0,0,0,0]][b][c])%3}k=$.noop;n();for(var b=0;24>b;b++){u[b]=[];G[b]=[];for(var c=0;6>c;c++){u[b][c]=a(b,c);var d=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];d[b>>1]=b&1;l(d,c);for(var e=0;12>e;e++)if(0<=d[e]){G[b][c]=e<<1|d[e];break}}}h=[];for(b=0;4>b;b++)c=[],f(c,72*(b+4)+2*(b+4),576,5,function(a,b){return 24*u[~~(a/24)][b]+G[a%24][b]}),h[b]=c}function B(a,b,d,e,f,g,h,k){if(0==g)return 0==a&&0==b&&8==d[0]&&12==e[0]&&(10==d[1]&&15==e[1]||12==d[1]&&
18==e[1]);if(c(p,a)>g||c(H,b)>g||c(f,24*e[0]+d[0]+576*(24*e[1]+d[1]))>g)return!1;var l,m;for(m=0;6>m;m++)if(m!=h&&m!=h-3){var n=a;var r=b;var v=d;var w=e;for(l=0;3>l;l++)if(n=q(n,m),r=t(r,m),v=[G[v[0]][m],G[v[1]][m]],w=[u[w[0]][m],u[w[1]][m]],B(n,r,v,w,f,g-1,m,k))return k.push("FRUBLD".charAt(m)+" 2'".charAt(l)),!0}return!1}function N(a,b,d,e,f,g,k,l){if(0==g)return 0==a&&0==b&&d==2*(f+4)&&e==3*(f+4);if(c(p,a)>g||c(H,b)>g||c(h[f],24*e+d)>g)return!1;var m,n;for(n=0;6>n;n++)if(n!=k&&n!=k-3){var r=a;
var v=b;var w=d;var x=e;for(m=0;3>m;m++)if(r=q(r,n),v=t(v,n),w=G[w][n],x=u[x][n],N(r,v,w,x,f,g-1,n,l))return l.push("FRUBLD".charAt(n)+" 2'".charAt(m)),!0}return!1}function F(a,b,d,e,f){if(0==d)return 0==a&&0==b;if(c(p,a)>d||c(H,b)>d)return!1;var g,h;for(h=0;6>h;h++)if(h!=e&&h!=e-3){var k=a;var l=b;for(g=0;3>g;g++)if(k=q(k,h),l=t(l,h),F(k,l,d-1,h,f))return f.push("FRUBLD".charAt(h)+" 2'".charAt(g)),!0}return!1}function E(a){n();for(var b=[],c=0;6>c;c++){for(var d=0,e=0,f=0;f<a.length;f++)for(var g=
P[c].indexOf("FRUBLD".charAt(a[f][0])),h=a[f][2],k=0;k<h;k++)d=t(d,g),e=q(e,g);f=[];for(g=0;100>g&&!F(e,d,g,-1,f);g++);f.reverse();b.push(f)}return b}function z(a,b){k();for(var c=0,d=0,e=[8,10,12,14],f=[12,15,18,21],g=0;g<a.length;g++)for(var h=P[b].indexOf("FRUBLD".charAt(a[g][0])),l=a[g][2],m=0;m<l;m++){c=t(c,h);d=q(d,h);for(var n=0;4>n;n++)e[n]=G[e[n]][h],f[n]=u[f[n]][h]}g=[];h=!1;for(l=0;!h;){for(n=0;4>n;n++)if(N(d,c,e[n],f[n],n,l,-1,g)){h=!0;break}l++}g.reverse();return g}function r(){r=$.noop;
n();w=[];f(w,0,190080,7,y,6,3,6)}function v(a){var b=~~(a/384),c=(a>>4)%24,d=[],f=[],h=[],k=[];e(a&15,k);g(h,c,4);a=4;c=[7,6,5,4,10,9,8,11,3,2,1,0];for(var l=0;12>l;l++)b>=A[11-l][a]?(b-=A[11-l][a--],d[c[l]]=h[a],f[c[l]]=k[a]):d[c[l]]=f[c[l]]=-1;return[d,f]}var p,H,h,w,L=[],m=[],D=[],G=[],u=[],J=[],K=[],M="DULRFB".split(""),P="FRUBLD FLDBRU FDRBUL FULBDR URBDLF DRFULB".split(" "),S="&nbsp;&nbsp; z2 z' z&nbsp; x' x&nbsp;".split(" "),T=["FRUBLD","RBULFD","BLUFRD","LFURBD"],Q;execMain(function(){function a(){var b=
$(this).parent(),c="DULRFB".indexOf(b.html()[0]);z(Q,c);var d=$(this).html();if("ec"==d){var e=z(Q,c);d="xx"}else if("xx"==d){var f=Q;x();e=[];for(d=0;4>d;d++){for(var g=0,h=0,k=[8,10,12],l=[12,15,18],m=0;m<f.length;m++)for(var n=T[d].indexOf("FRUBLD".charAt(P[c].indexOf("FRUBLD".charAt(f[m][0])))),p=f[m][2],r=0;r<p;r++)g=t(g,n),h=q(h,n),k=[G[k[0]][n],G[k[1]][n],G[k[2]][n]],l=[u[l[0]][n],u[l[1]][n],u[l[2]][n]];e.push([h,g,k,l])}f=[];m=!1;for(g=0;!m;){for(d=0;4>d;d++){h=e[d];if(B(h[0],h[1],[h[2][0],
h[2][1]],[h[3][0],h[3][1]],J,g,-1,f)){m=!0;break}if(B(h[0],h[1],[h[2][0],h[2][2]],[h[3][0],h[3][2]],K,g,-1,f)){m=!0;break}}g++}f.reverse();for(m=0;m<f.length;m++)f[m]=T[d]["FRUBLD".indexOf(f[m][0])]+f[m][1];e=f;d="<<"}else e=E(Q)[c],d="ec";d=$("<span />").html(d).addClass("click").click(a);b.empty().append(M[c]+"(",d,"): "+S[c],tools.getSolutionSpan(e),"<br>")}function b(b){if(b)if(tools.isPuzzle("333")){var c=tools.getCurScramble()[1];b.empty();Q=cubeutil.parseScramble(c,"FRUBLD");c=E(Q);for(var d=
0;6>d;d++){var e=$('<span class="sol"/>'),f=$("<span />").html("ec").addClass("click").click(a);e.append(M[d]+"(",f,"): "+S[d],tools.getSolutionSpan(c[d]),"<br>");b.append(e)}}else b.html(IMAGE_UNAVAILABLE)}$(function(){tools.regTool("cross",TOOLS_SOLVERS+">"+TOOLS_CROSS,b)})});return{solve:E,getEasyCross:function(a){r();var b=Math.min(a%10,8),d=Math.min(~~(a/10),8);a=Math.min(b,d);b=Math.max(b,d);d=[0,1,16,174,1568,11377,57758,155012,189978,190080];d=mathlib.rn(d[b+1]-d[a])+1;var e;for(e=0;190080>
e;e++){var f=c(w,e);if(f<=b&&f>=a&&0==--d)break}return v(e)},getEasyXCross:function(a){r();k();a=Math.max(0,Math.min(a,8));for(var b=[1,16,174,1568,11377,57758,155012,189978,190080][a],d=!1;!d;){for(var e=[],f=0;500>f;f++)e.push(mathlib.rn(b));e.sort(function(a,b){return b-a});var g=[],l=0;for(f=0;190080>f;f++)if(!(c(w,f)>a)){for(;e[e.length-1]==l;)g.push(f),e.pop();if(0==e.length)break;l++}e=mathlib.rndPerm(500);for(f=0;500>f;f++){var m=g[e[f]],n=~~(m/384),p=24*n+(m>>4)%24,q=n<<4|m&15,t=[];F(p,q,
a,-1,t);l=mathlib.rndPerm(8).slice(4);var u=mathlib.rndPerm(8),x=[0,0,0,0,0,0,0,0,0,0,0,0];t=4;for(var y=0;12>y;y++)n>=A[11-y][t]?(n-=A[11-y][t--],x[y]=-1):x[y]=u.pop();for(y=0;4>y;y++)if(l[y]=3*l[y]+mathlib.rn(3),u[y]=2*x.indexOf(y)+mathlib.rn(2),!(d||c(h[y],24*l[y]+u[y])>a))for(t=[],n=0;n<=a;n++)if(N(p,q,u[y],l[y],y,n,-1,t)){d=!0;break}if(d){a=v(m);a[2]=mathlib.valuedArray(8,-1);a[3]=mathlib.valuedArray(8,-1);b=[7,6,5,4,10,9,8,11,3,2,1,0];d=[6,5,4,7,2,1,0,3];for(f=0;4>f;f++)a[0][b[u[f]>>1]]=b[f+
4],a[1][b[u[f]>>1]]=u[f]%2,a[2][d[~~(l[f]/3)]]=d[f+4],a[3][d[~~(l[f]/3)]]=(30-l[f])%3;return a}}}}}}(mathlib.createMove,mathlib.edgeMove,mathlib.createPrun,mathlib.setNPerm,mathlib.getNPerm,mathlib.Cnk,mathlib.getPruning);var csTimerWorker=execBoth(function(){if(!window.Worker)return{};var a=new Worker("js/cstimer.js"),l={},f=0;a.onmessage=function(a){a=a.data;var b=l[a[0]];delete l[a[0]];b&&b(a[2])};a.postMessage([0,"set",["SCRAMBLE_NOOBST",SCRAMBLE_NOOBST]]);a.postMessage([0,"set",["SCRAMBLE_NOOBSS",SCRAMBLE_NOOBSS]]);return{getScramble:function(g,b){++f;l[f]=b;a.postMessage([f,"scramble",g]);return f}}},function(){self.kernel={getProp:function(a,b){return void 0==self[a]?b:self[a]},setProp:function(a,b){self[a]=
b}};var a={colcube:"#ff0#fa0#00f#fff#f00#0d0",colpyr:"#0f0#f00#00f#ff0",colskb:"#fff#00f#f00#ff0#0f0#f80",colmgm:"#fff#d00#060#81f#fc0#00b#ffb#8df#f83#7e0#f9f#999",colsq1:"#ff0#f80#0f0#fff#f00#00f",colclk:"#f00#37b#5cf#ff0#850",col15p:"#f99#9f9#99f#fff",colfto:"#fff#808#f00#0d0#00f#bbb#ff0#fa0",colico:"#fff#084#b36#a85#088#811#e71#b9b#05a#ed1#888#6a3#e8b#a52#6cb#c10#fa0#536#49c#ec9"},l;for(l in a)kernel.setProp(l,a[l]);var f={getScrambleTypes:function(){var a=[],b;for(b in scrMgr.scramblers)a.push(b);
return a},getScramble:function(){var a=scrMgr.scramblers[arguments[0]];a=a.apply(a,arguments);ISCSTIMER||(a=a.replace(/<span[^>]*>(.*?)<\/span>/ig,"$1 ").replace(/~/g,"").replace(/\\n/g,"\n").replace(/`([^`]*)`/g,"$1"));return a},setSeed:function(a){mathlib.setSeed(256,a.toString())},setGlobal:function(a,b){kernel.setProp(a,b)},getImage:function(a,b){var f=image.draw([b||"333",a]);return f&&f.render()}};self.onmessage=function(a){var b=a.data;a=b[0];var g=b[1];b=b[2];var c=void 0;switch(g){case "scrtype":c=
f.getScrambleTypes();break;case "scramble":c=f.getScramble.apply(null,b);break;case "seed":f.setSeed(b[0]);break;case "image":c=f.getImage.apply(null,b);break;case "set":f.setGlobal.apply(null,b)}postMessage([a,g,c])};"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports=f)});
